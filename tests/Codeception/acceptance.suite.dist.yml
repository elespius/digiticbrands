# Codeception Test Suite Configuration
# Suite for acceptance tests.
# Perform tests in browser using the WebDriver or PhpBrowser.
# If you need both WebDriver and PHPBrowser tests - create a separate suite.

class_name: AcceptanceTester
modules:
  enabled:
    - Asserts
    - Joomla\Browser\JoomlaBrowser
    - Helper\Acceptance
    - Helper\JoomlaDb
  config:
    Joomla\Browser\JoomlaBrowser:
      url: 'http://localhost/test-install'     # the url that points to the joomla installation at /tests/system/joomla-cms
      browser: 'chrome'
      window_size: 1920x1080
      capabilities:
        'goog:chromeOptions':
          args: [ "headless", "whitelisted-ips", "disable-gpu", "no-sandbox", "window-size=1920x1080", "--disable-dev-shm-usage" ]
      name: 'jane doe'                       # Name for the Administrator
      username: 'ci-admin'                   # UserName for the Administrator
      password: 'joomla-17082005'            # Password for the Administrator
      database host: 'mysql'                 # place where the Application is Hosted #server Address
      database user: 'root'                  # MySQL Server user ID, usually root
      database password: 'joomla_ut'         # MySQL Server password, usually empty or root
      database name: 'test_joomla'           # DB Name, at the Server
      database type: 'mysqli'                # type in lowercase one of the options: MySQL\MySQLi\PDO
      database prefix: 'jos_'                # DB Prefix for tables
      install sample data: 'no'              # Do you want to Download the Sample Data Along with Joomla Installation, then keep it Yes
      sample data: 'Default English (GB) Sample Data'    # Default Sample Data
      admin email: 'admin@example.org'       # email Id of the Admin
      language: 'English (United Kingdom)'   # Language in which you want the Application to be Installed
      timeout: 90                            # or 90000 the same result
      log_js_errors: true
      cmsPath: '/tests/www/test-install-test'        # ; If you want to setup your test website (document root) in a different folder, you can do that here.
      localUser: 'www-data'                          # (Linux / Mac only) If you want to set a different owner for the CMS test folder
    Helper\JoomlaDb:
      dsn: 'mysql:host=mysql;dbname=test_joomla'
      user: 'root'
      password: 'joomla_ut'
      prefix: 'jos_'

error_level: "E_ALL & ~E_STRICT & ~E_DEPRECATED"

env:
# API
  phpmin_api_mysql:
    modules:
      config:
        Joomla\Browser\JoomlaBrowser:
          url: 'http://localhost/phpmin_api_mysql'
          database prefix: 'pia_'
          cmsPath: '/tests/www/phpmin_api_mysql'
        Helper\JoomlaDb:
          prefix: 'pia_'
  phpmax_api_mysql:
    modules:
      config:
        Joomla\Browser\JoomlaBrowser:
          url: 'http://localhost/phpmax_api_mysql'
          database prefix: 'pxa_'
          cmsPath: '/tests/www/phpmax_api_mysql'
        Helper\JoomlaDb:
          prefix: 'pxa_'

  phpmin_api_postgres:
    modules:
      config:
        Joomla\Browser\JoomlaBrowser:
          url: 'http://localhost/phpmin_api_postgres'
          database host: 'postgres'
          database type: 'pgsql'
          database prefix: 'pia_'
          cmsPath: '/tests/www/phpmin_api_postgres'
        Helper\JoomlaDb:
          dsn: 'pgsql:host=postgres;dbname=test_joomla'
          prefix: 'pia_'
  phpmax_api_postgres:
    modules:
      config:
        Joomla\Browser\JoomlaBrowser:
          url: 'http://localhost/phpmax_api_postgres'
          database host: 'postgres'
          database type: 'pgsql'
          database prefix: 'pxa_'
          cmsPath: '/tests/www/phpmax_api_postgres'
        Helper\JoomlaDb:
          dsn: 'pgsql:host=postgres;dbname=test_joomla'
          prefix: 'pxa_'

# SYSTEM
  phpmin_system_mysql:
    modules:
      config:
        Joomla\Browser\JoomlaBrowser:
          url: 'http://localhost/phpmin_system_mysql'
          database prefix: 'pis_'
          cmsPath: '/tests/www/phpmin_system_mysql'
        Helper\JoomlaDb:
          prefix: 'pis_'

  phpmax_system_mysql:
    modules:
      config:
        Joomla\Browser\JoomlaBrowser:
          url: 'http://localhost/phpmax_system_mysql'
          database prefix: 'pxs_'
          cmsPath: '/tests/www/phpmax_system_mysql'
        Helper\JoomlaDb:
          prefix: 'pxs_'

  phpmin_system_mysql8:
    modules:
      config:
        Joomla\Browser\JoomlaBrowser:
          url: 'http://localhost/phpmin_system_mysql8'
          database host: 'mysql8'
          database prefix: 'pis_'
          cmsPath: '/tests/www/phpmin_system_mysql8'
        Helper\JoomlaDb:
          dsn: 'mysql:host=mysql8;dbname=test_joomla'
          prefix: 'pis_'
  phpmax_system_mysql8:
    modules:
      config:
        Joomla\Browser\JoomlaBrowser:
          url: 'http://localhost/phpmax_system_mysql8'
          database host: 'mysql8'
          database prefix: 'pxs_'
          cmsPath: '/tests/www/phpmax_system_mysql8'
        Helper\JoomlaDb:
          dsn: 'mysql:host=mysql8;dbname=test_joomla'
          prefix: 'pxs_'


  phpmin_system_postgres:
    modules:
      config:
        Joomla\Browser\JoomlaBrowser:
          url: 'http://localhost/phpmin_system_postgres'
          database host: 'postgres'
          database type: 'pgsql'
          database prefix: 'pis_'
          cmsPath: '/tests/www/phpmin_system_postgres'
        Helper\JoomlaDb:
          dsn: 'pgsql:host=postgres;dbname=test_joomla'
          prefix: 'pis_'

  phpmax_system_postgres:
    modules:
      config:
        Joomla\Browser\JoomlaBrowser:
          url: 'http://localhost/phpmax_system_postgres'
          database host: 'postgres'
          database type: 'pgsql'
          database prefix: 'pxs_'
          cmsPath: '/tests/www/phpmax_system_postgres'
        Helper\JoomlaDb:
          dsn: 'pgsql:host=postgres;dbname=test_joomla'
          prefix: 'pxs_'
