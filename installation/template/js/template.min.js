Joomla=window.Joomla||{},Joomla.installation=Joomla.installation||{},Joomla.serialiseForm=function(o){var e,a,l=[],t=o.querySelectorAll("input, select, textarea");for(e=0,a=t.length;e<a;e++){var r=t[e].name,n=t[e].value;r&&("checkbox"===t[e].type&&!0===t[e].checked||"checkbox"!==t[e].type)&&l.push(r.replace("[","%5B").replace("]","%5D")+"="+encodeURIComponent(n))}return l.join("&")},Joomla.goToPage=function(o,e){return e||(Joomla.removeMessages(),Joomla.loadingLayer("show")),o&&(window.location=Joomla.baseUrl+"?view="+o+"&layout=default"),!1},Joomla.submitform=function(o){var e=Joomla.serialiseForm(o);return Joomla.loadingLayer("show"),Joomla.removeMessages(),Joomla.request({type:"POST",url:Jooomla.baseUrl,data:e,dataType:"json",onSuccess:function(o,e){(o=JSON.parse(o)).messages&&Joomla.renderMessages(o.messages),o.error?(Joomla.renderMessages({error:[o.message]}),Joomla.loadingLayer("hide")):(Joomla.loadingLayer("hide"),o.data&&o.data.view&&Install.goToPage(o.data.view,!0))},onError:function(o){Joomla.loadingLayer("hide"),busy=!1;try{var e=JSON.parse(o.responseText);Joomla.replaceTokens(e.token),alert(e.message)}catch(o){}}}),!1},Joomla.scrollTo=function(o,e){var a=o.scrollTop;a+=.3*(e-a),Math.abs(a-e)<2?o.scrollTop=e:(o.scrollTop=a,setTimeout(Joomla.scrollTo,40,o,e))},Joomla.checkFormField=function(o){var e=[];return o.forEach(function(o){e.push(document.formvalidator.validate(document.querySelector(o)))}),!(e.indexOf(!1)>-1)},Joomla.makeRandomDbPrefix=function(){for(var o="abcdefghijklmnopqrstuvwxyz",e=o[Math.floor(24*Math.random())],a=0;a<4;a++)e+="0123456789abcdefghijklmnopqrstuvwxyz"[Math.floor(34*Math.random())];return document.getElementById("jform_db_prefix").value=e+"_",e+"_"},Joomla.pageInit=function(){return[].slice.call(document.querySelectorAll("form.form-validate")).forEach(function(o){document.formvalidator.attachToForm(o)}),Joomla.loadingLayer("load"),Joomla.installation=Joomla.installation||{},"Loaded..."},Joomla.install=function(o,e){if(!e)throw new Error("No form provided");if(o.length){var a=o.shift(),l=Joomla.serialiseForm(e);Joomla.loadingLayer("show"),Joomla.request({method:"POST",url:Joomla.baseUrl+"?task=installation."+a+"&format=json",data:l,perform:!0,onSuccess:function(a,l){a=JSON.parse(a),Joomla.replaceTokens(a.token),a.messages?(Joomla.renderMessages(a.messages),Joomla.goToPage(a.data.view,!0)):(Joomla.loadingLayer("hide"),Joomla.install(o,e))},onError:function(o){Joomla.renderMessages([["",Joomla.JText._("JLIB_DATABASE_ERROR_DATABASE_CONNECT","A Database error occurred.")]]),Joomla.goToPage("remove");try{var e=JSON.parse(o.responseText);Joomla.replaceTokens(e.token),alert(e.message)}catch(o){}}})}else Joomla.goToPage("remove")},document.addEventListener("DOMContentLoaded",function(){var o=document.getElementById("installer-view");Joomla.baseUrl=Joomla.getOptions("system.installation").url?Joomla.getOptions("system.installation").url.replace(/&amp;/g,"&"):"index.php";var e=document.getElementById("container-installation");if(!e)throw new Error("Javascript required to be enabled!");if(Joomla.installationBaseUrl=e.getAttribute("data-base-url"),Joomla.installationBaseUrl+="installation/index.php",o&&o.getAttribute("data-page-name")){var a=document.querySelector('script[src*="template.js"]');el=document.createElement("script"),el.src=a.src.replace("template.js",o.getAttribute("data-page-name")+".js"),document.head.appendChild(el)}e&&(e.classList.remove("no-js"),e.style.display="block")});