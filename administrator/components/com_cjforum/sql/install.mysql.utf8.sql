CREATE TABLE IF NOT EXISTS `#__cjforum_topics` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `asset_id` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'FK to the #__assets table.',
  `title` varchar(255) NOT NULL DEFAULT '',
  `alias` varchar(255) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL DEFAULT '',
  `introtext` mediumtext NOT NULL,
  `fulltext` mediumtext NOT NULL,
  `state` tinyint(3) NOT NULL DEFAULT '0',
  `featured` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT 'Set if topic is featured.',
  `hits` int(10) unsigned NOT NULL DEFAULT '0',
  `catid` int(10) unsigned NOT NULL DEFAULT '0',
  `created` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `created_by` int(10) unsigned NOT NULL DEFAULT '0',
  `created_by_alias` varchar(255) NOT NULL DEFAULT '',
  `modified` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `modified_by` int(10) unsigned NOT NULL DEFAULT '0',
  `replied` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `replied_by` int(10) unsigned NOT NULL DEFAULT '0',
  `last_reply` INTEGER UNSIGNED NOT NULL DEFAULT '0',
  `replies` int(10) unsigned NOT NULL DEFAULT '0',
  `locked` tinyint(3) unsigned NOT NULL DEFAULT '0',
  `locked_by` int(10) unsigned NOT NULL DEFAULT '0',
  `likes` int(10) unsigned NOT NULL DEFAULT '0',
  `dislikes` int(10) unsigned NOT NULL DEFAULT '0',
  `checked_out` int(10) unsigned NOT NULL DEFAULT '0',
  `checked_out_time` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `publish_up` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `publish_down` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `images` text NOT NULL,
  `urls` text NOT NULL,
  `attribs` varchar(5120) NOT NULL,
  `version` int(10) unsigned NOT NULL DEFAULT '1',
  `ordering` int(11) NOT NULL DEFAULT '0',
  `metakey` text NOT NULL,
  `metadesc` text NOT NULL,
  `access` int(10) unsigned NOT NULL DEFAULT '0',
  `metadata` text NOT NULL,
  `language` char(7) NOT NULL COMMENT 'The language code for the topic.',
  `xreference` varchar(50) NOT NULL COMMENT 'A reference to enable linkages to external data sets.',
  `ip_address` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_cjforum_topics_access` (`access`),
  KEY `idx_cjforum_topics_checkout` (`checked_out`),
  KEY `idx_cjforum_topics_state` (`state`),
  KEY `idx_cjforum_topics_catid` (`catid`),
  KEY `idx_cjforum_topics_createdby` (`created_by`),
  KEY `idx_cjforum_topics_featured_catid` (`featured`,`catid`),
  KEY `idx_cjforum_topics_likes` (`likes`),
  KEY `idx_cjforum_topics_dislikes` (`dislikes`),
  KEY `idx_cjforum_topics_language` (`language`),
  KEY `idx_cjforum_topics_xreference` (`xreference`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `#__cjforum_replies` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `description` mediumtext NOT NULL,
  `state` tinyint(3) NOT NULL DEFAULT '0',
  `topic_id` int(10) unsigned NOT NULL DEFAULT '0',
  `featured` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT 'Set if reply is featured.',
  `likes` int(10) unsigned NOT NULL DEFAULT '0',
  `dislikes` int(10) unsigned NOT NULL DEFAULT '0',
  `created` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `created_by` int(10) unsigned NOT NULL DEFAULT '0',
  `created_by_alias` varchar(255) NOT NULL DEFAULT '',
  `modified` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `modified_by` int(10) unsigned NOT NULL DEFAULT '0',
  `checked_out` int(10) unsigned NOT NULL DEFAULT '0',
  `checked_out_time` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `publish_up` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `publish_down` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `images` text NOT NULL,
  `attribs` varchar(5120) NOT NULL,
  `ordering` int(11) NOT NULL DEFAULT '0',
  `access` int(10) unsigned NOT NULL DEFAULT '0',
  `version` int(10) unsigned NOT NULL DEFAULT '1',
  `ip_address` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_cjforum_replies_access` (`access`),
  KEY `idx_cjforum_replies_checkout` (`checked_out`),
  KEY `idx_cjforum_replies_state` (`state`),
  KEY `idx_cjforum_replies_createdby` (`created_by`),
  KEY `idx_cjforum_replies_topicid` (`topic_id`),
  KEY `idx_cjforum_replies_created` (`created`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `#__cjforum_thankyou` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `created_by` int(10) unsigned NOT NULL,
  `created` datetime NOT NULL,
  `assigned_to` int(10) unsigned NOT NULL,
  `item_id` int(10) unsigned NOT NULL,
  `item_type` int(10) unsigned NOT NULL,
  `published` tinyint(4) unsigned NOT NULL DEFAULT '1',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_cjforum_thankyou` (`created_by`,`item_id`,`item_type`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `#__cjforum_user_ratings` (
  `item_id` int(10) unsigned NOT NULL,
  `item_type` int(10) unsigned NOT NULL,
  `user_id` int(10) unsigned NOT NULL,
  `action_value` varchar(45) NOT NULL COMMENT '1 - topic like, 2 - reply like, 3 - favorite',
  `created` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `modified` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  KEY `idx_cjforum_user_actions_itemid` (`item_id`),
  KEY `idx_cjforum_user_actions_userid` (`user_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `#__cjforum_attachments` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `post_id` int(11) NOT NULL DEFAULT '0',
  `post_type` tinyint(4) NOT NULL DEFAULT '0',
  `created_by` int(11) NOT NULL DEFAULT '0',
  `hash` char(32) DEFAULT NULL,
  `filesize` int(11) DEFAULT NULL,
  `folder` varchar(255) NOT NULL,
  `filetype` varchar(20) NOT NULL,
  `filename` varchar(255) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `cjforum_attachments_post_id` (`post_id`),
  KEY `created_by` (`created_by`),
  KEY `hash` (`hash`),
  KEY `filename` (`filename`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `#__cjforum_ranks` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `asset_id` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'FK to the #__assets table.',
  `title` varchar(255) NOT NULL DEFAULT '',
  `alias` varchar(255) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL DEFAULT '',
  `introtext` mediumtext NOT NULL,
  `fulltext` mediumtext NOT NULL,
  `state` tinyint(3) NOT NULL DEFAULT '0',
  `catid` int(10) unsigned NOT NULL DEFAULT '0',
  `featured` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT 'Set if rank is featured.',
  `rank_type` tinyint(3) unsigned NOT NULL DEFAULT '0',
  `rank_image` varchar(128) DEFAULT NULL,
  `rank_class` varchar(64) DEFAULT NULL,
  `min_posts` int(10) unsigned NOT NULL DEFAULT '0',
  `created` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `created_by` int(10) unsigned NOT NULL DEFAULT '0',
  `created_by_alias` varchar(255) DEFAULT NULL,
  `modified` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `modified_by` int(10) unsigned NOT NULL DEFAULT '0',
  `checked_out` int(10) unsigned NOT NULL DEFAULT '0',
  `checked_out_time` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `publish_up` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `publish_down` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `images` text NOT NULL,
  `urls` text NOT NULL,
  `attribs` varchar(5120) NOT NULL,
  `version` int(10) unsigned NOT NULL DEFAULT '1',
  `ordering` int(11) NOT NULL DEFAULT '0',
  `metakey` text NOT NULL,
  `metadesc` text NOT NULL,
  `access` int(10) unsigned NOT NULL DEFAULT '0',
  `hits` int(10) unsigned NOT NULL DEFAULT '0',
  `metadata` text NOT NULL,
  `language` char(7) NOT NULL COMMENT 'The language code for the topic.',
  `xreference` varchar(50) NOT NULL COMMENT 'A reference to enable linkages to external data sets.',
  PRIMARY KEY (`id`),
  KEY `idx_cjforum_topic_access` (`access`),
  KEY `idx_cjforum_topic_checkout` (`checked_out`),
  KEY `idx_cjforum_topic_state` (`state`),
  KEY `idx_cjforum_topic_catid` (`catid`),
  KEY `idx_cjforum_topic_createdby` (`created_by`),
  KEY `idx_cjforum_topic_language` (`language`),
  KEY `idx_cjforum_topic_xreference` (`xreference`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `#__cjforum_activity_types` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `title` varchar(255) NOT NULL,
  `alias` varchar(255) NOT NULL,
  `description` mediumtext NOT NULL,
  `app_name` varchar(128) NOT NULL,
  `activity_name` varchar(64) NOT NULL,
  `published` tinyint(4) NOT NULL DEFAULT '0',
  `created` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `created_by` int(10) unsigned NOT NULL DEFAULT '0',
  `checked_out` int(10) unsigned NOT NULL DEFAULT '0',
  `checked_out_time` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `access` int(10) unsigned NOT NULL DEFAULT '0',
  `language` char(7) NOT NULL DEFAULT '*',
  `ordering` int(10) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_cjforum_activity_types_name` (`activity_name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `#__cjforum_activity` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `title` varchar(999) NOT NULL,
  `description` mediumtext NOT NULL,
  `activity_type` int(10) unsigned NOT NULL,
  `item_id` int(10) unsigned NOT NULL DEFAULT '0',
  `parent_id` int(10) unsigned NOT NULL,
  `published` tinyint(4) NOT NULL DEFAULT '0',
  `featured` tinyint(1) NOT NULL DEFAULT '0',
  `likes` int(10) unsigned NOT NULL DEFAULT '0',
  `dislikes` int(10) unsigned NOT NULL DEFAULT '0',
  `created_by` int(10) unsigned NOT NULL,
  `created` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `language` char(7) NOT NULL DEFAULT '*',
  `checked_out` int(10) unsigned NOT NULL DEFAULT '0',
  `checked_out_time` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `access` int(10) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `idx_cjforum_activity_created` (`created`),
  KEY `idx_cjforum_activity_created_by` (`created_by`),
  KEY `idx_cjforum_activity_parent_id` (`parent_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `#__cjforum_activity_comments` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `parent_id` int(10) unsigned NOT NULL,
  `description` mediumtext NOT NULL,
  `created` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `created_by` int(10) unsigned NOT NULL,
  `published` tinyint(4) unsigned NOT NULL DEFAULT '0',
  `likes` int(10) unsigned NOT NULL DEFAULT '0',
  `dislikes` int(10) unsigned NOT NULL DEFAULT '0',
  `access` int(10) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `idx_cjforum_activity_comments_created` (`created`),
  KEY `idx_cjforum_activity_comments_created_by` (`created_by`),
  KEY `idx_cjforum_activity_comments_parent_id` (`parent_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `#__cjforum_favorites` (
  `user_id` int(10) unsigned NOT NULL,
  `item_id` int(10) unsigned NOT NULL,
  `item_type` tinyint(4) unsigned NOT NULL,
  `created` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `state` tinyint(4) NOT NULL,
  UNIQUE KEY `idx_cjforum_user_favorites_uniq` (`user_id`,`item_id`,`item_type`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `#__cjforum_followers` (
  `user_id` int(10) unsigned NOT NULL,
  `follower_id` int(10) unsigned NOT NULL,
  `since` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  UNIQUE KEY `idx_cjforum_followers_uniq` (`user_id`,`follower_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `#__cjforum_messages` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `title` varchar(255) NOT NULL DEFAULT '',
  `alias` varchar(255) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL DEFAULT '',
  `description` mediumtext NOT NULL,
  `state` tinyint(3) NOT NULL DEFAULT '0',
  `created` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `created_by` int(10) unsigned NOT NULL DEFAULT '0',
  `created_by_alias` varchar(255) NOT NULL DEFAULT '',
  `modified` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `modified_by` int(10) unsigned NOT NULL DEFAULT '0',
  `last_reply` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `checked_out` int(10) unsigned NOT NULL DEFAULT '0',
  `checked_out_time` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `publish_up` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `publish_down` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `version` int(10) unsigned NOT NULL DEFAULT '1',
  `ordering` int(11) NOT NULL DEFAULT '0',
  `access` int(10) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `idx_access` (`access`),
  KEY `idx_checkout` (`checked_out`),
  KEY `idx_state` (`state`),
  KEY `idx_createdby` (`created_by`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `#__cjforum_messages_map` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `parent_id` int(10) unsigned NOT NULL DEFAULT '0',
  `message_id` int(10) unsigned NOT NULL DEFAULT '0',
  `sender_id` int(10) unsigned NOT NULL DEFAULT '0',
  `receiver_id` int(10) unsigned NOT NULL DEFAULT '0',
  `sender_state` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '''0 - sent, 2 - archived, 3 - deleted''',
  `receiver_state` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '''0 - new, 1 -read, 2 - archived, 3 - deleted',
  PRIMARY KEY (`id`),
  KEY `idx_cjforum_messages_map_sender_id` (`sender_id`),
  KEY `idx_cjforum_messages_map_receiver_id` (`receiver_id`),
  KEY `idx_cjforum_messages_map_parent_id` (`parent_id`),
  KEY `idx_cjforum_messages_map_message_id` (`message_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `#__cjforum_points` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `title` varchar(5120) NOT NULL,
  `user_id` int(10) unsigned NOT NULL,
  `rule_id` int(10) unsigned NOT NULL,
  `published` tinyint(4) NOT NULL DEFAULT '1',
  `points` int(11) NOT NULL DEFAULT '0',
  `ref_id` varchar(255) DEFAULT NULL,
  `description` text,
  `created_by` int(10) unsigned NOT NULL,
  `created` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `checked_out` int(10) unsigned NOT NULL DEFAULT '0',
  `checked_out_time` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `publish_up` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `publish_down` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  PRIMARY KEY (`id`),
  KEY `idx_cjforum_points_rule_id` (`rule_id`),
  KEY `idx_cjforum_points_user_id` (`user_id`),
  KEY `idx_cjforum_points_state` (`published`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `#__cjforum_points_rules` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `title` varchar(255) NOT NULL,
  `description` mediumtext CHARACTER SET latin1 NOT NULL,
  `app_name` varchar(128) NOT NULL,
  `rule_name` varchar(255) CHARACTER SET latin1 NOT NULL,
  `points` int(11) NOT NULL DEFAULT '0',
  `published` tinyint(4) NOT NULL,
  `auto_approve` tinyint(1) NOT NULL DEFAULT '1',
  `access` int(6) unsigned NOT NULL DEFAULT '1',
  `checked_out` int(10) unsigned NOT NULL DEFAULT '0',
  `checked_out_time` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `created_by` int(10) unsigned NOT NULL DEFAULT '0',
  `created` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `ordering` int(10) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx_cjforum_points_rule_name_uniq` (`rule_name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `#__cjforum_users` (
  `id` int(10) unsigned NOT NULL DEFAULT '0',
  `about` mediumtext,
  `handle` varchar(32) NOT NULL,
  `avatar` varchar(64) NOT NULL,
  `banner` varchar(255) NOT NULL,
  `signature` text,
  `hits` int(10) unsigned NOT NULL DEFAULT '0',
  `gender` tinyint(4) unsigned NOT NULL DEFAULT '0' COMMENT 'default 0 for not specified',
  `location` varchar(50) DEFAULT NULL,
  `rank` int(10) unsigned NOT NULL DEFAULT '0',
  `points` int(10) unsigned NOT NULL DEFAULT '0',
  `topics` int(10) unsigned NOT NULL DEFAULT '0',
  `replies` int(10) unsigned NOT NULL DEFAULT '0',
  `fans` int(10) unsigned NOT NULL DEFAULT '0',
  `thankyou` int(10) unsigned NOT NULL DEFAULT '0',
  `birthday` date NOT NULL DEFAULT '0000-00-00',
  `last_post_time` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `banned` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `checked_out_time` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `current_access_date` datetime DEFAULT NULL,
  `last_access_date` datetime DEFAULT NULL,
  `checked_out` int(10) unsigned NOT NULL DEFAULT '0',
  `twitter` varchar(45) DEFAULT NULL,
  `facebook` varchar(45) DEFAULT NULL,
  `gplus` varchar(45) DEFAULT NULL,
  `linkedin` varchar(45) DEFAULT NULL,
  `flickr` varchar(45) DEFAULT NULL,
  `bebo` varchar(45) DEFAULT NULL,
  `skype` varchar(45) DEFAULT NULL,
  `metakey` text,
  `metadesc` text,
  `metadata` text,
  `attribs` varchar(5120) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_cjforum_users_rank` (`rank`),
  KEY `idx_cjforum_users_handle` (`handle`),
  KEY `idx_cjforum_users_points` (`points`),
  KEY `idx_cjforum_users_topics` (`topics`),
  KEY `idx_cjforum_users_replies` (`replies`),
  KEY `idx_cjforum_users_fans` (`fans`),
  KEY `idx_cjforum_users_thankyou` (`thankyou`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `#__cjforum_email_templates` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `title` varchar(255) NOT NULL,
  `description` mediumtext NOT NULL,
  `published` tinyint(4) NOT NULL DEFAULT '0',
  `email_type` varchar(45) NOT NULL,
  `ordering` int(11) unsigned NOT NULL DEFAULT '0',
  `created` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `created_by` int(10) unsigned NOT NULL DEFAULT '0',
  `checked_out` int(10) unsigned NOT NULL DEFAULT '0',
  `checked_out_time` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `access` int(10) unsigned NOT NULL DEFAULT '1',
  `language` char(7) NOT NULL DEFAULT '*',
  `publish_up` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `publish_down` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `#__cjforum_subscribes` (
  `subscriber_id` int(10) unsigned NOT NULL DEFAULT '0',
  `subscription_type` int(10) unsigned NOT NULL DEFAULT '1',
  `subscription_id` int(10) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`subscriber_id`,`subscription_type`,`subscription_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `#__cjforum_tracking` (
  `post_id` int(10) unsigned NOT NULL DEFAULT '0',
  `post_type` varchar(6) NOT NULL DEFAULT '0',
  `ip_address` varchar(39) DEFAULT NULL,
  `country` varchar(3) DEFAULT NULL,
  `city` varchar(128) DEFAULT NULL,
  `browser_name` varchar(32) DEFAULT NULL,
  `browser_version` varchar(24) DEFAULT NULL,
  `os` varchar(32) DEFAULT NULL,
  `browser_info` text,
  PRIMARY KEY (`post_id`,`post_type`) USING BTREE,
  KEY `idx_cjforum_tracking_country` (`country`),
  KEY `idx_cjforum_tracking_city` (`city`),
  KEY `idx_cjforum_tracking_browser` (`browser_name`),
  KEY `idx_cjforum_tracking_os` (`os`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

INSERT INTO `#__cjforum_email_templates` (`id`,`title`,`description`,`published`,`email_type`,`ordering`,`created`,`created_by`,`checked_out`,`checked_out_time`,`access`,`language`,`publish_up`,`publish_down`) VALUES 
 (1,'New topic: {TOPIC_TITLE}','<div style=\"background-color: #e0e0e0; padding: 10px 20px;\">\r\n<div style=\"background-color: #f9f9f9; border-radius: 10px; padding: 5px 10px;\">\r\n<p>Hello {NAME},</p>\r\n<p>{AUTHOR_NAME} submitted new topic&nbsp;<strong>{TOPIC_TITLE}.</strong></p>\r\n<p><a href=\"{TOPIC_URL}\" class=\"btn-primary\" style=\"font-family: \'Helvetica Neue\', \'Helvetica\', Helvetica, Arial, sans-serif; font-size: 100%; line-height: 2; color: #fff; text-decoration: none; font-weight: bold; text-align: center; cursor: pointer; display: inline-block; border-radius: 25px; background-color: #348eda; margin: 0 10px 0 0; padding: 0; border-color: #348eda; border-style: solid; border-width: 5px 10px;\">&nbsp;&nbsp;View Topic &nbsp;</a></p>\r\n<div>&nbsp;</div>\r\n<div>Have fun interacting with friends and other members on our forum.</div>\r\n<div>The {SITENAME} Forum Team<br /><br /></div>\r\n</div>\r\n<p>You are receiving this automatic email message because you have a subscription <span style=\"color: #666677; font-size: x-small; background-color: #e0e0e0;\">at {SITENAME}.</span></p>\r\n</div>',1,'com_cjforum.new_topic',0,'0000-00-00 00:00:00',0,0,'0000-00-00 00:00:00',1,'*','2015-01-31 14:53:55','0000-00-00 00:00:00'),
 (2,'New reply: {TOPIC_TITLE}','<div style=\"background-color: #e0e0e0; padding: 10px 20px;\">\r\n<div style=\"background-color: #f9f9f9; border-radius: 10px; padding: 5px 10px;\">\r\n<p>Hello {NAME},</p>\r\n<p>{AUTHOR_NAME} submitted a new reply to your topic&nbsp;<strong>{TOPIC_TITLE}.</strong></p>\r\n<p><a href=\"{TOPIC_URL}\" class=\"btn-primary\" style=\"font-family: \'Helvetica Neue\', \'Helvetica\', Helvetica, Arial, sans-serif; font-size: 100%; line-height: 2; color: #fff; text-decoration: none; font-weight: bold; text-align: center; cursor: pointer; display: inline-block; border-radius: 25px; background-color: #348eda; margin: 0 10px 0 0; padding: 0; border-color: #348eda; border-style: solid; border-width: 5px 10px;\">&nbsp;&nbsp;View Reply&nbsp;&nbsp;</a></p>\r\n<div>&nbsp;</div>\r\n<div>Have fun interacting with friends and other members on our forum.</div>\r\n<div>The {SITENAME} Forum Team<br /><br /></div>\r\n</div>\r\n<p>You are receiving this automatic email message because you have a subscription <span style=\"color: #666677; font-size: x-small; background-color: #e0e0e0;\">at {SITENAME}.</span></p>\r\n</div>',1,'com_cjforum.new_reply',0,'0000-00-00 00:00:00',0,0,'0000-00-00 00:00:00',1,'*','2015-01-31 13:46:08','0000-00-00 00:00:00'),
 (3,'Liked your topic: {TOPIC_TITLE}','<div style=\"background-color: #e0e0e0; padding: 10px 20px;\">\r\n<div style=\"background-color: #f9f9f9; border-radius: 10px; padding: 5px 10px;\">\r\n<p>Hello {NAME},</p>\r\n<p>{AUTHOR_NAME} liked your topic&nbsp;<strong>{TOPIC_TITLE}.</strong></p>\r\n<p><a href=\"{TOPIC_URL}\" class=\"btn-primary\" style=\"font-family: \'Helvetica Neue\', \'Helvetica\', Helvetica, Arial, sans-serif; font-size: 100%; line-height: 2; color: #fff; text-decoration: none; font-weight: bold; text-align: center; cursor: pointer; display: inline-block; border-radius: 25px; background-color: #348eda; margin: 0 10px 0 0; padding: 0; border-color: #348eda; border-style: solid; border-width: 5px 10px;\">&nbsp;&nbsp;View Topic &nbsp;</a></p>\r\n<div>&nbsp;</div>\r\n<div>Have fun interacting with friends and other members on our forum.</div>\r\n<div>The {SITENAME} Forum Team<br /><br /></div>\r\n</div>\r\n<p>You are receiving this automatic email message because you have a subscription <span style=\"color: #666677; font-size: x-small; background-color: #e0e0e0;\">at {SITENAME}.</span></p>\r\n</div>',1,'com_cjforum.like_topic',0,'0000-00-00 00:00:00',0,0,'0000-00-00 00:00:00',1,'*','2015-01-31 14:55:05','0000-00-00 00:00:00'),
 (4,'Disliked your topic: {TOPIC_TITLE}','<div style=\"background-color: #e0e0e0; padding: 10px 20px;\">\r\n<div style=\"background-color: #f9f9f9; border-radius: 10px; padding: 5px 10px;\">\r\n<p>Hello {NAME},</p>\r\n<p>{AUTHOR_NAME} disliked your topic&nbsp;<strong>{TOPIC_TITLE}.</strong></p>\r\n<p><a href=\"{TOPIC_URL}\" class=\"btn-primary\" style=\"font-family: \'Helvetica Neue\', \'Helvetica\', Helvetica, Arial, sans-serif; font-size: 100%; line-height: 2; color: #fff; text-decoration: none; font-weight: bold; text-align: center; cursor: pointer; display: inline-block; border-radius: 25px; background-color: #348eda; margin: 0 10px 0 0; padding: 0; border-color: #348eda; border-style: solid; border-width: 5px 10px;\">&nbsp;&nbsp;View Topic &nbsp;</a></p>\r\n<div>&nbsp;</div>\r\n<div>Have fun interacting with friends and other members on our forum.</div>\r\n<div>The {SITENAME} Forum Team<br /><br /></div>\r\n</div>\r\n<p>You are receiving this automatic email message because you have a subscription <span style=\"color: #666677; font-size: x-small; background-color: #e0e0e0;\">at {SITENAME}.</span></p>\r\n</div>',1,'com_cjforum.dislike_topic',0,'0000-00-00 00:00:00',0,0,'0000-00-00 00:00:00',1,'*','2015-01-31 14:55:29','0000-00-00 00:00:00'),
 (5,'Liked your reply: {TOPIC_TITLE}','<div style=\"background-color: #e0e0e0; padding: 10px 20px;\">\r\n<div style=\"background-color: #f9f9f9; border-radius: 10px; padding: 5px 10px;\">\r\n<p>Hello {NAME},</p>\r\n<p>{AUTHOR_NAME} liked your reply to the topic&nbsp;<strong>{TOPIC_TITLE}.</strong></p>\r\n<p><a href=\"{TOPIC_URL}\" class=\"btn-primary\" style=\"font-family: \'Helvetica Neue\', \'Helvetica\', Helvetica, Arial, sans-serif; font-size: 100%; line-height: 2; color: #fff; text-decoration: none; font-weight: bold; text-align: center; cursor: pointer; display: inline-block; border-radius: 25px; background-color: #348eda; margin: 0 10px 0 0; padding: 0; border-color: #348eda; border-style: solid; border-width: 5px 10px;\">&nbsp;&nbsp;View Reply &nbsp;</a></p>\r\n<div>&nbsp;</div>\r\n<div>Have fun interacting with friends and other members on our forum.</div>\r\n<div>The {SITENAME} Forum Team<br /><br /></div>\r\n</div>\r\n<p>You are receiving this automatic email message because you have a subscription <span style=\"color: #666677; font-size: x-small; background-color: #e0e0e0;\">at {SITENAME}.</span></p>\r\n</div>',1,'com_cjforum.like_reply',0,'0000-00-00 00:00:00',0,0,'0000-00-00 00:00:00',1,'*','2015-01-31 14:56:03','0000-00-00 00:00:00'),
 (6,'Disliked your reply: {TOPIC_TITLE}','<div style=\"background-color: #e0e0e0; padding: 10px 20px;\">\r\n<div style=\"background-color: #f9f9f9; border-radius: 10px; padding: 5px 10px;\">\r\n<p>Hello {NAME},</p>\r\n<p>{AUTHOR_NAME} disliked your topic&nbsp;<strong>{TOPIC_TITLE}.</strong></p>\r\n<p><a href=\"{TOPIC_URL}\" class=\"btn-primary\" style=\"font-family: \'Helvetica Neue\', \'Helvetica\', Helvetica, Arial, sans-serif; font-size: 100%; line-height: 2; color: #fff; text-decoration: none; font-weight: bold; text-align: center; cursor: pointer; display: inline-block; border-radius: 25px; background-color: #348eda; margin: 0 10px 0 0; padding: 0; border-color: #348eda; border-style: solid; border-width: 5px 10px;\">&nbsp;&nbsp;View Topic &nbsp;</a></p>\r\n<div>&nbsp;</div>\r\n<div>Have fun interacting with friends and other members on our forum.</div>\r\n<div>The {SITENAME} Forum Team<br /><br /></div>\r\n</div>\r\n<p>You are receiving this automatic email message because you have a subscription <span style=\"color: #666677; font-size: x-small; background-color: #e0e0e0;\">at {SITENAME}.</span></p>\r\n</div>',1,'com_cjforum.dislike_reply',0,'0000-00-00 00:00:00',0,0,'0000-00-00 00:00:00',1,'*','2015-01-31 14:56:25','0000-00-00 00:00:00'),
 (7,'Thank you: {TOPIC_TITLE}','<div style=\"background-color: #e0e0e0; padding: 10px 20px;\">\r\n<div style=\"background-color: #f9f9f9; border-radius: 10px; padding: 5px 10px;\">\r\n<p>Hello {NAME},</p>\r\n<p>{AUTHOR_NAME} said thank you to your reply to the topic&nbsp;<strong>{TOPIC_TITLE}.</strong></p>\r\n<p><a href=\"{TOPIC_URL}\" class=\"btn-primary\" style=\"font-family: \'Helvetica Neue\', \'Helvetica\', Helvetica, Arial, sans-serif; font-size: 100%; line-height: 2; color: #fff; text-decoration: none; font-weight: bold; text-align: center; cursor: pointer; display: inline-block; border-radius: 25px; background-color: #348eda; margin: 0 10px 0 0; padding: 0; border-color: #348eda; border-style: solid; border-width: 5px 10px;\">&nbsp;&nbsp;View Reply &nbsp;</a></p>\r\n<div>&nbsp;</div>\r\n<div>Have fun interacting with friends and other members on our forum.</div>\r\n<div>The {SITENAME} Forum Team<br /><br /></div>\r\n</div>\r\n<p>You are receiving this automatic email message because you have a subscription <span style=\"color: #666677; font-size: x-small; background-color: #e0e0e0;\">at {SITENAME}.</span></p>\r\n</div>',1,'com_cjforum.thank_you',0,'0000-00-00 00:00:00',0,0,'0000-00-00 00:00:00',1,'*','2015-01-31 14:57:21','0000-00-00 00:00:00')
ON DUPLICATE KEY UPDATE created = VALUES (created);