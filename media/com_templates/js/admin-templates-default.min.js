!function(){"use strict";document.addEventListener("DOMContentLoaded",function(){for(var e=document.querySelectorAll(".folder-url, .component-folder-url, .layout-folder-url"),t=document.querySelectorAll(".folder ul, .component-folder ul, .layout-folder ul"),l=0,r=t.length;r>l;l++)t[l].style.display="none";for(var d=document.querySelectorAll(".show > ul"),l=0,r=d.length;r>l;l++)d[l].style.display="block";for(var l=0,r=e.length;r>l;l++)e[l].addEventListener("click",function(e){e.preventDefault();var t=this.parentNode.querySelector("ul");"none"!==t.style.display?t.style.display="none":t.style.display="block"});for(var n=document.querySelectorAll("#fileModal .folder-url"),l=0,r=n.length;r>l;l++)n[l].addEventListener("click",function(e){e.preventDefault();for(var t=0,l=n.length;l>t;t++)n[t].classList.remove("selected");e.target.classList.add("selected");for(var r=document.querySelectorAll("#fileModal input.address"),t=0;t<r.length;t++)r[t].value=e.target.getAttribute("data-id")});for(var a=document.querySelectorAll("#fileModal .folder-url"),l=0,r=a.length;r>l;l++)a[l].addEventListener("click",function(e){e.preventDefault();for(var t=0,l=a.length;l>t;t++)a[t].classList.remove("selected");e.target.classList.add("selected");for(var r=document.querySelectorAll("#fileModal input.address"),t=0;t<r.length;t++)r[t].value=e.target.getAttribute("data-id")});var o=document.querySelector("#treeholder .treeselect"),c=o.querySelectorAll(".folder.show"),u=document.querySelector("p.lead.hidden.path");if(u)var i=document.querySelector("p.lead.hidden.path").innerText;if(i&&"/"===i.charAt(0)){i=i.slice(1),i=i.split("/"),i=i[i.length-1];for(var s=new RegExp(i),l=0,r=c.length;r>l;l++)if(c[l].querySelector("a").classList.add("active"),l===c.length-1)for(var v=c[l].querySelector("ul"),y=v.querySelectorAll("li"),l=0,r=y.length;r>l;l++){var f=y[l].querySelector("a"),m=f.querySelector("span");m&&s.test(m.innerText)&&f.classList.add("active")}}var g=document.getElementById("image-crop");if(g){var h=document.getElementById("imageWidth").value,p=document.getElementById("imageHeight").value;new Cropper(g,{viewMode:0,scalable:!0,zoomable:!0,minCanvasWidth:h,minCanvasHeight:p});g.addEventListener("crop",function(e){document.getElementById("x").value=e.detail.x,document.getElementById("y").value=e.detail.y,document.getElementById("w").value=e.detail.width,document.getElementById("h").value=e.detail.height})}})}();