Joomla=window.Joomla||{},function(e,t){"use strict";var a=!1;e.sampledataAjax=function(s,r,d){if(d>r){var l=t.createElement("span");l.classList.add("fa"),l.classList.add("fa-check"),l.setAttribute("aria-hidden",!0);return t.querySelector(".sampledata-"+s+" .row-title").appendChild(l),void(a=!1)}var n=e.getOptions("sample-data"),i=t.createElement("li");i.classList.add("sampledata-steps-"+s+"-"+d);var o=t.createElement("p");o.classList.add("loader-image"),o.classList.add("text-center");var p=t.createElement("img");p.setAttribute("src",n.icon),p.setAttribute("width",30),p.setAttribute("height",30),o.appendChild(p),i.appendChild(o),t.querySelector(".sampledata-progress-"+s+" ul").appendChild(i),e.request({url:n.url+"&type="+s+"&plugin=SampledataApplyStep"+d+"&step="+d,method:"GET",perform:!0,onSuccess:function(l,n){l=JSON.parse(l);var o=i.querySelector(".loader-image");if(o.parentNode.removeChild(o),l.success&&l.data&&l.data.length>0){for(var p,c,m,u=t.querySelector(".sampledata-progress-"+s+" .progress-bar"),g=0,A=l.data.length;g<A;g++)m=(p=(c=l.data[g]).success)?"bg-success":"bg-danger",p?e.renderMessages({success:[c.message]},".sampledata-steps-"+s+"-"+d):e.renderMessages({error:[c.message]},".sampledata-steps-"+s+"-"+d);u.innerText=d+"/"+r,u.style.width=d/r*100+"%",u.classList.add(m),p&&(d++,e.sampledataAjax(s,r,d))}else e.renderMessages({error:[e.JText._("MOD_SAMPLEDATA_INVALID_RESPONSE")]},".sampledata-steps-"+s+"-"+d),a=!1},onError:function(e){alert("Something went wrong! Please close and reopen the browser and try again!")}})},e.sampledataApply=function(s){var r=s.getAttribute("data-type"),d=s.getAttribute("data-steps");if(!a){if(!s.getAttribute("data-processed")){if(!confirm(e.JText._("MOD_SAMPLEDATA_CONFIRM_START")))return!1;for(var l=t.querySelectorAll(".sampledata-progress-"+r),n=0,i=l.length;n<i;n++)l[n].classList.remove("d-none");return s.getAttribute("data-processed",!0),a=!0,e.sampledataAjax(r,d,1),!1}alert(e.JText._("MOD_SAMPLEDATA_ITEM_ALREADY_PROCESSED"))}}}(Joomla,document);