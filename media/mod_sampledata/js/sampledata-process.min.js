!function(a){"use strict";var e=!1,s=function(t,r,l){if(l>r)return a(".sampledata-"+t+" .row-title").append('<span class="fa fa-check"> </span>'),a(".sampledata-progress-"+t).addClass("d-none"),void(e=!1);var d=a('<li class="'+("sampledata-steps-"+t+"-"+l)+'"><p class="loader-image text-center"><img src="'+window.modSampledataIconProgress+'" width="30" height="30" ></p></li>'),o=a(".sampledata-progress-"+t+" progress");a("div.sampledata-progress-"+t+" ul").append(d);var p=a.ajax({url:window.modSampledataUrl,type:"POST",dataType:"json",data:{type:t,plugin:"SampledataApplyStep"+l,step:l}});p.done(function(p){if(d.children(".loader-image").remove(),p.success&&p.data&&p.data.length>0){for(var n,i,c,m=0,g=p.data.length;m<g;m++)c=(n=(i=p.data[m]).success)?"success":"error",d.append(a("<div>",{html:i.message,class:"alert alert-"+c}));o.val(l/r),n&&s(t,r,++l)}else d.addClass("alert alert-error"),d.html(Joomla.JText._("MOD_SAMPLEDATA_INVALID_RESPONSE")),e=!1}),p.fail(function(a,e){alert("Something went wrong! Please close and reopen the browser and try again!")})};window.sampledataApply=function(t){var r=a(t),l=r.data("type"),d=r.data("steps");if(!e){if(!r.data("processed"))return!!confirm(Joomla.JText._("MOD_SAMPLEDATA_CONFIRM_START"))&&(a(".sampledata-progress-"+l).removeClass("d-none"),r.data("processed",!0),e=!0,s(l,d,1),!1);alert(Joomla.JText._("MOD_SAMPLEDATA_ITEM_ALREADY_PROCESSED"))}}}(jQuery);