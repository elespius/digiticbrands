!function t(e,n,s){function o(r,c){if(!n[r]){if(!e[r]){var l="function"==typeof require&&require;if(!c&&l)return l(r,!0);if(i)return i(r,!0);var a=new Error("Cannot find module '"+r+"'");throw a.code="MODULE_NOT_FOUND",a}var u=n[r]={exports:{}};e[r][0].call(u.exports,function(t){var n=e[r][1][t];return o(n||t)},u,u.exports,t,e,n,s)}return n[r].exports}for(var i="function"==typeof require&&require,r=0;r<s.length;r++)o(s[r]);return o}({1:[function(t,e,n){"use strict";var s=function(){function t(t,e){for(var n,s=0;s<e.length;s++)n=e[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,s){return n&&t(e.prototype,n),s&&t(e,s),e}}();!function(t){var e=9,n=27,o=function(t){function o(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return t.select="",t.options=[],t.icon="",t.panel="",t.buttons=[],t.focusableElements=null,t.focusableSelectors=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,HTMLElement),s(o,[{key:"connectedCallback",value:function(){var t=this;if(this.select=this.querySelector("select"),!this.select)throw new Error("Simple color field requires a select element");this.options=[].slice.call(this.select.querySelectorAll("option")),this.select.classList.add("hidden"),this.options.forEach(function(e){var n=e.value,s="swatch";"none"===n&&(s+=" nocolor",n="transparent"),e.selected&&(s+=" active");var o=document.createElement("button");o.setAttribute("class",s),o.style.backgroundColor=n,o.setAttribute("type","button");var i="transparent"===n?t.textTransp:t.textColor+" "+n.replace("#","").split("").join(", ");o.innerHTML='<span class="sr-only">'+i+"</span>",t.buttons.push(o)});var e=document.createElement("button");e.setAttribute("class","btn-close"),e.setAttribute("type","button"),e.innerHTML=this.textClose,this.buttons.push(e);var n=this.select.value,s="";"none"===n&&(s+=" nocolor",n="transparent"),this.icon=document.createElement("button"),s&&this.icon.setAttribute("class",s),this.icon.setAttribute("type","button"),this.icon.setAttribute("tabindex","0"),this.icon.style.backgroundColor=n,this.icon.innerHTML='<span class="sr-only">'+this.textSelect+"</span>",this.select.insertAdjacentElement("beforebegin",this.icon),this.icon.addEventListener("click",this.show.bind(this)),this.panel=document.createElement("div"),this.panel.classList.add("simplecolors-panel"),this.buttons.forEach(function(e){e.classList.contains("btn-close")?e.addEventListener("click",t.hide.bind(t)):e.addEventListener("click",t.colorSelect.bind(t)),t.panel.insertAdjacentElement("beforeend",e)}),this.appendChild(this.panel),this.focusableElements=[].slice.call(this.panel.querySelectorAll(this.focusableSelectors.join())),this.keys=this.keys.bind(this),this.hide=this.hide.bind(this),this.mousedown=this.mousedown.bind(this)}},{key:"disconnectedCallback",value:function(){}},{key:"show",value:function(){document.addEventListener("mousedown",this.hide),this.addEventListener("keydown",this.keys),this.panel.addEventListener("mousedown",this.mousedown),this.panel.setAttribute("data-open","");var t=this.panel.querySelector("button");t&&t.focus()}},{key:"hide",value:function(){document.removeEventListener("mousedown",this.hide,!1),this.removeEventListener("keydown",this.keys),this.panel.hasAttribute("data-open")&&this.panel.removeAttribute("data-open"),this.icon.focus()}},{key:"colorSelect",value:function(t){var e="",n="",s="";t.target.classList.contains("nocolor")?(e="none",n="transparent",s="nocolor"):(e=this.rgb2hex(t.target.style.backgroundColor),n=e),this.buttons.forEach(function(t){t.classList.contains("active")&&t.classList.remove("active")}),t.target.classList.add("active"),this.icon.classList.remove("nocolor"),this.icon.setAttribute("class",s),this.icon.style.backgroundColor=n,this.hide(),this.options.forEach(function(t){t.selected&&t.removeAttribute("selected"),t.value===n&&t.setAttribute("selected","")})}},{key:"keys",value:function(t){if(t.keyCode===n&&this.hide(),t.keyCode===e){var s=this.focusableElements.indexOf(document.activeElement);t.shiftKey&&(0===s||-1===s)&&(this.focusableElements[this.focusableElements.length-1].focus(),t.preventDefault()),t.shiftKey||s!==this.focusableElements.length-1||(this.focusableElements[0].focus(),t.preventDefault())}}},{key:"mousedown",value:function(t){t.stopPropagation(),t.preventDefault()}},{key:"rgb2hex",value:function(t){var e=function(t){return("0"+parseInt(t,10).toString(16)).slice(-2)},n=t.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return"#"+e(n[1])+e(n[2])+e(n[3])}},{key:"textSelect",get:function(){return this.getAttribute("text-select")}},{key:"textColor",get:function(){return this.getAttribute("text-color")}},{key:"textClose",get:function(){return this.getAttribute("text-close")}},{key:"textTransp",get:function(){return this.getAttribute("text-transparent")}}],[{key:"observedAttributes",get:function(){return["text-select","text-color","text-close","text-transparent"]}}]),o}();t.define("joomla-field-simple-color",o)}(customElements)},{}]},{},[1]);