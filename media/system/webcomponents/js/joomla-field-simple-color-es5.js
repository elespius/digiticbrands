(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function _inherits(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(function(a){var b={TAB:9,ESC:27},c=function(a){function c(){_classCallCheck(this,c);var a=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return a.select='',a.options=[],a.icon='',a.panel='',a.buttons=[],a.focusableElements=null,a.focusableSelectors=['a[href]','area[href]','input:not([disabled])','select:not([disabled])','textarea:not([disabled])','button:not([disabled])','iframe','object','embed','[contenteditable]','[tabindex]:not([tabindex^="-"])'],a}return _inherits(c,a),_createClass(c,[{key:'connectedCallback',value:function connectedCallback(){var a=this;if(this.select=this.querySelector('select'),!this.select)throw new Error('Simple color field requires a select element');this.options=[].slice.call(this.select.querySelectorAll('option')),this.select.classList.add('hidden'),this.options.forEach(function(b){var c=b.value,d='swatch';'none'===c&&(d+=' nocolor',c='transparent'),b.selected&&(d+=' active');var e=document.createElement('button');e.setAttribute('class',d),e.style.backgroundColor=c,e.setAttribute('type','button');var f='transparent'===c?a.textTransp:a.textColor+' '+c.replace('#','').split('').join(', ');e.innerHTML='<span class="sr-only">'+f+'</span>',a.buttons.push(e)});var b=document.createElement('button');b.setAttribute('class','btn-close'),b.setAttribute('type','button'),b.innerHTML=this.textClose,this.buttons.push(b);var c=this.select.value,d='';'none'===c&&(d+=' nocolor',c='transparent'),this.icon=document.createElement('button'),d&&this.icon.setAttribute('class',d),this.icon.setAttribute('type','button'),this.icon.setAttribute('tabindex','0'),this.icon.style.backgroundColor=c,this.icon.innerHTML='<span class="sr-only">'+this.textSelect+'</span>',this.select.insertAdjacentElement('beforebegin',this.icon),this.icon.addEventListener('click',this.show.bind(this)),this.panel=document.createElement('div'),this.panel.classList.add('simplecolors-panel'),this.buttons.forEach(function(b){b.classList.contains('btn-close')?b.addEventListener('click',a.hide.bind(a)):b.addEventListener('click',a.colorSelect.bind(a)),a.panel.insertAdjacentElement('beforeend',b)}),this.appendChild(this.panel),this.focusableElements=[].slice.call(this.panel.querySelectorAll(this.focusableSelectors.join())),this.keys=this.keys.bind(this),this.hide=this.hide.bind(this),this.mousedown=this.mousedown.bind(this)}},{key:'disconnectedCallback',value:function disconnectedCallback(){}},{key:'show',value:function show(){document.addEventListener('mousedown',this.hide),this.addEventListener('keydown',this.keys),this.panel.addEventListener('mousedown',this.mousedown),this.panel.setAttribute('data-open','');var a=this.panel.querySelector('button');a&&a.focus()}},{key:'hide',value:function hide(){document.removeEventListener('mousedown',this.hide,!1),this.removeEventListener('keydown',this.keys),this.panel.hasAttribute('data-open')&&this.panel.removeAttribute('data-open'),this.icon.focus()}},{key:'colorSelect',value:function colorSelect(a){var b='',c='',d='';a.target.classList.contains('nocolor')?(b='none',c='transparent',d='nocolor'):(b=this.rgb2hex(a.target.style.backgroundColor),c=b),this.buttons.forEach(function(a){a.classList.contains('active')&&a.classList.remove('active')}),a.target.classList.add('active'),this.icon.classList.remove('nocolor'),this.icon.setAttribute('class',d),this.icon.style.backgroundColor=c,this.hide(),this.options.forEach(function(a){a.selected&&a.removeAttribute('selected'),a.value===c&&a.setAttribute('selected','')})}},{key:'keys',value:function keys(a){if(a.keyCode===b.ESC&&this.hide(),a.keyCode===b.TAB){var c=this.focusableElements.indexOf(document.activeElement);a.shiftKey&&(0===c||-1===c)&&(this.focusableElements[this.focusableElements.length-1].focus(),a.preventDefault()),a.shiftKey||c!==this.focusableElements.length-1||(this.focusableElements[0].focus(),a.preventDefault())}}},{key:'mousedown',value:function mousedown(a){a.stopPropagation(),a.preventDefault()}},{key:'rgb2hex',value:function rgb2hex(a){var b=function(a){return('0'+parseInt(a,10).toString(16)).slice(-2)},c=a.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return'#'+b(c[1])+b(c[2])+b(c[3])}},{key:'textSelect',get:function get(){return this.getAttribute('text-select')}},{key:'textColor',get:function get(){return this.getAttribute('text-color')}},{key:'textClose',get:function get(){return this.getAttribute('text-close')}},{key:'textTransp',get:function get(){return this.getAttribute('text-transparent')}}],[{key:'observedAttributes',get:function get(){return['text-select','text-color','text-close','text-transparent']}}]),c}(HTMLElement);a.define('joomla-field-simple-color',c)})(customElements);

},{}]},{},[1]);
