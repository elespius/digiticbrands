(t=>{const e=13,s=32;t.define("joomla-field-switcher",class extends HTMLElement{static get observedAttributes(){return["type","off-text","on-text"]}get type(){return this.getAttribute("type")}set type(t){return this.setAttribute("type",t)}get offText(){return this.getAttribute("off-text")||"Off"}get onText(){return this.getAttribute("on-text")||"On"}constructor(){super(),this.inputs=[],this.spans=[],this.inputsContainer="",this.newActive="",this.css='joomla-field-switcher{box-sizing:border-box;display:block;height:28px}joomla-field-switcher .switcher{position:relative;box-sizing:border-box;display:inline-block;width:62px;height:28px;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#f2f2f2;background-clip:content-box;border:1px solid rgba(0,0,0,0.18);border-radius:0;box-shadow:0 0 0 0 #dfdfdf inset;transition:border .4s ease 0s,box-shadow .4s ease 0s}joomla-field-switcher .switcher.active{transition:border .4s ease 0s,box-shadow .4s ease 0s,background-color 1.2s ease 0s}joomla-field-switcher .switcher.active .switch{left:calc((62px / 2) - (1px * 2))}joomla-field-switcher input{position:absolute;top:0;left:0;z-index:2;width:62px;height:28px;padding:0;margin:0;cursor:pointer;opacity:0}joomla-field-switcher .switch{position:absolute;top:0;left:0;width:calc(62px / 2);height:calc(28px - (1px * 2));background:#fff;border-radius:0;box-shadow:0 1px 3px rgba(0,0,0,0.15);transition:left .2s ease 0s}joomla-field-switcher .switcher:focus .switch{-webkit-animation:switcherPulsate 1.5s infinite;animation:switcherPulsate 1.5s infinite}joomla-field-switcher input:checked{z-index:0}joomla-field-switcher .switcher-labels{position:relative}joomla-field-switcher .switcher-labels span{position:absolute;top:0;left:10px;color:#868e96;visibility:hidden;opacity:0;transition:all .2s ease-in-out}joomla-field-switcher .switcher-labels span.active{visibility:visible;opacity:1;transition:all .2s ease-in-out}joomla-field-switcher[type="primary"] .switcher.active{background-color:#1e87f0;border-color:#1e87f0;box-shadow:0 0 0 calc(28px / 2) #1e87f0 inset}joomla-field-switcher[type="secondary"] .switcher.active{background-color:#868e96;border-color:#868e96;box-shadow:0 0 0 calc(28px / 2) #868e96 inset}joomla-field-switcher[type="success"] .switcher.active{background-color:#32d296;border-color:#32d296;box-shadow:0 0 0 calc(28px / 2) #32d296 inset}joomla-field-switcher[type="warning"] .switcher.active{background-color:#faa05a;border-color:#faa05a;box-shadow:0 0 0 calc(28px / 2) #faa05a inset}joomla-field-switcher[type="danger"] .switcher.active{background-color:#f0506e;border-color:#f0506e;box-shadow:0 0 0 calc(28px / 2) #f0506e inset}@-webkit-keyframes switcherPulsate{0%{box-shadow:0 0 0 0 rgba(66,133,244,0.55)}70%{box-shadow:0 0 0 10px rgba(66,133,244,0)}100%{box-shadow:0 0 0 0 rgba(66,133,244,0)}}@keyframes switcherPulsate{0%{box-shadow:0 0 0 0 rgba(66,133,244,0.55)}70%{box-shadow:0 0 0 10px rgba(66,133,244,0)}100%{box-shadow:0 0 0 0 rgba(66,133,244,0)}}',this.styleEl=document.createElement("style"),this.styleEl.id="joomla-field-switcher-css",this.styleEl.innerHTML=this.css,document.head.querySelector("#joomla-field-switcher-css")||document.head.appendChild(this.styleEl)}connectedCallback(){if(this.inputs=[].slice.call(this.querySelectorAll("input")),2!==this.inputs.length||"radio"!==this.inputs[0].type)throw new Error('`Joomla-switcher` requires two inputs type="checkbox"');this.createMarkup.bind(this)(),this.inputsContainer=this.firstElementChild,this.inputsContainer.setAttribute("role","switch"),this.inputs[1].checked?(this.inputs[1].parentNode.classList.add("active"),this.spans[1].classList.add("active"),this.inputsContainer.setAttribute("aria-label",this.spans[1].innerHTML)):(this.spans[0].classList.add("active"),this.inputsContainer.setAttribute("aria-label",this.spans[0].innerHTML)),this.inputs.forEach(t=>{t.addEventListener("click",this.toggle.bind(this))}),this.inputsContainer.addEventListener("keydown",this.keyEvents.bind(this))}disconnectedCallback(){this.removeEventListener("joomla.switcher.toggle",this.toggle,!0),this.removeEventListener("click",this.switch,!0),this.removeEventListener("keydown",this.keydown,!0)}dispatchCustomEvent(t){const e=new CustomEvent(t,{bubbles:!0,cancelable:!0});e.relatedTarget=this,this.dispatchEvent(e),this.removeEventListener(t,this)}createMarkup(){let t=0;const e=document.createElement("span");e.classList.add("switcher"),e.setAttribute("tabindex",0),this.type||this.setAttribute("type","success");const s=document.createElement("span");s.classList.add("switch"),this.inputs.forEach((s,i)=>{s.setAttribute("tabindex","-1"),s.checked&&e.setAttribute("aria-checked",!0),e.appendChild(s),1===i&&s.checked&&(t=1)}),e.appendChild(s);const i=document.createElement("span");i.classList.add("switcher-labels");const a=document.createElement("span");a.classList.add("switcher-label-0"),a.innerText=this.offText;const n=document.createElement("span");n.classList.add("switcher-label-1"),n.innerText=this.onText,0===t?a.classList.add("active"):n.classList.add("active"),this.spans.push(a),this.spans.push(n),i.appendChild(a),i.appendChild(n),this.appendChild(e),this.appendChild(i)}switch(){this.spans.forEach(t=>{t.classList.remove("active")}),this.inputsContainer.classList.contains("active")?this.inputsContainer.classList.remove("active"):this.inputsContainer.classList.add("active"),this.inputs.forEach(t=>{t.classList.remove("active")}),1===this.newActive?(this.inputs[this.newActive].classList.add("active"),this.inputs[1].setAttribute("checked",""),this.inputs[0].removeAttribute("checked"),this.inputsContainer.setAttribute("aria-checked",!0),this.inputsContainer.setAttribute("aria-label",this.spans[1].innerHTML),this.dispatchCustomEvent("joomla.switcher.on")):(this.inputs[1].removeAttribute("checked"),this.inputs[0].setAttribute("checked",""),this.inputs[0].classList.add("active"),this.inputsContainer.setAttribute("aria-checked",!1),this.inputsContainer.setAttribute("aria-label",this.spans[0].innerHTML),this.dispatchCustomEvent("joomla.switcher.off")),this.spans[this.newActive].classList.add("active")}toggle(){this.newActive=this.inputs[1].classList.contains("active")?0:1,this.switch.bind(this)()}keyEvents(t){t.keyCode!==e&&t.keyCode!==s||(t.preventDefault(),this.newActive=this.inputs[1].classList.contains("active")?0:1,this.switch.bind(this)())}})})(customElements);