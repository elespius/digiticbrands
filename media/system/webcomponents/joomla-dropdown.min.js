if(!document.head.querySelector("#joomla-dropdown-style")){const e=document.createElement("style");e.id="joomla-dropdown-style",e.innerHTML=`joomla-dropdown{display:none}joomla-dropdown[expanded]{position:absolute;top:100%;left:-240px;z-index:1000;display:block;width:20rem;min-width:10rem;padding:.5rem 0;margin:.125rem 0 0;font-size:1rem;color:#292b2c;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:.25rem}`,document.head.appendChild(e)}class JoomlaDropdownElement extends HTMLElement{static get observedAttributes(){return["for"]}get for(){return this.getAttribute("for")}set for(e){return this.setAttribute("for",e)}connectedCallback(){this.setAttribute("aria-labelledby",this.for.substring(1));const e=document.querySelector(this.for),t=this,a=[].slice.call(this.childNodes);e.id&&(e.setAttribute("aria-haspopup","true"),e.setAttribute("aria-expanded","false"),e.addEventListener("click",o=>{let r=o.target;"span"===o.target.tagName.toLowerCase()&&(r=o.target.parentNode),t.hasAttribute("expanded")?(t.removeAttribute("expanded"),r.setAttribute("aria-expanded","false")):(t.setAttribute("expanded",""),r.setAttribute("aria-expanded","true")),a.forEach(e=>{e.tagName&&"a"!==e.tagName.toLowerCase||e.addEventListener("click",t.close.bind(t))}),document.addEventListener("click",a=>{a.target!==e&&(e.childNodes.length&&[].slice.call(e.childNodes).indexOf(a.target)>-1||t.close())}),a.forEach(e=>{e.addEventListener("click",()=>{t.close()})})}))}disconnectedCallback(){}adoptedCallback(e,t){}attributeChangedCallback(e,t,a){e}close(){const e=document.querySelector(`#${this.getAttribute("aria-labelledby")}`);this.removeAttribute("expanded"),e.setAttribute("aria-expanded","false")}}customElements.define("joomla-dropdown",JoomlaDropdownElement);