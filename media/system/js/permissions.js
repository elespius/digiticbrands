function sendPermissions(e){"use strict";var t=document.getElementById("icon_"+this.id);t.removeAttribute("class"),t.setAttribute("style","background: url(../media/system/images/modal/spinner.gif); display: inline-block; width: 16px; height: 16px");var s="not",a=getUrlParam("component"),r=getUrlParam("extension"),o=getUrlParam("option"),i=getUrlParam("view"),n=a,l=this.value;"com_config"==o&&0==a&&0==r?s="root.1":0==r&&"component"==i?s=a:0!=r&&0!=i?(s=r+"."+i+"."+getUrlParam("id"),n=document.getElementById("jform_title").value):0==r&&0!=i&&(s=o+"."+i+"."+getUrlParam("id"),n=document.getElementById("jform_title").value);var m=this.id.replace("jform_rules_",""),d=m.lastIndexOf("_"),c={comp:s,action:m.substring(0,d),rule:m.substring(d+1),value:l,title:n};Joomla.removeMessages(),jQuery.ajax({method:"POST",url:document.getElementById("permissions-sliders").getAttribute("data-ajaxuri"),data:c,datatype:"json"}).fail((function(e,s,a){t.removeAttribute("style"),Joomla.renderMessages(Joomla.ajaxErrorsMessages(e,s,a)),window.scrollTo(0,0),t.setAttribute("class","icon-cancel")})).done((function(s){t.removeAttribute("style"),s.data&&1==s.data.result&&(t.setAttribute("class","icon-save"),jQuery(e.target).parents().next("td").find("span").removeClass().addClass(s.data.class).html(s.data.text)),"object"==typeof s.messages&&null!==s.messages&&(Joomla.renderMessages(s.messages),s.data&&1==s.data.result?t.setAttribute("class","icon-save"):t.setAttribute("class","icon-cancel"),window.scrollTo(0,0))}))}function getUrlParam(e){"use strict";for(var t=window.location.search.substring(1),s=t.split("&"),a=0;a<s.length;a++){var r=s[a].split("=");if(r[0]==e)return r[1]}return!1}
