!function(t,e){"use strict";function a(t){for(var e=t.target.querySelectorAll(".field-calendar"),a=0,o=e.length;o>a;a++)i.init(e[a])}Date.convertNumbers=function(t){var t=""+t;if("[object Array]"===Object.prototype.toString.call(JoomlaCalLocale.localLangNumbers))for(var e=0;e<JoomlaCalLocale.localLangNumbers.length;e++)t=t.replace(RegExp(e,"g"),JoomlaCalLocale.localLangNumbers[e]);return t},Date.toEnglish=function(t){t=""+this;for(var e=[0,1,2,3,4,5,6,7,8,9],a=0;10>a;a++)t=t.replace(RegExp(e[a],"g"),a);return t};var i=function(t){if(!t)throw Error("Calendar setup failed:\n  No valid element found, Please check your code");if("function"!=typeof Date.parseFieldDate)throw Error("Calendar setup failed:\n  No valid date helper, Please check your code");if(t._joomlaCalendar)throw Error("JoomlaCalendar instance already exists for the element");if(t._joomlaCalendar=this,this.writable=!0,this.params={},this.element=t,this.inputField=t.getElementsByTagName("input")[0],this.button=t.getElementsByTagName("button")[0],!this.inputField)throw Error("Calendar setup failed:\n  No valid input found, Please check your code");this.params={debug:!1,clicked:!1,element:{style:{display:"none"}},writable:!0};var a=this,i=this.button,o={inputField:this.inputField,dateType:JoomlaCalLocale.dateType?JoomlaCalLocale.dateType:"gregorian",direction:void 0!=e.dir?e.dir:e.getElementsByTagName("html")[0].getAttribute("dir"),firstDayOfWeek:i.getAttribute("data-firstday")?parseInt(i.getAttribute("data-firstday")):0,dateFormat:"%Y-%m-%d %H:%M:%S",weekend:JoomlaCalLocale.weekend?JoomlaCalLocale.weekend:[0,6],minYear:JoomlaCalLocale.minYear?JoomlaCalLocale.minYear:1900,maxYear:JoomlaCalLocale.maxYear?JoomlaCalLocale.maxYear:2100,minYearTmp:i.getAttribute("data-min-year"),maxYearTmp:i.getAttribute("data-max-year"),weekendTmp:i.getAttribute("data-weekend"),time24:!0,showsOthers:1===parseInt(i.getAttribute("data-show-others"))?!0:!1,showsTime:!0,weekNumbers:1===parseInt(i.getAttribute("data-week-numbers"))?!0:!1,showsTodayBtn:!0,compressedHeader:1===parseInt(i.getAttribute("data-only-months-nav"))?!0:!1};i.getAttribute("data-dayformat")&&(o.dateFormat=i.getAttribute("data-dayformat")?i.getAttribute("data-dayformat"):"%Y-%m-%d %H:%M:%S"),i.getAttribute("data-time-24")&&(o.time24=24===parseInt(i.getAttribute("data-time-24"))?!0:!1),i.getAttribute("data-show-time")&&(o.showsTime=1===parseInt(i.getAttribute("data-show-time"))?!0:!1),i.getAttribute("data-today-btn")&&(o.showsTodayBtn=1===parseInt(i.getAttribute("data-today-btn"))?!0:!1);for(var s in o)this.params[s]=o[s];r(a.params.minYearTmp)&&(a.params.minYear=n(parseInt(a.params.minYearTmp),a.params.dateType)),r(a.params.maxYearTmp)&&(a.params.maxYear=n(parseInt(a.params.maxYearTmp),a.params.dateType)),"undefined"!==a.params.weekendTmp&&(a.params.weekend=a.params.weekendTmp.split(",").map(function(t){return parseInt(t,10)})),this._dayMouseDown=function(t){return a._handleDayMouseDown(t)},this._calKeyEvent=function(t){return a._handleCalKeyEvent(t)},this._documentClick=function(t){return a._handleDocumentClick(t)},this.checkInputs(),this.inputField.getAttribute("readonly")||(this._create(),this._bindEvents())};i.prototype.checkInputs=function(){var t=Date.parseFieldDate(this.inputField.getAttribute("data-alt-value"),this.params.dateFormat,"gregorian");this.inputField.value.length?(this.date=t,this.inputField.value=t.print(this.params.dateFormat,this.params.dateType,!0)):this.date=new Date},i.prototype.recreate=function(){var t=this.element,e=t.querySelector(".js-calendar");e&&(t._joomlaCalendar=null,e.parentNode.removeChild(e),new i(t))},i.prototype.updateTime=function(t,e){var a=this,i=a.date,o=a.date.getLocalDate(a.params.dateType),s=a.date.getLocalMonth(a.params.dateType),r=a.date.getLocalFullYear(a.params.dateType),n=this.inputField.parentNode.parentNode.querySelectorAll(".time-ampm")[0];a.params.time24||(/pm/i.test(n.value)&&12>t?t=parseInt(t)+12:/am/i.test(n.value)&&12==t&&(t=0)),i.setHours(t),i.setMinutes(parseInt(e,10)),i.setSeconds(i.getSeconds()),i.setLocalFullYear(a.params.dateType,r),i.setLocalMonth(a.params.dateType,s),i.setLocalDate(a.params.dateType,o),a.dateClicked=!1,this.callHandler()},i.prototype.setDate=function(t){t.equalsTo(this.date)||(this.date=t,this.processCalendar(this.params.firstDayOfWeek,t))},i.prototype.moveCursorBy=function(t){var e=new Date(this.date);e.setDate(e.getDate()-t),this.setDate(e)},i.prototype.resetSelected=function(t){for(var e=t.options,a=e.length;a--;){var i=e[a];i.selected&&(i.selected=!1)}},i.prototype.callHandler=function(){"gregorian"==this.params.dateType?(this.inputField.setAttribute("data-alt-value",this.date.print(this.params.dateFormat,this.params.dateType,!1)),this.inputField.getAttribute("data-alt-value")&&"0000-00-00 00:00:00"!=this.inputField.getAttribute("data-alt-value")&&(this.inputField.value=this.date.print(this.params.dateFormat,this.params.dateType,!0))):(this.inputField.setAttribute("data-alt-value",this.date.print(this.params.dateFormat,"gregorian",!1)),this.inputField.setAttribute("data-local-value",this.date.print(this.params.dateFormat,this.params.dateType,!1)),this.inputField.value=this.date.print(this.params.dateFormat,this.params.dateType,!0)),"function"==typeof this.inputField.onchange&&this.inputField.onchange(),this.dateClicked&&"function"==typeof this.params.onUpdate&&this.params.onUpdate(this),this.dateClicked?this.close():this.processCalendar()},i.prototype.close=function(){e.activeElement.blur(),this.hide()},i.prototype.show=function(){if(-1!=navigator.appName.indexOf("Internet Explorer")){var a=-1==navigator.appVersion.indexOf("MSIE 9")&&-1==navigator.appVersion.indexOf("MSIE 1");if(a&&t.jQuery&&jQuery().chosen)for(var i=this.element.getElementsByTagName("select"),o=0;o<i.length;o++)jQuery(i[o]).chosen("destroy")}this.checkInputs(),this.inputField.focus();for(var s=this.table.getElementsByTagName("tr"),o=s.length;o>0;)for(var r=s[--o],n=r.getElementsByTagName("td"),l=n.length;l>0;){n[--l]}this.dropdownElement.style.display="block",this.hidden=!1,e.addEventListener("keydown",this._calKeyEvent,!0),e.addEventListener("keypress",this._calKeyEvent,!0),e.addEventListener("mousedown",this._documentClick,!0);var h=this.element.querySelector(".js-calendar");t.innerHeight+t.scrollY<h.getBoundingClientRect().bottom+20&&(h.style.marginTop=-(h.getBoundingClientRect().height+this.inputField.getBoundingClientRect().height)+"px"),this.processCalendar()},i.prototype.hide=function(){e.removeEventListener("keydown",this._calKeyEvent,!0),e.removeEventListener("keypress",this._calKeyEvent,!0),e.removeEventListener("mousedown",this._documentClick,!0),this.dropdownElement.style.display="none",this.hidden=!0},i.prototype._handleDocumentClick=function(t){var a=t.target;if(null!==a&&!a.classList.contains("time"))for(;null!==a&&a!==this.element;a=a.parentNode);return null===a?(e.activeElement.blur(),this.hide(),o(t)):void 0},i.prototype._handleDayMouseDown=function(t){var e=this,a=t.currentTarget,i=t.target||t.srcElement;if(!t.srcElement||!t.srcElement.hasAttribute("data-action")){if("TD"!==a.nodeName){var s=a.getParent("TD");"TD"===s.nodeName?a=s:(a=a.getParent("TD"),a.classList.contains("js-calendar")&&(a=a.getElementsByTagName("table")[0]))}else if(!i.classList.contains("js-btn")&&!a.classList.contains("day")&&!a.classList.contains("title"))return;if(!a||a.disabled)return!1;if(void 0===a.navtype||300!=a.navtype){50==a.navtype&&(a._current=a.innerHTML),(i==a||i.parentNode==a)&&e.cellClick(a,t);var r=null;void 0!==a.month&&(r=a),void 0!==a.parentNode.month&&(r=a.parentNode);var n=null;if(r)n=new Date(e.date),r.month!=n.getLocalMonth(e.params.dateType)&&(n.setLocalMonth(e.params.dateType,r.month),e.setDate(n),e.dateClicked=!1,this.callHandler());else{var l=null;void 0!==a.year&&(l=i),void 0!==a.parentNode.year&&(l=i.parentNode),l&&(n=new Date(e.date),l.year!=n.getLocalFullYear(e.params.dateType)&&(n.setFullYear(e.params.dateType,l.year),e.setDate(n),e.dateClicked=!1,this.callHandler()))}}return o(t)}},i.prototype.cellClick=function(t,e){var a=this,i=!1,o=!1,s=null;if(void 0===t.navtype){a.currentDateEl&&(t.classList.add("selected"),a.currentDateEl=t.caldate,i=a.currentDateEl==t.caldate,i||(a.currentDateEl=t.caldate)),a.date.setLocalDateOnly("gregorian",t.caldate),s=a.date;var r=!(a.dateClicked=!t.otherMonth);a.currentDateEl&&(o=!t.disabled),r&&this.processCalendar()}else{s=new Date(a.date),a.dateClicked=!1;var n=s.getOtherFullYear(a.params.dateType),l=s.getLocalMonth(a.params.dateType);switch(t.navtype){case 400:break;case-2:a.params.compressedHeader||n>a.params.minYear&&s.setOtherFullYear(a.params.dateType,n-1);break;case-1:var h=s.getLocalDate(a.params.dateType);if(l>0){var c=s.getLocalMonthDays(a.params.dateType,l-1);h>c&&s.setLocalDate(a.params.dateType,c),s.setLocalMonth(a.params.dateType,l-1)}else if(n-->a.params.minYear){s.setOtherFullYear(a.params.dateType,n);var c=s.getLocalMonthDays(a.params.dateType,11);h>c&&s.setLocalDate(a.params.dateType,c),s.setLocalMonth(a.params.dateType,11)}break;case 1:var h=s.getLocalDate(a.params.dateType);if(11>l){var c=s.getLocalMonthDays(a.params.dateType,l+1);h>c&&s.setLocalDate(a.params.dateType,c),s.setLocalMonth(a.params.dateType,l+1)}else if(n<a.params.maxYear){s.setOtherFullYear(a.params.dateType,n+1);var c=s.getLocalMonthDays(a.params.dateType,0);h>c&&s.setLocalDate(a.params.dateType,c),s.setLocalMonth(a.params.dateType,0)}break;case 2:a.params.compressedHeader||n<a.params.maxYear&&s.setOtherFullYear(a.params.dateType,n+1);break;case 0:}s.equalsTo(a.date)?0==t.navtype&&(o=i=!0):(this.setDate(s),o=!0)}o&&(a.params.showsTime&&(this.dateClicked=!1),e&&this.callHandler()),t.classList.remove("hilite"),i&&!a.params.showsTime&&(a.dateClicked=!1,e&&this.close())},i.prototype._handleCalKeyEvent=function(t){var e=this,a=parseInt(t.keyCode);return t.target!==this.inputField||13!==a&&9!==a||t.shiftKey||(""!=this.inputField.value?(e.date=Date.parseFieldDate(this.inputField.value,e.params.dateFormat,e.params.dateType),this.processCalendar(e.params.firstDayOfWeek,e.date),this.cellClick(e.currentDateEl,t)):(this.inputField.value="",this.inputField.setAttribute("value",""),this.inputField.setAttribute("data-alt-value","0000-00-00 00:00:00")),this.close()),"rtl"==e.params.direction&&(37==a?a=39:39==a&&(a=37)),t.shiftKey&&32===a&&this.cellClick(e._nav_now,t),27===a&&this.close(),t.shiftKey&&13===a&&(this.params.showsTime&&(this.dateClicked=!1),this.cellClick(e.currentDateEl,t)),38===a&&this.moveCursorBy(7),40===a&&this.moveCursorBy(-7),37===a&&this.moveCursorBy(1),39===a&&this.moveCursorBy(-1),t.target!==this.inputField||a>48||57>a||186===a||189===a||190===a||32===a?void 0:o(t)},i.prototype._create=function(){var t=this,e=this.element,a=s("table"),i=s("div");this.table=a,a.className="table",a.cellSpacing=0,a.cellPadding=0,a.style.marginBottom=0,this.dropdownElement=i,e.appendChild(i),this.params.direction&&(i.style.direction=this.params.direction),i.className="js-calendar",i.style.position="absolute",i.style.boxShadow="0px 0px 70px 0px rgba(0,0,0,0.67)",i.style.minWidth=this.inputField.width,i.style.padding="0",i.style.display="none",i.style.left="auto",i.style.top="auto",i.style.zIndex=1060,i.style.borderRadius="20px",this.wrapper=s("div"),this.wrapper.className="calendar-container",i.appendChild(this.wrapper),this.wrapper.appendChild(a);var o=s("thead",a);o.className="calendar-header";var r=null,n=null,l=this,h=function(e,a,i,o,h,c,p){o=o?o:"td",h=h?h:{},r=s(o,n),a&&(c=c?'class="'+c+'"':"",r.colSpan=a);for(var u in h)r.style[u]=h[u];for(var u in p)r.setAttribute(u,p[u]);return 0==i||Math.abs(i)>2||(r.className+=" nav"),a&&r.addEventListener("mousedown",t._dayMouseDown,!0),r.calendar=l,r.navtype=i,0==i||Math.abs(i)>2?(r.innerHTML=a?"<div unselectable='on'"+c+">"+e+"</div>":e,!a&&c&&(r.className=c)):r.innerHTML="<a "+c+" style='display:inline;padding:2px 6px;cursor:pointer;text-decoration:none;' unselectable='on'>"+e+"</a>",r};this.params.compressedHeader===!1&&(n=s("tr",o),n.className="calendar-head-row",this._nav_py=h("&lsaquo;",1,-2,"",{"text-align":"center","font-size":"18px","line-height":"18px"},"js-btn btn-prev-year"),this.title=h('<div style="text-align:center;font-size:18px"><span></span></div>',this.params.weekNumbers?6:5,300),this.title.className="title",this._nav_ny=h(" &rsaquo;",1,2,"",{"text-align":"center","font-size":"18px","line-height":"18px"},"js-btn btn-next-year")),n=s("tr",o),n.className="calendar-head-row",this._nav_pm=h("&lsaquo;",1,-1,"",{"text-align":"center","font-size":"2em","line-height":"1em"},"js-btn btn-prev-month"),this._nav_month=h('<div style="text-align:center;font-size:1.2em"><span></span></div>',this.params.weekNumbers?6:5,888,"td",{textAlign:"center"}),this._nav_month.className="title",this._nav_nm=h(" &rsaquo;",1,1,"",{"text-align":"center","font-size":"2em","line-height":"1em"},"js-btn btn-next-month"),n=s("tr",o),n.className=t.params.weekNumbers?"daynames wk":"daynames",this.params.weekNumbers&&(r=s("td",n),r.className="day-name wn",r.innerHTML=JoomlaCalLocale.wk);for(var c=7;c>0;--c)r=s("td",n),c||(r.calendar=t);this.firstdayname=this.params.weekNumbers?n.firstChild.nextSibling:n.firstChild;for(var p=this.params.firstDayOfWeek,r=this.firstdayname,u=JoomlaCalLocale.weekend,c=0;7>c;++c){var d=(c+p)%7;r.classList.add("day-name"),this.params.weekNumbers?r.classList.add("day-name-week"):"",c&&(r.calendar=t,r.fdow=d),-1!=u.indexOf(u)&&r.classList.add("weekend"),r.innerHTML=JoomlaCalLocale.shortDays[(c+p)%7],r=r.nextSibling}var m=s("tbody",a);for(this.tbody=m,c=6;c>0;--c){n=s("tr",m),this.params.weekNumbers&&(r=s("td",n));for(var v=7;v>0;--v)r=s("td",n),r.calendar=this,r.addEventListener("mousedown",this._dayMouseDown,!0)}if(this.params.showsTime){n=s("tr",m),n.className="time",r=s("td",n),r.className="time time-title",r.colSpan=1,r.style.verticalAlign="middle",r.innerHTML=" ";var y=s("td",n);y.className="time hours-select",y.colSpan=2;var g=s("td",n);g.className="time minutes-select",g.colSpan=2,function(){function e(e,a,i,o,r){var n,l=s("select",r);l.calendar=t,l.className=e,l.setAttribute("data-chosen",!0),l.style.width="100%",l.navtype=50,l._range=[];for(var h=i;o>=h;++h){var c,p="";h==a&&(p=!0),10>h&&o>=10?(n="0"+h,c=Date.convertNumbers("0")+Date.convertNumbers(h)):(n=""+h,c=""+Date.convertNumbers(h)),l.options.add(new Option(c,n,p,p))}return l}var a=t.date.getHours(),i=t.date.getMinutes(),o=!t.params.time24,l=t.date.getHours()>12;o&&l&&(a-=12);var h=e("time time-hours",a,o?1:0,o?12:23,y),c=e("time time-minutes",i,0,59,g),p=null;if(r=s("td",n),r.className="time ampm-select",r.colSpan=t.params.weekNumbers?1:2,o){var u=!0,d=Date.parseFieldDate(t.inputField.getAttribute("data-alt-value"),t.params.dateFormat,"gregorian");l=d.getHours()>12;var m=s("select",r);m.className="time-ampm",m.style.width="100%",m.options.add(new Option(JoomlaCalLocale.PM,"pm",l?u:"",l?u:"")),m.options.add(new Option(JoomlaCalLocale.AM,"am",l?"":u,l?"":u)),p=m,p.addEventListener("change",function(e){t.updateTime(e.target.parentNode.parentNode.childNodes[1].childNodes[0].value,e.target.parentNode.parentNode.childNodes[2].childNodes[0].value,e.target.parentNode.parentNode.childNodes[3].childNodes[0].value)},!1)}else r.innerHTML="&#160;",r.colSpan=t.params.weekNumbers?3:2;h.addEventListener("change",function(e){t.updateTime(e.target.parentNode.parentNode.childNodes[1].childNodes[0].value,e.target.parentNode.parentNode.childNodes[2].childNodes[0].value,e.target.parentNode.parentNode.childNodes[3].childNodes[0].value)},!1),c.addEventListener("change",function(e){t.updateTime(e.target.parentNode.parentNode.childNodes[1].childNodes[0].value,e.target.parentNode.parentNode.childNodes[2].childNodes[0].value,e.target.parentNode.parentNode.childNodes[3].childNodes[0].value)},!1)}()}if(n=s("div",this.wrapper),n.className="buttons-wrapper btn-group",this.params.showsTodayBtn){if(this._nav_save=h(JoomlaCalLocale.save,"",100,"a","","js-btn btn btn-clear",{"data-action":"clear"}),!this.inputField.hasAttribute("required")){var f=n.querySelector('[data-action="clear"]');f.addEventListener("click",function(){for(var e=t.table.querySelectorAll("td"),a=0;a<e.length;a++)if(e[a].classList.contains("selected")){e[a].classList.remove("selected");break}t.inputField.setAttribute("data-alt-value","0000-00-00 00:00:00"),t.inputField.setAttribute("value",""),t.inputField.value=""})}this._nav_now=h(JoomlaCalLocale.today,"",0,"a","","js-btn btn btn-today",{"data-action":"today"});var b=n.querySelector('[data-action="today"]');b.addEventListener("click",function(){t.date.setLocalDateOnly("gregorian",new Date),t.dateClicked=!0,t.callHandler(),t.close()})}this._nav_exit=h(JoomlaCalLocale.exit,"",999,"a","","js-btn btn btn-exit",{"data-action":"exit"});var C=n.querySelector('[data-action="exit"]');C.addEventListener("click",function(){t.close()}),this.processCalendar()},i.prototype.processCalendar=function(){this.table.style.visibility="hidden";var t=this.params.firstDayOfWeek,e=this.date,a=new Date,i=a.getLocalFullYear(this.params.dateType),o=a.getLocalMonth(this.params.dateType),s=a.getLocalDate(this.params.dateType),r=e.getOtherFullYear(this.params.dateType),n=e.getHours(),l=e.getMinutes(),h=(e.getSeconds(),!this.params.time24);r<this.params.minYear?(r=this.params.minYear,e.getOtherFullYear(this.params.dateType,r)):r>this.params.maxYear&&(r=this.params.maxYear,e.getOtherFullYear(this.params.dateType,r)),this.params.firstDayOfWeek=t,this.date=new Date(e);var c=e.getLocalMonth(this.params.dateType),p=e.getLocalDate(this.params.dateType);e.setLocalDate(this.params.dateType,1);var u=(e.getLocalDay(this.params.dateType)-this.params.firstDayOfWeek)%7;0>u&&(u+=7),e.setLocalDate(this.params.dateType,-u),e.setLocalDate(this.params.dateType,e.getLocalDate(this.params.dateType)+1);for(var d=this.tbody.firstChild,m=this.ar_days=[],v=JoomlaCalLocale.weekend,y=parseInt(e.getLocalWeekDays(this.params.dateType)),g=0;y>g;++g,d=d.nextSibling){var f=d.firstChild;this.params.weekNumbers&&(f.className="day wn",f.innerHTML=e.getLocalWeekNumber(this.params.dateType),f=f.nextSibling),d.className=this.params.weekNumbers?"daysrow wk":"daysrow";for(var b,C=!1,L=m[g]=[],S=y+1,k=0;S>k;++k,f=f.nextSibling,e.setLocalDate(this.params.dateType,b+1)){f.className="day",f.style.textAlign="center",b=e.getLocalDate(this.params.dateType);var w=e.getLocalDay(this.params.dateType);f.pos=g<<4|k,L[k]=f;var H=e.getLocalMonth(this.params.dateType)==c;if(H)f.otherMonth=!1,C=!0,f.style.cursor="pointer";else{if(!this.params.showsOthers){f.className+=" emptycell",f.innerHTML="&#160;",f.disabled=!0;continue}f.className+=" disabled othermonth ",f.otherMonth=!0}f.disabled=!1,f.innerHTML=this.params.debug?b:Date.convertNumbers(b),f.disabled||(f.caldate=new Date(e),H&&b==p&&(f.className+=" selected",this.currentDateEl=f),e.getLocalFullYear(this.params.dateType)==i&&e.getLocalMonth(this.params.dateType)==o&&b==s&&(f.className+=" today"),-1!=v.indexOf(w)&&(f.className+=" weekend"))}C||this.params.showsOthers?d.style.display="":(d.style.display="none",d.className="emptyrow")}if(this.params.showsTime){n>12&&h&&(n-=12),n=10>n?"0"+n:n,l=10>l?"0"+l:l;var N=this.table.querySelector(".time-hours"),A=this.table.querySelector(".time-minutes");if(this.resetSelected(N),N.value=n,this.resetSelected(A),A.value=l,!this.params.time24){var B=new Date(this.inputField.getAttribute("data-alt-value")),x=this.table.querySelector(".time-ampm"),T=B.getHours();T>12&&(this.resetSelected(x),x.value="pm")}}if(this.params.compressedHeader){var _=Date.convertNumbers(""+r);this._nav_month.getElementsByTagName("span")[0].innerHTML=this.params.monthBefore?_+" - "+JoomlaCalLocale.months[c]:JoomlaCalLocale.months[c]+" - "+_}else this._nav_month.getElementsByTagName("span")[0].innerHTML=this.params.debug?c+" "+JoomlaCalLocale.months[c]:JoomlaCalLocale.months[c],this.title.getElementsByTagName("span")[0].innerHTML=this.params.debug?r+" "+Date.convertNumbers(""+r):Date.convertNumbers(""+r);this.table.style.visibility="visible"},i.prototype._bindEvents=function(){var t=this;this.inputField.addEventListener("blur",function(e){for(var a=e.target;a.parentNode;)if(a=a.parentNode,a.classList.contains("field-calendar"))return e.target.value?e.target.setAttribute("data-alt-value",e.target.value):e.target.setAttribute("data-alt-value","0000-00-00 00:00:00"),void a._joomlaCalendar.checkInputs();t.close()},!0),this.button.addEventListener("click",function(){t.show()},!1)};var o=function(e){return e||(e=t.event),e.preventDefault(),e.stopPropagation(),!1},s=function(t,a){var i=null;return i=e.createElement(t),void 0!==a&&a.appendChild(i),i},r=function(t){return!isNaN(t)&&function(t){return(0|t)===t}(parseFloat(t))},n=function(t,e){var a=new Date,i=a.getLocalFullYear(e);return i+t};i.getCalObject=function(t){if(!t)return!1;for(;t.parentNode;)if(t=t.parentNode,t.classList.contains("field-calendar"))return t;return!1},i.prototype.setAltValue=function(){var t=this.inputField;t.value=t.getAttribute("data-alt-value")?t.getAttribute("data-alt-value"):""},i.init=function(a,o){t.JoomlaCalLocale=t.JoomlaCalLocale?JoomlaCalLocale:{},JoomlaCalLocale.today=JoomlaCalLocale.today?JoomlaCalLocale.today:"today",JoomlaCalLocale.weekend=JoomlaCalLocale.weekend?JoomlaCalLocale.weekend:[0,6],JoomlaCalLocale.localLangNumbers=JoomlaCalLocale.localLangNumbers?JoomlaCalLocale.localLangNumbers:[0,1,2,3,4,5,6,7,8,9],JoomlaCalLocale.wk=JoomlaCalLocale.wk?JoomlaCalLocale.wk:"wk",JoomlaCalLocale.AM=JoomlaCalLocale.AM?JoomlaCalLocale.AM:"AM",JoomlaCalLocale.PM=JoomlaCalLocale.PM?JoomlaCalLocale.PM:"PM",JoomlaCalLocale.am=JoomlaCalLocale.am?JoomlaCalLocale.am:"am",JoomlaCalLocale.pm=JoomlaCalLocale.pm?JoomlaCalLocale.pm:"pm",JoomlaCalLocale.dateType=JoomlaCalLocale.dateType?JoomlaCalLocale.dateType:"gregorian",JoomlaCalLocale.time=JoomlaCalLocale.time?JoomlaCalLocale.time:"time",JoomlaCalLocale.days=JoomlaCalLocale.days?JoomlaCalLocale.days:'["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"]',JoomlaCalLocale.shortDays=JoomlaCalLocale.shortDays?JoomlaCalLocale.shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],JoomlaCalLocale.months=JoomlaCalLocale.months?JoomlaCalLocale.months:["January","February","March","April","May","June","July","August","September","October","November","December"],JoomlaCalLocale.shortMonths=JoomlaCalLocale.shortMonths?JoomlaCalLocale.shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],JoomlaCalLocale.minYear=JoomlaCalLocale.minYear?JoomlaCalLocale.minYear:1900,JoomlaCalLocale.maxYear=JoomlaCalLocale.maxYear?JoomlaCalLocale.maxYear:2100,JoomlaCalLocale.exit=JoomlaCalLocale.exit?JoomlaCalLocale.exit:"Cancel",JoomlaCalLocale.clear=JoomlaCalLocale.clear?JoomlaCalLocale.clear:"Clear";var s=a._joomlaCalendar;s?s.recreate():new i(a);var r=function(){for(var t=(o||e).querySelectorAll(".field-calendar"),a=0;a<t.length;a++){var i=t[a],s=i._joomlaCalendar;s&&s.setAltValue()}};a&&a.getElementsByTagName("input")[0]&&a.getElementsByTagName("input")[0].form&&a.getElementsByTagName("input")[0].form.addEventListener("submit",r)},t.JoomlaCalendar=i,e.addEventListener("DOMContentLoaded",a),e.addEventListener("joomla:updated",a),t.Calendar={},Calendar.setup=function(t){if(t.inputField&&e.getElementById(t.inputField)){var a=e.getElementById(t.inputField),o=a.parentNode.querySelectorAll("button")[0];for(var s in t)if(t.hasOwnProperty(s))switch(s){case"ifFormat":o&&o.setAttribute("data-dayformat",t.ifFormat);break;case"firstDay":o&&o.setAttribute("data-firstday",parseInt(t.firstDay));break;case"weekNumbers":o&&o.setAttribute("data-week-numbers","true"===t.weekNumbers||t.weekNumbers===!0?"1":"0");break;case"showOthers":o&&o.setAttribute("data-show-others","true"===t.showOthers||t.showOthers===!0?"1":"0");break;case"showsTime":o&&o.setAttribute("data-show-time","true"===t.showsTime||t.showsTime===!0?"1":"0");break;case"timeFormat":o&&o.setAttribute("data-time-24",parseInt(t.timeFormat));break;case"displayArea":case"inputField":case"button":case"eventName":case"daFormat":case"disableFunc":case"dateStatusFunc":case"dateTooltipFunc":case"dateText":case"align":case"range":case"flat":case"flatCallback":case"onSelect":case"onClose":case"onUpdate":case"date":case"electric":case"step":case"position":case"cache":case"multiple":}i.init(a.parentNode.parentNode)}return null}}(window,document);