Joomla=window.Joomla||{},function(e,t){"use strict";e.sendPermissions=function(a){var r=t.getElementById("icon_"+this.id);r.removeAttribute("class"),r.setAttribute("class","fa fa-spinner fa-spin");var s="not",i=e.getUrlParam("component"),l=e.getUrlParam("extension"),n=e.getUrlParam("option"),o=e.getUrlParam("view"),m=i,u=this.value,d="";t.getElementById("jform_context")&&(d=(d=t.getElementById("jform_context").value).split(".")[0]),"com_config"==n&&0==i&&0==l?s="root.1":0==l&&"component"==o?s=i:d?(s="group"==o?d+".fieldgroup."+e.getUrlParam("id"):d+".field."+e.getUrlParam("id"),m=t.getElementById("jform_title").value):0!=l&&0!=o?(s=l+"."+o+"."+e.getUrlParam("id"),m=t.getElementById("jform_title").value):0==l&&0!=o&&(s=n+"."+o+"."+e.getUrlParam("id"),m=t.getElementById("jform_title").value);var c=this.id.replace("jform_rules_",""),g=c.lastIndexOf("_"),f={comp:s,action:c.substring(0,g),rule:c.substring(g+1),value:u,title:m};e.removeMessages(),jQuery.ajax({method:"POST",url:t.getElementById("permissions-sliders").getAttribute("data-ajaxuri"),data:f,datatype:"json"}).fail(function(t,a,s){r.removeAttribute("style"),e.renderMessages(e.ajaxErrorsMessages(t,a,s)),r.setAttribute("class","fa fa-times")}).done(function(t){if(r.removeAttribute("style"),t.data&&1==t.data.result){r.setAttribute("class","fa fa-check");var s=a.target.parentNode.parentNode.nextElementSibling.querySelector("span");s.removeAttribute("class"),s.setAttribute("class",t.data.class),s.innerHTML=t.data.text}"object"==typeof t.messages&&null!==t.messages&&(e.renderMessages(t.messages),t.data&&1==t.data.result?r.setAttribute("class","fa fa-check"):r.setAttribute("class","fa fa-times"))})},e.getUrlParam=function(e){for(var t=window.location.search.substring(1).split("&"),a=0;a<t.length;a++){var r=t[a].split("=");if(r[0]==e)return r[1]}return!1}}(Joomla,document);