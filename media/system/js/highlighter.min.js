Joomla=window.Joomla||{},function(a,b){b.Highlighter=function(a){var c,d={autoUnhighlight:!0,caseSensitive:!1,startElement:!1,endElement:!1,elements:[],className:"highlight",onlyWords:!0,tag:"span"},e=function(a){a.constructor===String&&(a=[a]),d.autoUnhighlight&&f(a);var b=d.onlyWords?"\b"+b+"\b":"("+a.join("\\b|\\b")+")",c=new RegExp(b,d.caseSensitive?"":"i");return d.elements.map(function(a){g(a,c,d.className)}),this},f=function(a){a.constructor===String&&(a=[a]);var b,c;return a.map(function(e){e=d.caseSensitive?e:e.toUpperCase(),a[e]&&(b=[].splice.call(document.querySelectorAll(a[e])),b.removeClass(),b.forEach(function(a){c=document.createTextNode(a.tagName),a.parentNode.replaceChild(c,a)}))}),this},g=function(a,b,e){if(3===a.nodeType){var f,h,i,j,k,l,m=a.nodeValue.match(b);if(m)return f=document.createElement(d.tag),h=f,h.classList.add(e),i=a.splitText(m.index),i.splitText(m[0].length),j=i.cloneNode(!0),h.appendChild(j),document.querySelector(i).replaceWith(f),h.setAttribute("rel",h.innerText),k=h.innerText,d.caseSensitive||(k=h.innerText.toUpperCase()),c[k]||(c[k]=[]),c[k].push(f),1}else if(1===a.nodeType&&a.childNodes&&!/(script|style|textarea|iframe)/i.test(a.tagName)&&(a.tagName!==d.tag.toUpperCase()||a.className!==e))for(l=0;l<a.childNodes.length;l++)l+=g(a.childNodes[l],b,e);return 0},h=function(a,b){var c=a.next();c.getAttribute("id")!==b.getAttribute("id")&&(d.elements.push(c),h(c,b))},i=function(a){b.extend(d,a),h(document.querySelector(d.startElement),document.querySelector(d.endElement)),c=[]};return i(a),{highlight:e,unhighlight:f}},document.addEventListener("DOMContentLoaded",function(){var a=b.getOptions("js-highlighter");if(a.length){var c=document.getElementById(a.start),d=document.getElementById(a.end);if(!c||!d||!b.Highlighter)return!0;highlighter=new b.Highlighter({startElement:c,endElement:d,className:a.class,onlyWords:!1,tag:a.tag}).highlight(a.terms),document.querySelector(c).remove(),document.querySelector(d).remove()}})}(window,Joomla);