Joomla=window.Joomla||{},function(e,t){"use strict";e.Highlighter=function(n){var i,a={autoUnhighlight:!0,caseSensitive:!1,startElement:!1,endElement:!1,elements:[],className:"highlight",onlyWords:!0,tag:"span"},r=function(e){e.constructor===String&&(e=[e]);var n,i;return e.map(function(r){r=a.caseSensitive?r:r.toUpperCase(),e[r]&&((n=$(e[r])).removeClass(),n.each(function(e,n){i=t.createTextNode($(n).text()),n.parentNode.replaceChild(i,n)}))}),this},s=function(e,n,r){if(3===e.nodeType){var l,o,d,h,c,g,m=e.nodeValue.match(n);if(m)return(o=l=t.createElement(a.tag)).classList.add(r),(d=e.splitText(m.index)).splitText(m[0].length),h=d.cloneNode(!0),d.parentNode.replaceChild(l,d),o.appendChild(h),o.setAttribute("rel",o.innerText),c=o.innerText,a.caseSensitive||(c=o.innerText.toUpperCase()),i[c]||(i[c]=[]),i[c].push(l),1}else if(1===e.nodeType&&e.childNodes&&!/(script|style|textarea|iframe)/i.test(e.tagName)&&(e.tagName!==a.tag.toUpperCase()||e.className!==r))for(g=0;g<e.childNodes.length;g++)g+=s(e.childNodes[g],n,r);return 0},l=function(e,t){var n=e.nextElementSibling;n.getAttribute("id")!==t.getAttribute("id")&&(a.elements.push(n),l(n,t))};o=n,e.extend(a,o),l(a.startElement,a.endElement),i=[];var o;return{highlight:function(e){e.constructor===String&&(e=[e]),a.autoUnhighlight&&r(e);var t=a.onlyWords?"\b"+t+"\b":"("+e.join("\\b|\\b")+")",n=new RegExp(t,a.caseSensitive?"":"i");return a.elements.map(function(e){s(e,n,a.className)}),this},unhighlight:r}},t.addEventListener("DOMContentLoaded",function(){var n=e.getOptions("highlighter"),i=t.getElementById(n.start),a=t.getElementById(n.end);if(!i||!a)return!0;e.Highlighter({startElement:i,endElement:a,className:n.className,onlyWords:!1,tag:n.tag}).highlight([n.terms]),i.parentNode.removeChild(i),a.parentNode.removeChild(a)})}(Joomla,document);