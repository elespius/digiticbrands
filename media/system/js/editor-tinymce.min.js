!function(a,b,c,d){"use strict";c.jInsertEditorText=function(a,c){b.editors.instances[c].replaceSelection(a)};var e={setupEditors:function(c){c=c||d;for(var e=b.getOptions?b.getOptions("plg_editor_tinymce",{}):b.optionsStorage.plg_editor_tinymce||{},f=c.querySelectorAll(".js-editor-tinymce"),g=0,h=f.length;g<h;g++){var i=d.querySelector("textarea");this.setupEditor(i,e),b.editors.instances[i.id]={id:i.id,getValue:function(){return a.editors[this.id].getContent()},setValue:function(b){return a.editors[this.id].setContent(b)},replaceSelection:function(b){return a.editors[this.id].execCommand("mceInsertContent",!1,b)},onSave:function(){return a.editors[this.id].isHidden()&&a.editors[this.id].show(),""}},i.form.addEventListener("submit",function(){for(var b=d.querySelectorAll(".js-editor-tinymce"),c=0,e=b.length;c<e;c++){var f=d.querySelector("textarea");a.get(f.id).isHidden()&&a.get(f.id).show()}})}},setupEditor:function(c,d){var e=c?c.getAttribute("name").replace(/\[\]|\]/g,"").split("[").pop():"default",f=d?d.tinyMCE||{}:{},g=f.default||{},h=f[e]?f[e]:g;h=b.extend({},h),c&&(h.selector=null,h.target=c),h.setupCallbacString&&!h.setup&&(h.setup=new Function("editor",h.setupCallbacString)),a.init(h)}};b.JoomlaTinyMCE=e,d.addEventListener("DOMContentLoaded",function(){b.JoomlaTinyMCE.setupEditors(),c.jQuery&&jQuery(d).on("subform-row-add",function(a,c){b.JoomlaTinyMCE.setupEditors(c)})})}(tinyMCE,Joomla,window,document);