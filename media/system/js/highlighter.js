if("undefined"==typeof Joomla)var Joomla={};Joomla.Highlighter=function(e){"use strict";var t,n,i={autoUnhighlight:!0,caseSensitive:!1,startElement:!1,endElement:!1,elements:[],className:"highlight",onlyWords:!0,tag:"span"},a=function(e){e.constructor===String&&(e=[e]),i.autoUnhighlight&&o(e);var t=i.onlyWords?"\b"+t+"\b":"("+e.join("\\b|\\b")+")",n=new RegExp(t,i.caseSensitive?"":"i");return i.elements.map((function(e){r(e,n,i.className)})),this},o=function(e){e.constructor===String&&(e=[e]);var n,a;return e.map((function(o){o=i.caseSensitive?o:o.toUpperCase(),e[o]&&(n=t(e[o]),n.removeClass(),n.each((function(e,n){a=document.createTextNode(t(n).text()),n.parentNode.replaceChild(a,n)})))})),this},r=function(e,a,o){if(3===e.nodeType){var s,l,c,h,d,u,g=e.nodeValue.match(a);if(g)return s=document.createElement(i.tag),l=t(s),l.addClass(o),c=e.splitText(g.index),c.splitText(g[0].length),h=c.cloneNode(!0),l.append(h),t(c).replaceWith(s),l.attr("rel",l.text()),d=l.text(),i.caseSensitive||(d=l.text().toUpperCase()),n[d]||(n[d]=[]),n[d].push(s),1}else if(1===e.nodeType&&e.childNodes&&!/(script|style|textarea|iframe)/i.test(e.tagName)&&(e.tagName!==i.tag.toUpperCase()||e.className!==o))for(u=0;u<e.childNodes.length;u++)u+=r(e.childNodes[u],a,o);return 0},s=function(e,t){var n=e.next();n.attr("id")!==t.attr("id")&&(i.elements.push(n.get(0)),s(n,t))},l=function(e){t=jQuery.noConflict(),t.extend(i,e),s(t(i.startElement),t(i.endElement)),n=[]};return l(e),{highlight:a,unhighlight:o}};

