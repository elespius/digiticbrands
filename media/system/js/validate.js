/*
        GNU General Public License version 2 or later; see LICENSE.txt
*/
var JFormValidator=function(){var h,d,b,c,a,n,l,k=function(q,r,p){p=(p==="")?true:p;d[q]={enabled:p,exec:r}},g=function(p){var q=p.attr("id");if(!q){return false}else{return p.data("label")}},j=function(r,q){var p=g(q);if(r===false){q.addClass("invalid").attr("aria-invalid","true");if(p){p.addClass("invalid").attr("aria-invalid","true")}}else{q.removeClass("invalid").attr("aria-invalid","false");if(p){p.removeClass("invalid").attr("aria-invalid","false")}}},m=function(s){var q=h(s),p,r;if(q.attr("disabled")){j(true,q);return true}if(q.attr("required")||q.hasClass("required")){p=q.prop("tagName").toLowerCase();if(p==="fieldset"&&(q.hasClass("radio")||q.hasClass("checkboxes"))){if(!q.find("input:checked").length){j(false,q);return false}}else{if(!q.val()||q.hasClass("placeholder")||(q.attr("type")==="checkbox"&&!q.is(":checked"))){j(false,q);return false}}}r=(q.attr("class")&&q.attr("class").match(/validate-([a-zA-Z0-9\_\-]+)/))?q.attr("class").match(/validate-([a-zA-Z0-9\_\-]+)/)[1]:"";if(r===""){j(true,q);return true}if((r)&&(r!=="none")&&(d[r])&&q.val()){if(d[r].exec(q.val())!==true){j(false,q);return false}}j(true,q);return true},o=function(v){var u=true,s,t,w,q,p,r=e(v);h.each(l[r],function(x,y){if(m(y)===false){u=false}});h.each(c,function(y,x){if(x.exec()!==true){u=false}});if(!u){t=Joomla.JText._("JLIB_FORM_FIELD_INVALID");w=h("label.invalid");q={};q.error=[];for(s=0;s<w.length;s++){p=h(w[s]).text();if(p!=="undefined"){q.error[s]=t+p.replace("*","")}}Joomla.renderMessages(q)}return u},i=function(q){var p=e(q);l[p]=[];h(q).find("input, textarea, select, button").each(function(){var s=h(this),t=s.attr("id"),r=s.prop("tagName").toLowerCase();if(s.hasClass("required")){s.attr("aria-required","true").attr("required","required")}if((r==="input"||r==="button")&&s.attr("type")==="submit"){if(s.hasClass("validate")){s.on("click",function(){return o(q)})}}else{if(r!=="fieldset"){s.on("blur",function(){return m(this)});if(s.hasClass("validate-email")&&b){s.get(0).type="email"}}s.data("label",h(a[p]).find('label[for="'+t+'"]'));l[p].push(s)}})},e=function(q){var p=h(q).attr("name");if(!p){p="jform-validate-"+n;h(q).attr("name",p);n++}return p},f=function(){h=jQuery.noConflict();d={};c=c||{};a={};l={};n=0;b=(function(){var p=document.createElement("input");p.setAttribute("type","email");return p.type!=="text"})();k("username",function(p){regex=new RegExp("[<|>|\"|'|%|;|(|)|&]","i");return !regex.test(p)});k("password",function(p){regex=/^\S[\S ]{2,98}\S$/;return regex.test(p)});k("numeric",function(p){regex=/^(\d|-)?(\d|,)*\.?\d*$/;return regex.test(p)});k("email",function(p){regex=/^[^(\.)][a-zA-Z0-9.!#$%&‚Äô*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;return regex.test(p)});h("form.form-validate").each(function(){var p=e(this);a[p]=h(this);i(this)},this)};f();return{isValid:o,validate:m,setHandler:k,attachToForm:i,custom:c}};document.formvalidator=null;jQuery(function(){document.formvalidator=new JFormValidator()});