/*
		GNU General Public License version 2 or later; see LICENSE.txt
*/
var JFormValidator=function(){var e,c,a,b,h=function(l,m,k){k=(k==="")?true:k;c[l]={enabled:k,exec:m}},g=function(m,l){var k,n;if(!l.get(0).labelref){e("label").each(function(){k=e(this);if(k.attr("for")===l.attr("id")){l.get(0).labelref=this}})}n=l.get(0).labelref;if(m===false){l.addClass("invalid").attr("aria-invalid","true");if(n){e(n).addClass("invalid").attr("aria-invalid","true")}}else{l.removeClass("invalid").attr("aria-invalid","false");if(n){e(n).removeClass("invalid").attr("aria-invalid","false")}}},i=function(p){var n=e(p),m,o,k,l=0;if(n.attr("disabled")){g(true,n);return true}if(n.hasClass("required")){m=n.prop("tagName").toLowerCase();if(m==="fieldset"&&(n.hasClass("radio")||n.hasClass("checkboxes"))){while(true){k="#"+n.attr("id")+l;if(e(k).get(0)){if(e(k).is(":checked")){break}}else{g(false,n);return false}l++}}else{if(!n.val()){g(false,n);return false}}}o=(n.attr("class")&&n.attr("class").match(/validate-([a-zA-Z0-9\_\-]+)/))?n.attr("class").match(/validate-([a-zA-Z0-9\_\-]+)/)[1]:"";if(o===""){g(true,n);return true}if((o)&&(o!=="none")&&(c[o])&&n.val()){if(c[o].exec(n.val())!==true){g(false,n);return false}}g(true,n);return true},j=function(m){var l=true,t=e(m),o,n,s,r,p,q;t.find("input, textarea, select, button, fieldset").each(function(k,u){if(i(u)===false){l=false}});for(n in b){if(b.hasOwnProperty(n)){if(b[n].exec()!==true){l=false}}}if(!l){s=Joomla.JText._("JLIB_FORM_FIELD_INVALID");r=e("label.invalid");p={};p.error=[];for(o=0;o<r.length;o++){q=e(r[o]).text();if(q!=="undefined"){p.error[o]=s+q.replace("*","")}}Joomla.renderMessages(p)}return l},f=function(k){e(k).find("input,textarea,select,button").each(function(){var m=e(this),l=m.prop("tagName").toLowerCase();if(m.hasClass("required")){m.attr("aria-required","true").attr("required","required")}if((l==="input"||l==="button")&&m.attr("type")==="submit"){if(m.hasClass("validate")){m.on("click",function(){return j(k)})}}else{m.on("blur",function(){return i(this)});if(m.hasClass("validate-email")&&a){m.get(0).type="email"}}})},d=function(){e=jQuery.noConflict();c={};b=b||{};a=(function(){var k=document.createElement("input");k.setAttribute("type","email");return k.type!=="text"})();h("username",function(k){regex=new RegExp("[<|>|\"|'|%|;|(|)|&]","i");return !regex.test(k)});h("password",function(k){regex=/^\S[\S ]{2,98}\S$/;return regex.test(k)});h("numeric",function(k){regex=/^(\d|-)?(\d|,)*\.?\d*$/;return regex.test(k)});h("email",function(k){regex=/^[a-zA-Z0-9.!#$%&‚Äô*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;return regex.test(k)});e("form.form-validate").each(function(){f(this)},this)};d();return{isValid:j,validate:i,setHandler:h,attachToForm:f,custom:b}};document.formvalidator=null;jQuery(function(){document.formvalidator=new JFormValidator()});