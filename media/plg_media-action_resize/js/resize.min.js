Joomla=window.Joomla||{},Joomla.MediaManager=Joomla.MediaManager||{},Joomla.MediaManager.Edit=Joomla.MediaManager.Edit||{},function(){"use strict";var e=function(e){var t="jpg"===Joomla.MediaManager.Edit.original.extension?"jpeg":"jpg",a=document.getElementById("jform_resize_quality").value;Joomla.MediaManager.Edit.current.contents=Joomla.cropperResize.getCroppedCanvas(e).toDataURL("image/"+t,a),window.dispatchEvent(new Event("mediaManager.history.point")),document.getElementById("image-preview").src=Joomla.MediaManager.Edit.current.contents};Joomla.MediaManager.Edit.resize={Activate:function(t){var a=document.getElementById("media-manager-edit-container"),o=(document.createElement("h3"),document.createElement("div")),n=document.createElement("div"),r=document.createElement("img"),i=document.createElement("img");r.src=t.contents,i.src=t.contents,i.id="image-preview",r.style.maxWidth="100%",i.style.maxWidth="100%",o.style.display="none",o.appendChild(r),a.appendChild(o),n.appendChild(i),a.appendChild(n),function(e){var t=document.getElementById("myTabContent"),a=document.getElementById("attrib-Resize");t.classList.add("row","ml-0","mr-0","p-0"),a.classList.add("col-md-3","p-4"),Joomla.cropper&&(Joomla.cropper={}),Joomla.cropperResize=new Cropper(e,{restore:!0,responsive:!0,dragMode:!1,autoCrop:!1,autoCropArea:1,guides:!1,center:!1,highlight:!1,cropBoxMovable:!1,scalable:!1,zoomable:!1,cropBoxResizable:!1,toggleDragModeOnDblclick:!1,minContainerWidth:e.offsetWidth,minContainerHeight:e.offsetHeight})}(r);setTimeout(function(){r=document.getElementById("media-manager-edit-container").querySelector("img");var t=document.getElementById("jform_resize_w"),a=document.getElementById("jform_resize_h");t.min=0,t.max=r.width,t.value=r.width,a.min=0,a.max=r.height,a.value=r.height,Joomla.cropperResize.aspectRatio=parseInt(t.value)/parseInt(a.value),t.addEventListener("change",function(t){var a=document.getElementById("jform_resize_w-lbl"),o=a.innerText.replace(/:.*/,"");a.innerHTML=o+" : "+t.target.value+" px",Joomla.cropperResize.crop({width:parseInt(document.getElementById("jform_resize_w").value),height:parseInt(document.getElementById("jform_resize_w").value)/Joomla.cropperResize.aspectRatio}),e({width:parseInt(document.getElementById("jform_resize_w").value),height:parseInt(document.getElementById("jform_resize_h").value)/Joomla.cropperResize.aspectRatio})}),a.addEventListener("change",function(t){var a=document.getElementById("jform_resize_h-lbl"),o=a.innerText.replace(/:.*/,"");a.innerHTML=o+" : "+t.target.value+" px",Joomla.cropperResize.crop({width:parseInt(document.getElementById("jform_resize_h").value)*Joomla.cropperResize.aspectRatio,height:parseInt(document.getElementById("jform_resize_h").value)}),e({width:parseInt(document.getElementById("jform_resize_h").value)*Joomla.cropperResize.aspectRatio,height:parseInt(document.getElementById("jform_resize_h").value)})})},1e3)},Deactivate:function(){Joomla.cropperResize&&Joomla.cropperResize.destroy()}}}();