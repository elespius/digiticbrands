Joomla=window.Joomla||{},Joomla.MediaManager=Joomla.MediaManager||{},Joomla.MediaManager.Edit=Joomla.MediaManager.Edit||{},function(){"use strict";var e=function(e){var t=document.getElementById("myTabContent"),a=document.getElementById("attrib-Resize");t.classList.add("row","ml-0","mr-0","p-0"),a.classList.add("col-md-3","p-4"),Joomla.cropper&&(Joomla.cropper={}),Joomla.cropperResize=new Cropper(e,{restore:!0,responsive:!0,dragMode:!1,autoCrop:!1,autoCropArea:1,guides:!1,center:!1,highlight:!1,cropBoxMovable:!1,scalable:!1,zoomable:!1,cropBoxResizable:!1,toggleDragModeOnDblclick:!1,minContainerWidth:e.offsetWidth,minContainerHeight:e.offsetHeight})},t=function(e){var t="jpg"===Joomla.MediaManager.Edit.original.extension?"jpeg":"jpg",a=document.getElementById("jform_resize_quality").value;Joomla.MediaManager.Edit.current.contents=Joomla.cropperResize.getCroppedCanvas(e).toDataURL("image/"+t,a),window.dispatchEvent(new Event("mediaManager.history.point")),document.getElementById("image-preview").src=Joomla.MediaManager.Edit.current.contents};Joomla.MediaManager.Edit.resize={Activate:function(a){var o=document.getElementById("media-manager-edit-container"),n=(document.createElement("h3"),document.createElement("div")),r=document.createElement("div"),i=document.createElement("img"),m=document.createElement("img");i.src=a.contents,m.src=a.contents,m.id="image-preview",i.style.maxWidth="100%",m.style.maxWidth="100%",n.style.display="none",n.appendChild(i),o.appendChild(n),r.appendChild(m),o.appendChild(r),e(i);setTimeout(function(){i=document.getElementById("media-manager-edit-container").querySelector("img");var e=document.getElementById("jform_resize_w"),a=document.getElementById("jform_resize_h");e.min=0,e.max=i.width,e.value=i.width,a.min=0,a.max=i.height,a.value=i.height,Joomla.cropperResize.aspectRatio=parseInt(e.value)/parseInt(a.value),e.addEventListener("change",function(e){var a=document.getElementById("jform_resize_w-lbl"),o=a.innerText.replace(/:.*/,"");a.innerHTML=o+" : "+e.target.value+" px",Joomla.cropperResize.crop({width:parseInt(document.getElementById("jform_resize_w").value),height:parseInt(document.getElementById("jform_resize_w").value)/Joomla.cropperResize.aspectRatio}),t({width:parseInt(document.getElementById("jform_resize_w").value),height:parseInt(document.getElementById("jform_resize_h").value)/Joomla.cropperResize.aspectRatio})}),a.addEventListener("change",function(e){var a=document.getElementById("jform_resize_h-lbl"),o=a.innerText.replace(/:.*/,"");a.innerHTML=o+" : "+e.target.value+" px",Joomla.cropperResize.crop({width:parseInt(document.getElementById("jform_resize_h").value)*Joomla.cropperResize.aspectRatio,height:parseInt(document.getElementById("jform_resize_h").value)}),t({width:parseInt(document.getElementById("jform_resize_h").value)*Joomla.cropperResize.aspectRatio,height:parseInt(document.getElementById("jform_resize_h").value)})})},1e3)},Deactivate:function(){Joomla.cropperResize&&Joomla.cropperResize.destroy()}}}();