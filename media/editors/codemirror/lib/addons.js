(function(){CodeMirror.defineOption("fullScreen",false,function(c,e,d){if(d==CodeMirror.Init){d=false}if(!d==!e){return}if(e){a(c)}else{b(c)}});function a(c){var d=c.getWrapperElement();c.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:d.style.width,height:d.style.height};d.style.width="";d.style.height="auto";d.className+=" CodeMirror-fullscreen";document.documentElement.style.overflow="hidden";c.refresh()}function b(c){var d=c.getWrapperElement();d.className=d.className.replace(/\s*CodeMirror-fullscreen\b/,"");document.documentElement.style.overflow="";var e=c.state.fullScreenRestore;d.style.width=e.width;d.style.height=e.height;window.scrollTo(e.scrollLeft,e.scrollTop);c.refresh()}})();(function(){var f="()[]{}''\"\"";var a="[]{}";var e=/\s/;CodeMirror.defineOption("autoCloseBrackets",false,function(g,l,h){if(h!=CodeMirror.Init&&h){g.removeKeyMap("autoCloseBrackets")}if(!l){return}var j=f,i=a;if(typeof l=="string"){j=l}else{if(typeof l=="object"){if(l.pairs!=null){j=l.pairs}if(l.explode!=null){i=l.explode}}}var k=d(j);if(i){k.Enter=b(i)}g.addKeyMap(k)});function c(g,i){var h=g.getRange(CodeMirror.Pos(i.line,i.ch-1),CodeMirror.Pos(i.line,i.ch+1));return h.length==2?h:null}function d(j){var k={name:"autoCloseBrackets",Backspace:function(i){if(i.somethingSelected()||i.getOption("disableInput")){return CodeMirror.Pass}var m=i.getCursor(),l=c(i,m);if(l&&j.indexOf(l)%2==0){i.replaceRange("",CodeMirror.Pos(m.line,m.ch-1),CodeMirror.Pos(m.line,m.ch+1))}else{return CodeMirror.Pass}}};var h="";for(var g=0;g<j.length;g+=2){(function(n,m){if(n!=m){h+=m}function i(o){var p=o.getSelection();o.replaceSelection(n+p+m)}function l(o){var q=o.getCursor(),p=o.getRange(q,CodeMirror.Pos(q.line,q.ch+1));if(p!=m||o.somethingSelected()){return CodeMirror.Pass}else{o.execCommand("goCharRight")}}k["'"+n+"'"]=function(o){if(n=="'"&&o.getTokenAt(o.getCursor()).type=="comment"||o.getOption("disableInput")){return CodeMirror.Pass}if(o.somethingSelected()){return i(o)}if(n==m&&l(o)!=CodeMirror.Pass){return}var t=o.getCursor(),r=CodeMirror.Pos(t.line,t.ch+1);var p=o.getLine(t.line),s=p.charAt(t.ch),q=t.ch>0?p.charAt(t.ch-1):"";if(n==m&&CodeMirror.isWordChar(q)){return CodeMirror.Pass}if(p.length==t.ch||h.indexOf(s)>=0||e.test(s)){o.replaceSelection(n+m,{head:r,anchor:r})}else{return CodeMirror.Pass}};if(n!=m){k["'"+m+"'"]=l}})(j.charAt(g),j.charAt(g+1))}return k}function b(g){return function(h){var j=h.getCursor(),i=c(h,j);if(!i||g.indexOf(i)%2!=0||h.getOption("disableInput")){return CodeMirror.Pass}h.operation(function(){var k=CodeMirror.Pos(j.line+1,0);h.replaceSelection("\n\n",{anchor:k,head:k},"+input");h.indentLine(j.line+1,null,true);h.indentLine(j.line+2,null,true)})}}})();(function(){CodeMirror.defineOption("autoCloseTags",false,function(f,i,g){if(g!=CodeMirror.Init&&g){f.removeKeyMap("autoCloseTags")}if(!i){return}var h={name:"autoCloseTags"};if(typeof i!="object"||i.whenClosing){h["'/'"]=function(j){return d(j)}}if(typeof i!="object"||i.whenOpening){h["'>'"]=function(j){return a(j)}}f.addKeyMap(h)});var c=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];var b=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"];function a(p){var o=p.getCursor(),q=p.getTokenAt(o);var r=CodeMirror.innerMode(p.getMode(),q.state),f=r.state;if(r.mode.name!="xml"||!f.tagName||p.getOption("disableInput")){return CodeMirror.Pass}var g=p.getOption("autoCloseTags"),k=r.mode.configuration=="html";var h=(typeof g=="object"&&g.dontCloseTags)||(k&&c);var m=(typeof g=="object"&&g.indentTags)||(k&&b);var i=f.tagName;if(q.end>o.ch){i=i.slice(0,i.length-q.end+o.ch)}var l=i.toLowerCase();if(!i||q.type=="string"&&(q.end!=o.ch||!/[\"\']/.test(q.string.charAt(q.string.length-1))||q.string.length==1)||q.type=="tag"&&f.type=="closeTag"||q.string.indexOf("/")==(q.string.length-1)||h&&e(h,l)>-1||CodeMirror.scanForClosingTag&&CodeMirror.scanForClosingTag(p,o,i,Math.min(p.lastLine()+1,o.line+50))){return CodeMirror.Pass}var n=m&&e(m,l)>-1;var j=n?CodeMirror.Pos(o.line+1,0):CodeMirror.Pos(o.line,o.ch+1);p.replaceSelection(">"+(n?"\n\n":"")+"</"+i+">",{head:j,anchor:j});if(n){p.indentLine(o.line+1,null,true);p.indentLine(o.line+2,null)}}function d(f){var k=f.getCursor(),h=f.getTokenAt(k);var g=CodeMirror.innerMode(f.getMode(),h.state),j=g.state;if(h.type=="string"||h.string.charAt(0)!="<"||h.start!=k.ch-1||g.mode.name!="xml"||f.getOption("disableInput")){return CodeMirror.Pass}var i=j.context&&j.context.tagName;if(i){f.replaceSelection("/"+i+">","end")}else{return CodeMirror.Pass}}function e(j,f){if(j.indexOf){return j.indexOf(f)}for(var g=0,h=j.length;g<h;++g){if(j[g]==f){return g}}return -1}})();(function(){var b=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8);var d=CodeMirror.Pos;var g={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function c(n,p,A){var j=n.state.matchBrackets;var u=(j&&j.maxScanLineLength)||10000;var z=(j&&j.maxScanLines)||100;var h=p||n.getCursor(),q=n.getLineHandle(h.line),k=h.ch-1;var m=(k>=0&&g[q.text.charAt(k)])||g[q.text.charAt(++k)];if(!m){return null}var o=m.charAt(1)==">",y=o?1:-1;if(A&&o!=(k==h.ch)){return null}var w=n.getTokenTypeAt(d(h.line,k+1));var l=[q.text.charAt(k)],t=/[(){}[\]]/;function s(B,G,F){if(!B.text){return}var E=o?0:B.text.length-1,i=o?B.text.length:-1;if(B.text.length>u){return null}if(F!=null){E=F+y}for(;E!=i;E+=y){var D=B.text.charAt(E);if(t.test(D)&&n.getTokenTypeAt(d(G,E+1))==w){var C=g[D];if(C.charAt(1)==">"==o){l.push(D)}else{if(l.pop()!=C.charAt(0)){return{pos:E,match:false}}else{if(!l.length){return{pos:E,match:true}}}}}}}for(var v=h.line,r,x=o?Math.min(v+z,n.lineCount()):Math.max(-1,v-z);v!=x;v+=y){if(v==h.line){r=s(q,v,k)}else{r=s(n.getLineHandle(v),v)}if(r){break}}return{from:d(h.line,k),to:r&&d(v,r.pos),match:r&&r.match,forward:o}}function a(i,o){var l=i.state.matchBrackets.maxHighlightLineLength||1000;var n=c(i);if(!n||i.getLine(n.from.line).length>l||n.to&&i.getLine(n.to.line).length>l){return}var m=n.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";var k=i.markText(n.from,d(n.from.line,n.from.ch+1),{className:m});var j=n.to&&i.markText(n.to,d(n.to.line,n.to.ch+1),{className:m});if(b&&i.state.focused){i.display.input.focus()}var h=function(){i.operation(function(){k.clear();j&&j.clear()})};if(o){setTimeout(h,800)}else{return h}}var e=null;function f(h){h.operation(function(){if(e){e();e=null}if(!h.somethingSelected()){e=a(h,false)}})}CodeMirror.defineOption("matchBrackets",false,function(h,j,i){if(i&&i!=CodeMirror.Init){h.off("cursorActivity",f)}if(j){h.state.matchBrackets=typeof j=="object"?j:{};h.on("cursorActivity",f)}});CodeMirror.defineExtension("matchBrackets",function(){a(this,true)});CodeMirror.defineExtension("findMatchingBracket",function(i,h){return c(this,i,h)})})();(function(){CodeMirror.defineOption("matchTags",false,function(d,f,e){if(e&&e!=CodeMirror.Init){d.off("cursorActivity",b);d.off("viewportChange",c);a(d)}if(f){d.state.matchBothTags=typeof f=="object"&&f.bothTags;d.on("cursorActivity",b);d.on("viewportChange",c);b(d)}});function a(d){if(d.state.tagHit){d.state.tagHit.clear()}if(d.state.tagOther){d.state.tagOther.clear()}d.state.tagHit=d.state.tagOther=null}function b(d){d.state.failedTagMatch=false;d.operation(function(){a(d);if(d.somethingSelected()){return}var i=d.getCursor(),f=d.getViewport();f.from=Math.min(f.from,i.line);f.to=Math.max(i.line+1,f.to);var g=CodeMirror.findMatchingTag(d,i,f);if(!g){return}if(d.state.matchBothTags){var h=g.at=="open"?g.open:g.close;if(h){d.state.tagHit=d.markText(h.from,h.to,{className:"CodeMirror-matchingtag"})}}var e=g.at=="close"?g.open:g.close;if(e){d.state.tagOther=d.markText(e.from,e.to,{className:"CodeMirror-matchingtag"})}else{d.state.failedTagMatch=true}})}function c(d){if(d.state.failedTagMatch){b(d)}}CodeMirror.commands.toMatchingTag=function(e){var f=CodeMirror.findMatchingTag(e,e.getCursor());if(f){var d=f.at=="close"?f.open:f.close;if(d){e.setSelection(d.to,d.from)}}}})();CodeMirror.registerHelper("fold","brace",function(l,g){var n=g.line,f=l.getLine(n);var m,s;function c(t){for(var i=g.ch,u=0;;){var v=i<=0?-1:f.lastIndexOf(t,i-1);if(v==-1){if(u==1){break}u=1;i=f.length;continue}if(u==1&&v<g.ch){break}s=l.getTokenTypeAt(CodeMirror.Pos(n,v+1));if(!/^(comment|string)/.test(s)){return v+1}i=v-1}}var h="{",d="}",m=c("{");if(m==null){h="[",d="]";m=c("[")}if(m==null){return}var k=1,b=l.lastLine(),e,p;outer:for(var r=n;r<=b;++r){var o=l.getLine(r),j=r==n?m:0;for(;;){var a=o.indexOf(h,j),q=o.indexOf(d,j);if(a<0){a=o.length}if(q<0){q=o.length}j=Math.min(a,q);if(j==o.length){break}if(l.getTokenTypeAt(CodeMirror.Pos(r,j+1))==s){if(j==a){++k}else{if(!--k){e=r;p=j;break outer}}}++j}}if(e==null||n==e&&p==m){return}return{from:CodeMirror.Pos(n,m),to:CodeMirror.Pos(e,p)}});CodeMirror.braceRangeFinder=CodeMirror.fold.brace;CodeMirror.registerHelper("fold","import",function(a,g){function f(j){if(j<a.firstLine()||j>a.lastLine()){return null}var n=a.getTokenAt(CodeMirror.Pos(j,1));if(!/\S/.test(n.string)){n=a.getTokenAt(CodeMirror.Pos(j,n.end+1))}if(n.type!="keyword"||n.string!="import"){return null}for(var k=j,l=Math.min(a.lastLine(),j+10);k<=l;++k){var m=a.getLine(k),h=m.indexOf(";");if(h!=-1){return{startCh:n.end,end:CodeMirror.Pos(k,h)}}}}var g=g.line,c=f(g),e;if(!c||f(g-1)||((e=f(g-2))&&e.end.line==g-1)){return null}for(var b=c.end;;){var d=f(b.line+1);if(d==null){break}b=d.end}return{from:a.clipPos(CodeMirror.Pos(g,c.startCh+1)),to:b}});CodeMirror.importRangeFinder=CodeMirror.fold["import"];CodeMirror.registerHelper("fold","include",function(a,f){function e(g){if(g<a.firstLine()||g>a.lastLine()){return null}var h=a.getTokenAt(CodeMirror.Pos(g,1));if(!/\S/.test(h.string)){h=a.getTokenAt(CodeMirror.Pos(g,h.end+1))}if(h.type=="meta"&&h.string.slice(0,8)=="#include"){return h.start+8}}var f=f.line,c=e(f);if(c==null||e(f-1)!=null){return null}for(var b=f;;){var d=e(b+1);if(d==null){break}++b}return{from:CodeMirror.Pos(f,c+1),to:a.clipPos(CodeMirror.Pos(b))}});CodeMirror.includeRangeFinder=CodeMirror.fold.include;(function(){function a(k,j,l,f){var d=l&&(l.call?l:l.rangeFinder);if(!d){d=CodeMirror.fold.auto}if(typeof j=="number"){j=CodeMirror.Pos(j,0)}var e=l&&l.minFoldSize||0;function c(m){var n=d(k,j);if(!n||n.to.line-n.from.line<e){return null}var p=k.findMarksAt(n.from);for(var o=0;o<p.length;++o){if(p[o].__isFold&&f!=="fold"){if(!m){return null}n.cleared=true;p[o].clear()}}return n}var h=c(true);if(l&&l.scanUp){while(!h&&j.line>k.firstLine()){j=CodeMirror.Pos(j.line-1,0);h=c(false)}}if(!h||h.cleared||f==="unfold"){return}var i=b(l);CodeMirror.on(i,"mousedown",function(){g.clear()});var g=k.markText(h.from,h.to,{replacedWith:i,clearOnEnter:true,__isFold:true});g.on("clear",function(n,m){CodeMirror.signal(k,"unfold",k,n,m)});CodeMirror.signal(k,"fold",k,h.from,h.to)}function b(c){var d=(c&&c.widget)||"\u2194";if(typeof d=="string"){var e=document.createTextNode(d);d=document.createElement("span");d.appendChild(e);d.className="CodeMirror-foldmarker"}return d}CodeMirror.newFoldFunction=function(d,c){return function(e,f){a(e,f,{rangeFinder:d,widget:c})}};CodeMirror.defineExtension("foldCode",function(e,c,d){a(this,e,c,d)});CodeMirror.defineExtension("isFolded",function(e){var d=this.findMarksAt(e);for(var c=0;c<d.length;++c){if(d[c].__isFold){return true}}});CodeMirror.commands.fold=function(c){c.foldCode(c.getCursor())};CodeMirror.registerHelper("fold","combine",function(){var c=Array.prototype.slice.call(arguments,0);return function(d,g){for(var e=0;e<c.length;++e){var f=c[e](d,g);if(f){return f}}}});CodeMirror.registerHelper("fold","auto",function(c,g){var e=c.getHelpers(g,"fold");for(var d=0;d<e.length;d++){var f=e[d](c,g);if(f){return f}}})})();(function(){CodeMirror.defineOption("foldGutter",false,function(l,n,m){if(m&&m!=CodeMirror.Init){l.clearGutter(l.state.foldGutter.options.gutter);l.state.foldGutter=null;l.off("gutterClick",j);l.off("change",f);l.off("viewportChange",k);l.off("fold",d);l.off("unfold",d);l.off("swapDoc",b)}if(n){l.state.foldGutter=new i(h(n));b(l);l.on("gutterClick",j);l.on("change",f);l.on("viewportChange",k);l.on("fold",d);l.on("unfold",d);l.on("swapDoc",b)}});var g=CodeMirror.Pos;function i(l){this.options=l;this.from=this.to=0}function h(l){if(l===true){l={}}if(l.gutter==null){l.gutter="CodeMirror-foldgutter"}if(l.indicatorOpen==null){l.indicatorOpen="CodeMirror-foldgutter-open"}if(l.indicatorFolded==null){l.indicatorFolded="CodeMirror-foldgutter-folded"}return l}function c(l,m){var o=l.findMarksAt(g(m));for(var n=0;n<o.length;++n){if(o[n].__isFold&&o[n].find().from.line==m){return true}}}function e(l){if(typeof l=="string"){var m=document.createElement("div");m.className=l;return m}else{return l.cloneNode(true)}}function a(l,p,o){var m=l.state.foldGutter.options,n=p;l.eachLine(p,o,function(q){var u=null;if(c(l,n)){u=e(m.indicatorFolded)}else{var t=g(n,0),s=m.rangeFinder||CodeMirror.fold.auto;var r=s&&s(l,t);if(r&&r.from.line+1<r.to.line){u=e(m.indicatorOpen)}}l.setGutterMarker(q,m.gutter,u);++n})}function b(l){var m=l.getViewport(),n=l.state.foldGutter;if(!n){return}l.operation(function(){a(l,m.from,m.to)});n.from=m.from;n.to=m.to}function j(l,m,o){var n=l.state.foldGutter.options;if(o!=n.gutter){return}l.foldCode(g(m,0),n.rangeFinder)}function f(l){var n=l.state.foldGutter,m=l.state.foldGutter.options;n.from=n.to=0;clearTimeout(n.changeUpdate);n.changeUpdate=setTimeout(function(){b(l)},m.foldOnChangeTimeSpan||600)}function k(l){var n=l.state.foldGutter,m=l.state.foldGutter.options;clearTimeout(n.changeUpdate);n.changeUpdate=setTimeout(function(){var o=l.getViewport();if(n.from==n.to||o.from-n.to>20||n.from-o.to>20){b(l)}else{l.operation(function(){if(o.from<n.from){a(l,o.from,n.from);n.from=o.from}if(o.to>n.to){a(l,n.to,o.to);n.to=o.to}})}},m.updateViewportTimeSpan||400)}function d(l,o){var n=l.state.foldGutter,m=o.line;if(m>=n.from&&m<n.to){a(l,m,m+1)}}})();(function(){var l=CodeMirror.Pos;function k(q,p){return q.line-p.line||q.ch-p.ch}var i="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD";var n=i+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040";var d=new RegExp("<(/?)(["+i+"]["+n+"]*)","g");function a(p,q,s,r){this.line=q;this.ch=s;this.cm=p;this.text=p.getLine(q);this.min=r?r.from:p.firstLine();this.max=r?r.to-1:p.lastLine()}function h(p,r){var q=p.cm.getTokenTypeAt(l(p.line,r));return q&&/\btag\b/.test(q)}function b(p){if(p.line>=p.max){return}p.ch=0;p.text=p.cm.getLine(++p.line);return true}function m(p){if(p.line<=p.min){return}p.text=p.cm.getLine(--p.line);p.ch=p.text.length;return true}function g(r){for(;;){var q=r.text.indexOf(">",r.ch);if(q==-1){if(b(r)){continue}else{return}}if(!h(r,q+1)){r.ch=q+1;continue}var p=r.text.lastIndexOf("/",q);var s=p>-1&&!/\S/.test(r.text.slice(p+1,q));r.ch=q+1;return s?"selfClose":"regular"}}function j(q){for(;;){var p=q.ch?q.text.lastIndexOf("<",q.ch-1):-1;if(p==-1){if(m(q)){continue}else{return}}if(!h(q,p+1)){q.ch=p;continue}d.lastIndex=p;q.ch=p;var r=d.exec(q.text);if(r&&r.index==p){return r}}}function o(p){for(;;){d.lastIndex=p.ch;var q=d.exec(p.text);if(!q){if(b(p)){continue}else{return}}if(!h(p,q.index+1)){p.ch=q.index+1;continue}p.ch=q.index+q[0].length;return q}}function e(r){for(;;){var q=r.ch?r.text.lastIndexOf(">",r.ch-1):-1;if(q==-1){if(m(r)){continue}else{return}}if(!h(r,q+1)){r.ch=q;continue}var p=r.text.lastIndexOf("/",q);var s=p>-1&&!/\S/.test(r.text.slice(p+1,q));r.ch=q+1;return s?"selfClose":"regular"}}function f(s,q){var p=[];for(;;){var u=o(s),r,w=s.line,v=s.ch-(u?u[0].length:0);if(!u||!(r=g(s))){return}if(r=="selfClose"){continue}if(u[1]){for(var t=p.length-1;t>=0;--t){if(p[t]==u[2]){p.length=t;break}}if(t<0&&(!q||q==u[2])){return{tag:u[2],from:l(w,v),to:l(s.line,s.ch)}}}else{p.push(u[2])}}}function c(r,q){var p=[];for(;;){var v=e(r);if(!v){return}if(v=="selfClose"){j(r);continue}var u=r.line,t=r.ch;var w=j(r);if(!w){return}if(w[1]){p.push(w[2])}else{for(var s=p.length-1;s>=0;--s){if(p[s]==w[2]){p.length=s;break}}if(s<0&&(!q||q==w[2])){return{tag:w[2],from:l(r.line,r.ch),to:l(u,t)}}}}}CodeMirror.registerHelper("fold","xml",function(p,u){var r=new a(p,u.line,0);for(;;){var s=o(r),q;if(!s||r.line!=u.line||!(q=g(r))){return}if(!s[1]&&q!="selfClose"){var u=l(r.line,r.ch);var t=f(r,s[2]);return t&&{from:u,to:t.from}}}});CodeMirror.tagRangeFinder=CodeMirror.fold.xml;CodeMirror.findMatchingTag=function(p,w,s){var r=new a(p,w.line,w.ch,s);if(r.text.indexOf(">")==-1&&r.text.indexOf("<")==-1){return}var q=g(r),v=q&&l(r.line,r.ch);var u=q&&j(r);if(!q||q=="selfClose"||!u||k(r,w)>0){return}var t={from:l(r.line,r.ch),to:v,tag:u[2]};if(u[1]){return{open:c(r,u[2]),close:t,at:"close"}}else{r=new a(p,v.line,v.ch,s);return{open:t,close:f(r,u[2]),at:"open"}}};CodeMirror.findEnclosingTag=function(p,v,r){var q=new a(p,v.line,v.ch,r);for(;;){var t=c(q);if(!t){break}var s=new a(p,v.line,v.ch,r);var u=f(s,t.tag);if(u){return{open:t,close:u}}}};CodeMirror.scanForClosingTag=function(p,t,s,r){var q=new a(p,t.line,t.ch,r?{from:0,to:r}:null);return !!f(q,s)}})();(function(){if(!CodeMirror.modeURL){CodeMirror.modeURL="../mode/%N/%N.js"}var c={};function b(d,f){var e=f;return function(){if(--e==0){d()}}}function a(j,d){var h=CodeMirror.modes[j].dependencies;if(!h){return d()}var g=[];for(var f=0;f<h.length;++f){if(!CodeMirror.modes.hasOwnProperty(h[f])){g.push(h[f])}}if(!g.length){return d()}var e=b(d,g.length);for(var f=0;f<g.length;++f){CodeMirror.requireMode(g[f],e)}}CodeMirror.requireMode=function(j,d){if(typeof j!="string"){j=j.name}if(CodeMirror.modes.hasOwnProperty(j)){return a(j,d)}if(c.hasOwnProperty(j)){return c[j].push(d)}var e=document.createElement("script");e.src=CodeMirror.modeURL.replace(/%N/g,j);var f=document.getElementsByTagName("script")[0];f.parentNode.insertBefore(e,f);var h=c[j]=[d];var g=0,i=setInterval(function(){if(++g>100){return clearInterval(i)}if(CodeMirror.modes.hasOwnProperty(j)){clearInterval(i);c[j]=null;a(j,function(){for(var k=0;k<h.length;++k){h[k]()}})}},200)};CodeMirror.autoLoadMode=function(d,e){if(!CodeMirror.modes.hasOwnProperty(e)){CodeMirror.requireMode(e,function(){d.setOption("mode",d.getOption("mode"))})}}}());CodeMirror.multiplexingMode=function(b){var d=Array.prototype.slice.call(arguments,1);var a=d.length;function c(f,g,h){if(typeof g=="string"){return f.indexOf(g,h)}var e=g.exec(h?f.slice(h):f);return e?e.index+h:-1}return{startState:function(){return{outer:CodeMirror.startState(b),innerActive:null,inner:null}},copyState:function(e){return{outer:CodeMirror.copyState(b,e.outer),innerActive:e.innerActive,inner:e.innerActive&&CodeMirror.copyState(e.innerActive.mode,e.inner)}},token:function(n,e){if(!e.innerActive){var g=Infinity,l=n.string;for(var h=0;h<a;++h){var k=d[h];var o=c(l,k.open,n.pos);if(o==n.pos){n.match(k.open);e.innerActive=k;e.inner=CodeMirror.startState(k.mode,b.indent?b.indent(e.outer,""):0);return k.delimStyle}else{if(o!=-1&&o<g){g=o}}}if(g!=Infinity){n.string=l.slice(0,g)}var f=b.token(n,e.outer);if(g!=Infinity){n.string=l}return f}else{var j=e.innerActive,l=n.string;if(!j.close&&n.sol()){e.innerActive=e.inner=null;return this.token(n,e)}var o=j.close?c(l,j.close,n.pos):-1;if(o==n.pos){n.match(j.close);e.innerActive=e.inner=null;return j.delimStyle}if(o>-1){n.string=l.slice(0,o)}var m=j.mode.token(n,e.inner);if(o>-1){n.string=l}if(j.innerStyle){if(m){m=m+" "+j.innerStyle}else{m=j.innerStyle}}return m}},indent:function(f,e){var g=f.innerActive?f.innerActive.mode:b;if(!g.indent){return CodeMirror.Pass}return g.indent(f.innerActive?f.inner:f.outer,e)},blankLine:function(g){var h=g.innerActive?g.innerActive.mode:b;if(h.blankLine){h.blankLine(g.innerActive?g.inner:g.outer)}if(!g.innerActive){for(var f=0;f<a;++f){var e=d[f];if(e.open==="\n"){g.innerActive=e;g.inner=CodeMirror.startState(e.mode,h.indent?h.indent(g.outer,""):0)}}}else{if(g.innerActive.close==="\n"){g.innerActive=g.inner=null}}},electricChars:b.electricChars,innerMode:function(e){return e.inner?{state:e.inner,mode:e.innerActive.mode}:{state:e.outer,mode:b}}}};(function(){var e="CodeMirror-activeline";var d="CodeMirror-activeline-background";CodeMirror.defineOption("styleActiveLine",false,function(f,i,g){var h=g&&g!=CodeMirror.Init;if(i&&!h){c(f,f.getCursor().line);f.on("beforeSelectionChange",a)}else{if(!i&&h){f.off("beforeSelectionChange",a);b(f);delete f.state.activeLine}}});function b(f){if("activeLine" in f.state){f.removeLineClass(f.state.activeLine,"wrap",e);f.removeLineClass(f.state.activeLine,"background",d)}}function c(f,h){var g=f.getLineHandleVisualStart(h);if(f.state.activeLine==g){return}f.operation(function(){b(f);f.addLineClass(g,"wrap",e);f.addLineClass(g,"background",d);f.state.activeLine=g})}function a(f,g){c(f,g.head.line)}})();(function(){var a=[{keys:["<Left>"],type:"keyToKey",toKeys:["h"]},{keys:["<Right>"],type:"keyToKey",toKeys:["l"]},{keys:["<Up>"],type:"keyToKey",toKeys:["k"]},{keys:["<Down>"],type:"keyToKey",toKeys:["j"]},{keys:["<Space>"],type:"keyToKey",toKeys:["l"]},{keys:["<BS>"],type:"keyToKey",toKeys:["h"]},{keys:["<C-Space>"],type:"keyToKey",toKeys:["W"]},{keys:["<C-BS>"],type:"keyToKey",toKeys:["B"]},{keys:["<S-Space>"],type:"keyToKey",toKeys:["w"]},{keys:["<S-BS>"],type:"keyToKey",toKeys:["b"]},{keys:["<C-n>"],type:"keyToKey",toKeys:["j"]},{keys:["<C-p>"],type:"keyToKey",toKeys:["k"]},{keys:["<C-[>"],type:"keyToKey",toKeys:["<Esc>"]},{keys:["<C-c>"],type:"keyToKey",toKeys:["<Esc>"]},{keys:["s"],type:"keyToKey",toKeys:["c","l"],context:"normal"},{keys:["s"],type:"keyToKey",toKeys:["x","i"],context:"visual"},{keys:["S"],type:"keyToKey",toKeys:["c","c"],context:"normal"},{keys:["S"],type:"keyToKey",toKeys:["d","c","c"],context:"visual"},{keys:["<Home>"],type:"keyToKey",toKeys:["0"]},{keys:["<End>"],type:"keyToKey",toKeys:["$"]},{keys:["<PageUp>"],type:"keyToKey",toKeys:["<C-b>"]},{keys:["<PageDown>"],type:"keyToKey",toKeys:["<C-f>"]},{keys:["<CR>"],type:"keyToKey",toKeys:["j","^"],context:"normal"},{keys:["H"],type:"motion",motion:"moveToTopLine",motionArgs:{linewise:true,toJumplist:true}},{keys:["M"],type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:true,toJumplist:true}},{keys:["L"],type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:true,toJumplist:true}},{keys:["h"],type:"motion",motion:"moveByCharacters",motionArgs:{forward:false}},{keys:["l"],type:"motion",motion:"moveByCharacters",motionArgs:{forward:true}},{keys:["j"],type:"motion",motion:"moveByLines",motionArgs:{forward:true,linewise:true}},{keys:["k"],type:"motion",motion:"moveByLines",motionArgs:{forward:false,linewise:true}},{keys:["g","j"],type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:true}},{keys:["g","k"],type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:false}},{keys:["w"],type:"motion",motion:"moveByWords",motionArgs:{forward:true,wordEnd:false}},{keys:["W"],type:"motion",motion:"moveByWords",motionArgs:{forward:true,wordEnd:false,bigWord:true}},{keys:["e"],type:"motion",motion:"moveByWords",motionArgs:{forward:true,wordEnd:true,inclusive:true}},{keys:["E"],type:"motion",motion:"moveByWords",motionArgs:{forward:true,wordEnd:true,bigWord:true,inclusive:true}},{keys:["b"],type:"motion",motion:"moveByWords",motionArgs:{forward:false,wordEnd:false}},{keys:["B"],type:"motion",motion:"moveByWords",motionArgs:{forward:false,wordEnd:false,bigWord:true}},{keys:["g","e"],type:"motion",motion:"moveByWords",motionArgs:{forward:false,wordEnd:true,inclusive:true}},{keys:["g","E"],type:"motion",motion:"moveByWords",motionArgs:{forward:false,wordEnd:true,bigWord:true,inclusive:true}},{keys:["{"],type:"motion",motion:"moveByParagraph",motionArgs:{forward:false,toJumplist:true}},{keys:["}"],type:"motion",motion:"moveByParagraph",motionArgs:{forward:true,toJumplist:true}},{keys:["<C-f>"],type:"motion",motion:"moveByPage",motionArgs:{forward:true}},{keys:["<C-b>"],type:"motion",motion:"moveByPage",motionArgs:{forward:false}},{keys:["<C-d>"],type:"motion",motion:"moveByScroll",motionArgs:{forward:true,explicitRepeat:true}},{keys:["<C-u>"],type:"motion",motion:"moveByScroll",motionArgs:{forward:false,explicitRepeat:true}},{keys:["g","g"],type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:false,explicitRepeat:true,linewise:true,toJumplist:true}},{keys:["G"],type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:true,explicitRepeat:true,linewise:true,toJumplist:true}},{keys:["0"],type:"motion",motion:"moveToStartOfLine"},{keys:["^"],type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:["+"],type:"motion",motion:"moveByLines",motionArgs:{forward:true,toFirstChar:true}},{keys:["-"],type:"motion",motion:"moveByLines",motionArgs:{forward:false,toFirstChar:true}},{keys:["_"],type:"motion",motion:"moveByLines",motionArgs:{forward:true,toFirstChar:true,repeatOffset:-1}},{keys:["$"],type:"motion",motion:"moveToEol",motionArgs:{inclusive:true}},{keys:["%"],type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:true,toJumplist:true}},{keys:["f","character"],type:"motion",motion:"moveToCharacter",motionArgs:{forward:true,inclusive:true}},{keys:["F","character"],type:"motion",motion:"moveToCharacter",motionArgs:{forward:false}},{keys:["t","character"],type:"motion",motion:"moveTillCharacter",motionArgs:{forward:true,inclusive:true}},{keys:["T","character"],type:"motion",motion:"moveTillCharacter",motionArgs:{forward:false}},{keys:[";"],type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:true}},{keys:[","],type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:false}},{keys:["'","character"],type:"motion",motion:"goToMark",motionArgs:{toJumplist:true}},{keys:["`","character"],type:"motion",motion:"goToMark",motionArgs:{toJumplist:true}},{keys:["]","`"],type:"motion",motion:"jumpToMark",motionArgs:{forward:true}},{keys:["[","`"],type:"motion",motion:"jumpToMark",motionArgs:{forward:false}},{keys:["]","'"],type:"motion",motion:"jumpToMark",motionArgs:{forward:true,linewise:true}},{keys:["[","'"],type:"motion",motion:"jumpToMark",motionArgs:{forward:false,linewise:true}},{keys:["]","character"],type:"motion",motion:"moveToSymbol",motionArgs:{forward:true,toJumplist:true}},{keys:["[","character"],type:"motion",motion:"moveToSymbol",motionArgs:{forward:false,toJumplist:true}},{keys:["|"],type:"motion",motion:"moveToColumn",motionArgs:{}},{keys:["d"],type:"operator",operator:"delete"},{keys:["y"],type:"operator",operator:"yank"},{keys:["c"],type:"operator",operator:"change"},{keys:[">"],type:"operator",operator:"indent",operatorArgs:{indentRight:true}},{keys:["<"],type:"operator",operator:"indent",operatorArgs:{indentRight:false}},{keys:["g","~"],type:"operator",operator:"swapcase"},{keys:["n"],type:"motion",motion:"findNext",motionArgs:{forward:true,toJumplist:true}},{keys:["N"],type:"motion",motion:"findNext",motionArgs:{forward:false,toJumplist:true}},{keys:["x"],type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:true},operatorMotionArgs:{visualLine:false}},{keys:["X"],type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:false},operatorMotionArgs:{visualLine:true}},{keys:["D"],type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:true},operatorMotionArgs:{visualLine:true}},{keys:["Y"],type:"operatorMotion",operator:"yank",motion:"moveToEol",motionArgs:{inclusive:true},operatorMotionArgs:{visualLine:true}},{keys:["C"],type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:true},operatorMotionArgs:{visualLine:true}},{keys:["~"],type:"operatorMotion",operator:"swapcase",operatorArgs:{shouldMoveCursor:true},motion:"moveByCharacters",motionArgs:{forward:true}},{keys:["<C-i>"],type:"action",action:"jumpListWalk",actionArgs:{forward:true}},{keys:["<C-o>"],type:"action",action:"jumpListWalk",actionArgs:{forward:false}},{keys:["<C-e>"],type:"action",action:"scroll",actionArgs:{forward:true,linewise:true}},{keys:["<C-y>"],type:"action",action:"scroll",actionArgs:{forward:false,linewise:true}},{keys:["a"],type:"action",action:"enterInsertMode",isEdit:true,actionArgs:{insertAt:"charAfter"}},{keys:["A"],type:"action",action:"enterInsertMode",isEdit:true,actionArgs:{insertAt:"eol"}},{keys:["i"],type:"action",action:"enterInsertMode",isEdit:true,actionArgs:{insertAt:"inplace"}},{keys:["I"],type:"action",action:"enterInsertMode",isEdit:true,actionArgs:{insertAt:"firstNonBlank"}},{keys:["o"],type:"action",action:"newLineAndEnterInsertMode",isEdit:true,interlaceInsertRepeat:true,actionArgs:{after:true}},{keys:["O"],type:"action",action:"newLineAndEnterInsertMode",isEdit:true,interlaceInsertRepeat:true,actionArgs:{after:false}},{keys:["v"],type:"action",action:"toggleVisualMode"},{keys:["V"],type:"action",action:"toggleVisualMode",actionArgs:{linewise:true}},{keys:["J"],type:"action",action:"joinLines",isEdit:true},{keys:["p"],type:"action",action:"paste",isEdit:true,actionArgs:{after:true,isEdit:true}},{keys:["P"],type:"action",action:"paste",isEdit:true,actionArgs:{after:false,isEdit:true}},{keys:["r","character"],type:"action",action:"replace",isEdit:true},{keys:["@","character"],type:"action",action:"replayMacro"},{keys:["q","character"],type:"action",action:"enterMacroRecordMode"},{keys:["R"],type:"action",action:"enterInsertMode",isEdit:true,actionArgs:{replace:true}},{keys:["u"],type:"action",action:"undo"},{keys:["<C-r>"],type:"action",action:"redo"},{keys:["m","character"],type:"action",action:"setMark"},{keys:['"',"character"],type:"action",action:"setRegister"},{keys:["z","z"],type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:["z","."],type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:["z","t"],type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:["z","<CR>"],type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:["z","-"],type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:["z","b"],type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:["."],type:"action",action:"repeatLastEdit"},{keys:["<C-a>"],type:"action",action:"incrementNumberToken",isEdit:true,actionArgs:{increase:true,backtrack:false}},{keys:["<C-x>"],type:"action",action:"incrementNumberToken",isEdit:true,actionArgs:{increase:false,backtrack:false}},{keys:["a","character"],type:"motion",motion:"textObjectManipulation"},{keys:["i","character"],type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:true}},{keys:["/"],type:"search",searchArgs:{forward:true,querySrc:"prompt",toJumplist:true}},{keys:["?"],type:"search",searchArgs:{forward:false,querySrc:"prompt",toJumplist:true}},{keys:["*"],type:"search",searchArgs:{forward:true,querySrc:"wordUnderCursor",toJumplist:true}},{keys:["#"],type:"search",searchArgs:{forward:false,querySrc:"wordUnderCursor",toJumplist:true}},{keys:[":"],type:"ex"}];var b=function(){CodeMirror.defineOption("vimMode",false,function(a2,a3){if(a3){a2.setOption("keyMap","vim");a2.setOption("disableInput",true);CodeMirror.signal(a2,"vim-mode-change",{mode:"normal"});a2.on("beforeSelectionChange",f);u(a2);CodeMirror.on(a2.getInputField(),"paste",C(a2))}else{if(a2.state.vim){a2.setOption("keyMap","default");a2.setOption("disableInput",false);a2.off("beforeSelectionChange",f);CodeMirror.off(a2.getInputField(),"paste",C(a2));a2.state.vim=null}}});function f(a2,a5){var a3=a2.state.vim;if(a3.insertMode||a3.exMode){return}var a4=a5.head;if(a4.ch&&a4.ch==a2.doc.getLine(a4.line).length){a4.ch--}}function C(a2){var a3=a2.state.vim;if(!a3.onPasteFn){a3.onPasteFn=function(){if(!a3.insertMode){a2.setCursor(s(a2.getCursor(),0,1));k.enterInsertMode(a2,{},a3)}}}return a3.onPasteFn}var aA=/[\d]/;var aa=[(/\w/),(/[^\w\s]/)],aT=[(/\S/)];function Z(a5,a3){var a4=[];for(var a2=a5;a2<a5+a3;a2++){a4.push(String.fromCharCode(a2))}return a4}var N=Z(65,26);var V=Z(97,26);var D=Z(48,10);var e="~`!@#$%^&*()_-+=[{}]\\|/?.,<>:;\"'".split("");var ay=["Left","Right","Up","Down","Space","Backspace","Esc","Home","End","PageUp","PageDown","Enter"];var ak=[].concat(N,V,D,["<",">"]);var h=[].concat(N,V,D,["-",'"']);function c(a2,a3){return a3>=a2.firstLine()&&a3<=a2.lastLine()}function t(a2){return(/^[a-z]$/).test(a2)}function y(a2){return"()[]{}".indexOf(a2)!=-1}function M(a2){return aA.test(a2)}function p(a2){return(/^[A-Z]$/).test(a2)}function A(a2){return(/^\s*$/).test(a2)}function w(a4,a2){for(var a3=0;a3<a2.length;a3++){if(a2[a3]==a4){return true}}return false}var X=function(){var a6=100;var a8=-1;var a5=0;var a4=0;var a3=new Array(a6);function a7(a9,bb,bc){var bd=a8%a6;var be=a3[bd];function ba(bh){var bg=++a8%a6;var bi=a3[bg];if(bi){bi.clear()}a3[bg]=a9.setBookmark(bh)}if(be){var bf=be.find();if(bf&&!a0(bf,bb)){ba(bb)}}else{ba(bb)}ba(bc);a5=a8;a4=a8-a6+1;if(a4<0){a4=0}}function a2(a9,bd){a8+=bd;if(a8>a5){a8=a5}else{if(a8<a4){a8=a4}}var be=a3[(a6+a8)%a6];if(be&&!be.find()){var bc=bd>0?1:-1;var bb;var ba=a9.getCursor();do{a8+=bc;be=a3[(a6+a8)%a6];if(be&&(bb=be.find())&&!a0(ba,bb)){break}}while(a8<a5&&a8>a4)}return be}return{cachedCursor:undefined,add:a7,move:a2}};var aV=function(){return{macroKeyBuffer:[],latestRegister:undefined,inReplay:false,lastInsertModeChanges:{changes:[],expectCursorActivityForChange:false},enteredMacroMode:undefined,isMacroPlaying:false,toggle:function(a2,a3){if(this.enteredMacroMode){this.enteredMacroMode();this.enteredMacroMode=undefined}else{this.latestRegister=a3;this.enteredMacroMode=a2.openDialog("(recording)["+a3+"]",null,{bottom:true})}}}};function u(a2){if(!a2.state.vim){a2.state.vim={inputState:new af(),lastEditInputState:undefined,lastEditActionCommand:undefined,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},insertMode:false,insertModeRepeat:undefined,visualMode:false,visualLine:false}}return a2.state.vim}var l;function o(){l={searchQuery:null,searchIsReversed:false,jumpList:X(),macroModeState:aV(),lastChararacterSearch:{increment:0,forward:true,selectedCharacter:""},registerController:new O({})}}var at={buildKeyMap:function(){},getRegisterController:function(){return l.registerController},resetVimGlobalState_:o,getVimGlobalState_:function(){return l},maybeInitVimState_:u,InsertModeKey:aQ,map:function(a3,a4,a2){i.map(a3,a4,a2)},defineEx:function(a2,a4,a3){if(a2.indexOf(a4)!==0){throw new Error('(Vim.defineEx) "'+a4+'" is not a prefix of "'+a2+'", command not registered')}aF[a2]=a3;i.commandMap_[a4]={name:a2,shortName:a4,type:"api"}},handleKey:function(a2,a5){var a7;var a3=u(a2);var a6=l.macroModeState;if(a6.enteredMacroMode){if(a5=="q"){k.exitMacroRecordMode();a3.inputState=new af();return}}if(a5=="<Esc>"){a3.inputState=new af();if(a3.visualMode){aw(a2)}return}if(!a3.visualMode&&!a0(a2.getCursor("head"),a2.getCursor("anchor"))){a3.visualMode=true;a3.visualLine=false;CodeMirror.signal(a2,"vim-mode-change",{mode:"visual"});a2.on("mousedown",aw)}if(a5!="0"||(a5=="0"&&a3.inputState.getRepeat()===0)){a7=aI.matchCommand(a5,a,a3)}if(!a7){if(M(a5)){a3.inputState.pushRepeatDigit(a5)}return}if(a7.type=="keyToKey"){for(var a4=0;a4<a7.toKeys.length;a4++){this.handleKey(a2,a7.toKeys[a4])}}else{if(a6.enteredMacroMode){v(a6,a5)}aI.processCommand(a2,a3,a7)}},handleEx:function(a2,a3){i.processCommand(a2,a3)}};function af(){this.prefixRepeat=[];this.motionRepeat=[];this.operator=null;this.operatorArgs=null;this.motion=null;this.motionArgs=null;this.keyBuffer=[];this.registerName=null}af.prototype.pushRepeatDigit=function(a2){if(!this.operator){this.prefixRepeat=this.prefixRepeat.concat(a2)}else{this.motionRepeat=this.motionRepeat.concat(a2)}};af.prototype.getRepeat=function(){var a2=0;if(this.prefixRepeat.length>0||this.motionRepeat.length>0){a2=1;if(this.prefixRepeat.length>0){a2*=parseInt(this.prefixRepeat.join(""),10)}if(this.motionRepeat.length>0){a2*=parseInt(this.motionRepeat.join(""),10)}}return a2};function aU(a3,a2){this.clear();if(a3){this.set(a3,a2)}}aU.prototype={set:function(a3,a2){this.text=a3;this.linewise=!!a2},append:function(a3,a2){if(a2||this.linewise){this.text+="\n"+a3;this.linewise=true}else{this.text+=a3}},clear:function(){this.text="";this.linewise=false},toString:function(){return this.text}};function O(a2){this.registers=a2;this.unamedRegister=a2['"']=new aU()}O.prototype={pushText:function(a5,a3,a7,a6){if(a6&&a7.charAt(0)=="\n"){a7=a7.slice(1)+"\n"}if(a6&&a7.charAt(a7.length-1)!=="\n"){a7+="\n"}var a4=this.isValidRegister(a5)?this.getRegister(a5):null;if(!a4){switch(a3){case"yank":this.registers["0"]=new aU(a7,a6);break;case"delete":case"change":if(a7.indexOf("\n")==-1){this.registers["-"]=new aU(a7,a6)}else{this.shiftNumericRegisters_();this.registers["1"]=new aU(a7,a6)}break}this.unamedRegister.set(a7,a6);return}var a2=p(a5);if(a2){a4.append(a7,a6);this.unamedRegister.append(a7,a6)}else{a4.set(a7,a6);this.unamedRegister.set(a7,a6)}},setRegisterText:function(a2,a4,a3){this.getRegister(a2).set(a4,a3)},getRegister:function(a2){if(!this.isValidRegister(a2)){return this.unamedRegister}a2=a2.toLowerCase();if(!this.registers[a2]){this.registers[a2]=new aU()}return this.registers[a2]},isValidRegister:function(a2){return a2&&w(a2,h)},shiftNumericRegisters_:function(){for(var a2=9;a2>=2;a2--){this.registers[a2]=this.getRegister(""+(a2-1))}}};var aI={matchCommand:function(bd,bc,a5){var a9=a5.inputState;var be=a9.keyBuffer.concat(bd);var a8=[];var a2;for(var a6=0;a6<bc.length;a6++){var a4=bc[a6];if(aS(be,a4.keys)){if(a9.operator&&a4.type=="action"){continue}if(a4.keys[be.length-1]=="character"){a2=be[be.length-1];if(a2.length>1){switch(a2){case"<CR>":a2="\n";break;case"<Space>":a2=" ";break;default:continue}}}a8.push(a4)}}function bb(bf){if(be.length<bf.keys.length){a9.keyBuffer.push(bd);return null}else{if(bf.keys[be.length-1]=="character"){a9.selectedCharacter=a2}a9.keyBuffer=[];return bf}}if(!a8.length){a9.keyBuffer=[];return null}else{if(a8.length==1){return bb(a8[0])}else{var a3=a5.visualMode?"visual":"normal";var a7;for(var a6=0;a6<a8.length;a6++){var ba=a8[a6];if(ba.context==a3){a7=ba;break}else{if(!a7&&!ba.context){a7=ba}}}return bb(a7)}}},processCommand:function(a2,a3,a4){a3.inputState.repeatOverride=a4.repeatOverride;switch(a4.type){case"motion":this.processMotion(a2,a3,a4);break;case"operator":this.processOperator(a2,a3,a4);break;case"operatorMotion":this.processOperatorMotion(a2,a3,a4);break;case"action":this.processAction(a2,a3,a4);break;case"search":this.processSearch(a2,a3,a4);break;case"ex":case"keyToEx":this.processEx(a2,a3,a4);break;default:break}},processMotion:function(a2,a3,a4){a3.inputState.motion=a4.motion;a3.inputState.motionArgs=aP(a4.motionArgs);this.evalInput(a2,a3)},processOperator:function(a3,a4,a5){var a2=a4.inputState;if(a2.operator){if(a2.operator==a5.operator){a2.motion="expandToLine";a2.motionArgs={linewise:true};this.evalInput(a3,a4);return}else{a4.inputState=new af()}}a2.operator=a5.operator;a2.operatorArgs=aP(a5.operatorArgs);if(a4.visualMode){this.evalInput(a3,a4)}},processOperatorMotion:function(a2,a5,a6){var a4=a5.visualMode;var a3=aP(a6.operatorMotionArgs);if(a3){if(a4&&a3.visualLine){a5.visualLine=true}}this.processOperator(a2,a5,a6);if(!a4){this.processMotion(a2,a5,a6)}},processAction:function(a3,a5,a8){var a2=a5.inputState;var a7=a2.getRepeat();var a6=!!a7;var a4=aP(a8.actionArgs)||{};if(a2.selectedCharacter){a4.selectedCharacter=a2.selectedCharacter}if(a8.operator){this.processOperator(a3,a5,a8)}if(a8.motion){this.processMotion(a3,a5,a8)}if(a8.motion||a8.operator){this.evalInput(a3,a5)}a4.repeat=a7||1;a4.repeatIsExplicit=a6;a4.registerName=a2.registerName;a5.inputState=new af();a5.lastMotion=null;if(a8.isEdit){this.recordLastEdit(a5,a2,a8)}k[a8.action](a3,a4,a5)},processSearch:function(bf,a9,a8){if(!bf.getSearchCursor){return}var ba=a8.searchArgs.forward;am(bf).setReversed(!ba);var bb=(ba)?"/":"?";var bd=am(bf).getQuery();var a4=bf.getScrollInfo();function a7(bi,bg,bh){try{aZ(bf,bi,bg,bh)}catch(bj){aR(bf,"Invalid regex: "+bi);return}aI.processMotion(bf,a9,{type:"motion",motion:"findNext",motionArgs:{forward:true,toJumplist:a8.searchArgs.toJumplist}})}function be(bg){bf.scrollTo(a4.left,a4.top);a7(bg,true,true)}function a6(bg,bi){var bh;try{bh=aZ(bf,bi,true,true)}catch(bj){}if(bh){bf.scrollIntoView(a1(bf,!ba,bh),30)}else{ao(bf);bf.scrollTo(a4.left,a4.top)}}function a3(bi,bg,bj){var bh=CodeMirror.keyName(bi);if(bh=="Esc"||bh=="Ctrl-C"||bh=="Ctrl-["){aZ(bf,bd);ao(bf);bf.scrollTo(a4.left,a4.top);CodeMirror.e_stop(bi);bj();bf.focus()}}switch(a8.searchArgs.querySrc){case"prompt":aD(bf,{onClose:be,prefix:bb,desc:z,onKeyUp:a6,onKeyDown:a3});break;case"wordUnderCursor":var a5=aj(bf,false,true,false,true);var a2=true;if(!a5){a5=aj(bf,false,true,false,false);a2=false}if(!a5){return}var bc=bf.getLine(a5.start.line).substring(a5.start.ch,a5.end.ch);if(a2){bc="\\b"+bc+"\\b"}else{bc=d(bc)}l.jumpList.cachedCursor=bf.getCursor();bf.setCursor(a5.start);a7(bc,true,false);break}},processEx:function(a2,a3,a6){function a5(a7){i.processCommand(a2,a7)}function a4(a9,a8,ba){var a7=CodeMirror.keyName(a9);if(a7=="Esc"||a7=="Ctrl-C"||a7=="Ctrl-["){CodeMirror.e_stop(a9);ba();a2.focus()}}if(a6.type=="keyToEx"){i.processCommand(a2,a6.exArgs.input)}else{if(a3.visualMode){aD(a2,{onClose:a5,prefix:":",value:"'<,'>",onKeyDown:a4})}else{aD(a2,{onClose:a5,prefix:":",onKeyDown:a4})}}},evalInput:function(a6,bi){var bb=bi.inputState;var bf=bb.motion;var bc=bb.motionArgs||{};var a7=bb.operator;var bm=bb.operatorArgs||{};var bd=bb.registerName;var a3=a6.getCursor("head");var bg=a6.getCursor("anchor");var a5=r(a3);var ba=r(a5);var bj;var a8;if(a7){this.recordLastEdit(bi,bb)}if(bb.repeatOverride!==undefined){a8=bb.repeatOverride}else{a8=bb.getRepeat()}if(a8>0&&bc.explicitRepeat){bc.repeatIsExplicit=true}else{if(bc.noRepeat||(!bc.explicitRepeat&&a8===0)){a8=1;bc.repeatIsExplicit=false}}if(bb.selectedCharacter){bc.selectedCharacter=bm.selectedCharacter=bb.selectedCharacter}bc.repeat=a8;bi.inputState=new af();if(bf){var bh=aE[bf](a6,bc,bi);bi.lastMotion=aE[bf];if(!bh){return}if(bc.toJumplist){var bl=l.jumpList;var a9=bl.cachedCursor;if(a9){aN(a6,a9,bh);delete bl.cachedCursor}else{aN(a6,ba,bh)}}if(bh instanceof Array){a5=bh[0];bj=bh[1]}else{bj=bh}if(!bj){bj={ch:a5.ch,line:a5.line}}if(bi.visualMode){if(aq(bg,a3)&&(a0(bg,bj)||aq(bj,bg))){bg.ch+=1}else{if(aq(a3,bg)&&(a0(bg,bj)||aq(bg,bj))){bg.ch-=1}}a3=bj;if(bi.visualLine){if(aq(bg,a3)){bg.ch=0;var a2=a6.lastLine();if(a3.line>a2){a3.line=a2}a3.ch=az(a6,a3.line)}else{a3.ch=0;bg.ch=az(a6,bg.line)}}a6.setSelection(bg,a3);av(a6,bi,"<",aq(bg,a3)?bg:a3);av(a6,bi,">",aq(bg,a3)?a3:bg)}else{if(!a7){bj=H(a6,bj);a6.setCursor(bj.line,bj.ch)}}}if(a7){var be=false;bi.lastMotion=null;bm.repeat=a8;if(bi.visualMode){a5=bg;bj=a3;bc.inclusive=true}if(aq(bj,a5)){var bk=a5;a5=bj;bj=bk;be=true}if(bc.inclusive&&!(bi.visualMode&&be)){bj.ch++}var a4=bc.linewise||(bi.visualMode&&bi.visualLine);if(a4){aL(a6,a5,bj)}else{if(bc.forward){U(a6,a5,bj)}}bm.registerName=bd;bm.linewise=a4;x[a7](a6,bm,bi,a5,bj,ba);if(bi.visualMode){aw(a6)}}},recordLastEdit:function(a3,a2,a4){var a5=l.macroModeState;if(a5.inReplay){return}a3.lastEditInputState=a2;a3.lastEditActionCommand=a4;a5.lastInsertModeChanges.changes=[];a5.lastInsertModeChanges.expectCursorActivityForChange=false}};var aE={moveToTopLine:function(a2,a4){var a3=aK(a2).top+a4.repeat-1;return{line:a3,ch:aC(a2.getLine(a3))}},moveToMiddleLine:function(a2){var a4=aK(a2);var a3=Math.floor((a4.top+a4.bottom)*0.5);return{line:a3,ch:aC(a2.getLine(a3))}},moveToBottomLine:function(a2,a4){var a3=aK(a2).bottom-a4.repeat+1;return{line:a3,ch:aC(a2.getLine(a3))}},expandToLine:function(a2,a3){var a4=a2.getCursor();return{line:a4.line+a3.repeat-1,ch:Infinity}},findNext:function(a2,a3){var a6=am(a2);var a5=a6.getQuery();if(!a5){return}var a4=!a3.forward;a4=(a6.isReversed())?!a4:a4;an(a2,a5);return a1(a2,a4,a5,a3.repeat)},goToMark:function(a4,a3,a2){var a5=a2.marks[a3.selectedCharacter];if(a5){return a5.find()}return null},jumpToMark:function(a9,a5,a6){var a4=a9.getCursor();for(var a7=0;a7<a5.repeat;a7++){var bb=a4;for(var ba in a6.marks){if(!t(ba)){continue}var a3=a6.marks[ba].find();var a2=(a5.forward)?aq(a3,bb):aq(bb,a3);if(a2){continue}if(a5.linewise&&(a3.line==bb.line)){continue}var a8=a0(bb,a4);var bc=(a5.forward)?ax(bb,a3,a4):ax(a4,a3,bb);if(a8||bc){a4=a3}}}if(a5.linewise){a4.ch=aC(a9.getLine(a4.line))}return a4},moveByCharacters:function(a2,a3){var a6=a2.getCursor();var a5=a3.repeat;var a4=a3.forward?a6.ch+a5:a6.ch-a5;return{line:a6.line,ch:a4}},moveByLines:function(a7,a3,a4){var a9=a7.getCursor();var a5=a9.ch;switch(a4.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:a5=a4.lastHPos;break;default:a4.lastHPos=a5}var a2=a3.repeat+(a3.repeatOffset||0);var ba=a3.forward?a9.line+a2:a9.line-a2;var a6=a7.firstLine();var a8=a7.lastLine();if((ba<a6&&a9.line==a6)||(ba>a8&&a9.line==a8)){return}if(a3.toFirstChar){a5=aC(a7.getLine(ba));a4.lastHPos=a5}a4.lastHSPos=a7.charCoords({line:ba,ch:a5},"div").left;return{line:ba,ch:a5}},moveByDisplayLines:function(a9,a4,a5){var ba=a9.getCursor();switch(a5.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:a5.lastHSPos=a9.charCoords(ba,"div").left}var a2=a4.repeat;var a8=a9.findPosV(ba,(a4.forward?a2:-a2),"line",a5.lastHSPos);if(a8.hitSide){if(a4.forward){var a3=a9.charCoords(a8,"div");var a6={top:a3.top+8,left:a5.lastHSPos};var a8=a9.coordsChar(a6,"div")}else{var a7=a9.charCoords({line:a9.firstLine(),ch:0},"div");a7.left=a5.lastHSPos;a8=a9.coordsChar(a7,"div")}}a5.lastHPos=a8.ch;return a8},moveByPage:function(a3,a4){var a2=a3.getCursor();var a6=a4.repeat;a3.moveV((a4.forward?a6:-a6),"page");var a5=a3.getCursor();a3.setCursor(a2);return a5},moveByParagraph:function(a2,a4){var a3=a2.getCursor().line;var a6=a4.repeat;var a7=a4.forward?1:-1;for(var a5=0;a5<a6;a5++){if((!a4.forward&&a3===a2.firstLine())||(a4.forward&&a3==a2.lastLine())){break}a3+=a7;while(a3!==a2.firstLine()&&a3!=a2.lastLine()&&a2.getLine(a3)){a3+=a7}}return{line:a3,ch:0}},moveByScroll:function(a2,a5,a3){var a9=a2.getScrollInfo();var a7=null;var a6=a5.repeat;if(!a6){a6=a9.clientHeight/(2*a2.defaultTextHeight())}var a8=a2.charCoords(a2.getCursor(),"local");a5.repeat=a6;var a7=aE.moveByDisplayLines(a2,a5,a3);if(!a7){return null}var a4=a2.charCoords(a7,"local");a2.scrollTo(null,a9.top+a4.top-a8.top);return a7},moveByWords:function(a2,a3){return ag(a2,a3.repeat,!!a3.forward,!!a3.wordEnd,!!a3.bigWord)},moveTillCharacter:function(a3,a4){var a6=a4.repeat;var a5=aW(a3,a6,a4.forward,a4.selectedCharacter);var a2=a4.forward?-1:1;ah(a2,a4);if(!a5){return null}a5.ch+=a2;return a5},moveToCharacter:function(a2,a3){var a4=a3.repeat;ah(0,a3);return aW(a2,a4,a3.forward,a3.selectedCharacter)||a2.getCursor()},moveToSymbol:function(a2,a3){var a4=a3.repeat;return aX(a2,a4,a3.forward,a3.selectedCharacter)||a2.getCursor()},moveToColumn:function(a2,a4,a3){var a5=a4.repeat;a3.lastHPos=a5-1;a3.lastHSPos=a2.charCoords(a2.getCursor(),"div").left;return S(a2,a5)},moveToEol:function(a2,a6,a5){var a7=a2.getCursor();a5.lastHPos=Infinity;var a4={line:a7.line+a6.repeat-1,ch:Infinity};var a3=a2.clipPos(a4);a3.ch--;a5.lastHSPos=a2.charCoords(a3,"div").left;return a4},moveToFirstNonWhiteSpaceCharacter:function(a2){var a3=a2.getCursor();return{line:a3.line,ch:aC(a2.getLine(a3.line))}},moveToMatchedSymbol:function(a8){var ba=a8.getCursor();var bb=ba.line;var a2=ba.ch;var a7=a8.getLine(bb);var a3;var a4=a8.getTokenAt(ba).type;var a6=W(a4);do{a3=a7.charAt(a2++);if(a3&&y(a3)){var a9=a8.getTokenAt({line:bb,ch:a2}).type;var a5=W(a9);if(a6>=a5){break}}}while(a3);if(a3){return ac(a8,{line:bb,ch:a2-1},a3)}else{return ba}},moveToStartOfLine:function(a2){var a3=a2.getCursor();return{line:a3.line,ch:0}},moveToLineOrEdgeOfDocument:function(a2,a3){var a4=a3.forward?a2.lastLine():a2.firstLine();if(a3.repeatIsExplicit){a4=a3.repeat-a2.getOption("firstLineNumber")}return{line:a4,ch:aC(a2.getLine(a4))}},textObjectManipulation:function(a3,a5){var a4={"(":")",")":"(","{":"}","}":"{","[":"]","]":"["};var a8={"'":true,'"':true};var a7=a5.selectedCharacter;var a2=!a5.textObjectInner;var a6;if(a4[a7]){a6=j(a3,a4[a7],a2)}else{if(a8[a7]){a6=au(a3,a7,a2)}else{if(a7==="W"){a6=aj(a3,a2,true,true)}else{if(a7==="w"){a6=aj(a3,a2,true,false)}else{return null}}}}return[a6.start,a6.end]},repeatLastCharacterSearch:function(a4,a6){var a3=l.lastChararacterSearch;var a8=a6.repeat;var a5=a6.forward===a3.forward;var a2=(a3.increment?1:0)*(a5?-1:1);a4.moveH(-a2,"char");a6.inclusive=a5?true:false;var a7=aW(a4,a8,a5,a3.selectedCharacter);if(!a7){a4.moveH(a2,"char");return a4.getCursor()}a7.ch+=a2;return a7}};var x={change:function(a3,a7,a5,a2,a8){l.registerController.pushText(a7.registerName,"change",a3.getRange(a2,a8),a7.linewise);if(a7.linewise){var a6=a8.line>a3.lastLine()?"":"\n";a3.replaceRange(a6,a2,a8);a3.indentLine(a2.line,"smart");a2.ch=null}else{var a9=a3.getRange(a2,a8);if(!A(a9)){var a4=(/\s+$/).exec(a9);if(a4){a8=s(a8,0,-a4[0].length)}}a3.replaceRange("",a2,a8)}k.enterInsertMode(a3,{},a3.state.vim);a3.setCursor(a2)},"delete":function(a3,a5,a4,a2,a6){if(a5.linewise&&a6.line>a3.lastLine()&&a2.line>a3.firstLine()){a2.line--;a2.ch=az(a3,a2.line)}l.registerController.pushText(a5.registerName,"delete",a3.getRange(a2,a6),a5.linewise);a3.replaceRange("",a2,a6);if(a5.linewise){a3.setCursor(aE.moveToFirstNonWhiteSpaceCharacter(a3))}else{a3.setCursor(a2)}},indent:function(a9,a4,a6,a8,ba){var bb=a8.line;var a3=ba.line;var a2=(a6.visualMode)?a4.repeat:1;if(a4.linewise){a3--}for(var a7=bb;a7<=a3;a7++){for(var a5=0;a5<a2;a5++){a9.indentLine(a7,a4.indentRight)}}a9.setCursor(a8);a9.setCursor(aE.moveToFirstNonWhiteSpaceCharacter(a9))},swapcase:function(ba,a3,a8,a9,bb,a7){var a5=ba.getRange(a9,bb);var a2="";for(var a4=0;a4<a5.length;a4++){var a6=a5.charAt(a4);a2+=p(a6)?a6.toLowerCase():a6.toUpperCase()}ba.replaceRange(a2,a9,bb);if(!a3.shouldMoveCursor){ba.setCursor(a7)}},yank:function(a3,a6,a5,a2,a7,a4){l.registerController.pushText(a6.registerName,"yank",a3.getRange(a2,a7),a6.linewise);a3.setCursor(a4)}};var k={jumpListWalk:function(a2,a4,a5){if(a5.visualMode){return}var a7=a4.repeat;var a6=a4.forward;var a3=l.jumpList;var a9=a3.move(a2,a6?a7:-a7);var a8=a9?a9.find():undefined;a8=a8?a8:a2.getCursor();a2.setCursor(a8)},scroll:function(ba,a4,a6){if(a6.visualMode){return}var a2=a4.repeat||1;var a9=ba.defaultTextHeight();var a8=ba.getScrollInfo().top;var bb=a9*a2;var a7=a4.forward?a8+bb:a8-bb;var bc=ba.getCursor();var a5=ba.charCoords(bc,"local");if(a4.forward){if(a7>a5.top){bc.line+=(a7-a5.top)/a9;bc.line=Math.ceil(bc.line);ba.setCursor(bc);a5=ba.charCoords(bc,"local");ba.scrollTo(null,a5.top)}else{ba.scrollTo(null,a7)}}else{var a3=a7+ba.getScrollInfo().clientHeight;if(a3<a5.bottom){bc.line-=(a5.bottom-a3)/a9;bc.line=Math.floor(bc.line);ba.setCursor(bc);a5=ba.charCoords(bc,"local");ba.scrollTo(null,a5.bottom-ba.getScrollInfo().clientHeight)}else{ba.scrollTo(null,a7)}}},scrollToCursor:function(a3,a4){var a7=a3.getCursor().line;var a5=a3.charCoords({line:a7,ch:0},"local");var a2=a3.getScrollInfo().clientHeight;var a8=a5.top;var a6=a5.bottom-a8;switch(a4.position){case"center":a8=a8-(a2/2)+a6;break;case"bottom":a8=a8-a2+a6*1.4;break;case"top":a8=a8+a6*0.4;break}a3.scrollTo(null,a8)},replayMacro:function(a2,a3){var a4=a3.selectedCharacter;var a5=a3.repeat;var a6=l.macroModeState;if(a4=="@"){a4=a6.latestRegister}var a7=F(a6,a4);while(a5--){R(a2,a6,a7)}},exitMacroRecordMode:function(){var a2=l.macroModeState;a2.toggle();ar(a2.latestRegister,a2.macroKeyBuffer)},enterMacroRecordMode:function(a2,a3){var a5=l.macroModeState;var a4=a3.selectedCharacter;a5.toggle(a2,a4);aM(a5)},enterInsertMode:function(a2,a3,a4){if(a2.getOption("readOnly")){return}a4.insertMode=true;a4.insertModeRepeat=a3&&a3.repeat||1;var a5=(a3)?a3.insertAt:null;if(a5=="eol"){var a6=a2.getCursor();a6={line:a6.line,ch:az(a2,a6.line)};a2.setCursor(a6)}else{if(a5=="charAfter"){a2.setCursor(s(a2.getCursor(),0,1))}else{if(a5=="firstNonBlank"){a2.setCursor(aE.moveToFirstNonWhiteSpaceCharacter(a2))}}}a2.setOption("keyMap","vim-insert");a2.setOption("disableInput",false);if(a3&&a3.replace){a2.toggleOverwrite(true);a2.setOption("keyMap","vim-replace");CodeMirror.signal(a2,"vim-mode-change",{mode:"replace"})}else{a2.setOption("keyMap","vim-insert");CodeMirror.signal(a2,"vim-mode-change",{mode:"insert"})}if(!l.macroModeState.inReplay){a2.on("change",aO);a2.on("cursorActivity",I);CodeMirror.on(a2.getInputField(),"keydown",E)}},toggleVisualMode:function(a3,a4,a5){var a7=a4.repeat;var a2=a3.getCursor();var a6;if(!a5.visualMode){a3.on("mousedown",aw);a5.visualMode=true;a5.visualLine=!!a4.linewise;if(a5.visualLine){a2.ch=0;a6=H(a3,{line:a2.line+a7-1,ch:az(a3,a2.line)},true)}else{a6=H(a3,{line:a2.line,ch:a2.ch+a7},true)}if(!a4.repeatIsExplicit&&!a5.visualLine){a3.setCursor(a6);a3.setSelection(a6,a2)}else{a3.setSelection(a2,a6)}CodeMirror.signal(a3,"vim-mode-change",{mode:"visual",subMode:a5.visualLine?"linewise":""})}else{a2=a3.getCursor("anchor");a6=a3.getCursor("head");if(!a5.visualLine&&a4.linewise){a5.visualLine=true;a2.ch=aq(a2,a6)?0:az(a3,a2.line);a6.ch=aq(a2,a6)?az(a3,a6.line):0;a3.setSelection(a2,a6);CodeMirror.signal(a3,"vim-mode-change",{mode:"visual",subMode:"linewise"})}else{if(a5.visualLine&&!a4.linewise){a5.visualLine=false;CodeMirror.signal(a3,"vim-mode-change",{mode:"visual"})}else{aw(a3)}}}av(a3,a5,"<",aq(a2,a6)?a2:a6);av(a3,a5,">",aq(a2,a6)?a6:a2)},joinLines:function(a3,a4,a5){var a2,a7;if(a5.visualMode){a2=a3.getCursor("anchor");a7=a3.getCursor("head");a7.ch=az(a3,a7.line)-1}else{var a6=Math.max(a4.repeat,2);a2=a3.getCursor();a7=H(a3,{line:a2.line+a6-1,ch:Infinity})}var a8=0;a3.operation(function(){for(var bb=a2.line;bb<a7.line;bb++){a8=az(a3,a2.line);var ba={line:a2.line+1,ch:az(a3,a2.line+1)};var bc=a3.getRange(a2,ba);bc=bc.replace(/\n\s*/g," ");a3.replaceRange(bc,a2,ba)}var a9={line:a2.line,ch:a8};a3.setCursor(a9)})},newLineAndEnterInsertMode:function(a2,a3,a4){a4.insertMode=true;var a5=a2.getCursor();if(a5.line===a2.firstLine()&&!a3.after){a2.replaceRange("\n",{line:a2.firstLine(),ch:0});a2.setCursor(a2.firstLine(),0)}else{a5.line=(a3.after)?a5.line:a5.line-1;a5.ch=az(a2,a5.line);a2.setCursor(a5);var a6=CodeMirror.commands.newlineAndIndentContinueComment||CodeMirror.commands.newlineAndIndent;a6(a2)}this.enterInsertMode(a2,{repeat:a3.repeat},a4)},paste:function(a6,a2){var a7=a6.getCursor();var a8=l.registerController.getRegister(a2.registerName);if(!a8.text){return}for(var a9="",a3=0;a3<a2.repeat;a3++){a9+=a8.text}var ba=a8.linewise;if(ba){if(a2.after){a9="\n"+a9.slice(0,a9.length-1);a7.ch=az(a6,a7.line)}else{a7.ch=0}}else{a7.ch+=a2.after?1:0}a6.replaceRange(a9,a7);var a4;var a5;if(ba&&a2.after){a4={line:a7.line+1,ch:aC(a6.getLine(a7.line+1))}}else{if(ba&&!a2.after){a4={line:a7.line,ch:aC(a6.getLine(a7.line))}}else{if(!ba&&a2.after){a5=a6.indexFromPos(a7);a4=a6.posFromIndex(a5+a9.length-1)}else{a5=a6.indexFromPos(a7);a4=a6.posFromIndex(a5+a9.length)}}}a6.setCursor(a4)},undo:function(a2,a3){a2.operation(function(){ad(a2,CodeMirror.commands.undo,a3.repeat)();a2.setCursor(a2.getCursor("anchor"))})},redo:function(a2,a3){ad(a2,CodeMirror.commands.redo,a3.repeat)()},setRegister:function(a4,a2,a3){a3.inputState.registerName=a2.selectedCharacter},setMark:function(a2,a3,a4){var a5=a3.selectedCharacter;av(a2,a4,a5,a2.getCursor())},replace:function(a8,a3,a5){var a4=a3.selectedCharacter;var a7=a8.getCursor();var a6;var a9;if(a5.visualMode){a7=a8.getCursor("start");a9=a8.getCursor("end");a9=a8.clipPos({line:a9.line,ch:a9.ch+1})}else{var ba=a8.getLine(a7.line);a6=a7.ch+a3.repeat;if(a6>ba.length){a6=ba.length}a9={line:a7.line,ch:a6}}if(a4=="\n"){if(!a5.visualMode){a8.replaceRange("",a7,a9)}(CodeMirror.commands.newlineAndIndentContinueComment||CodeMirror.commands.newlineAndIndent)(a8)}else{var a2=a8.getRange(a7,a9);a2=a2.replace(/[^\n]/g,a4);a8.replaceRange(a2,a7,a9);if(a5.visualMode){a8.setCursor(a7);aw(a8)}else{a8.setCursor(s(a9,0,-1))}}},incrementNumberToken:function(bc,a3){var bd=bc.getCursor();var a8=bc.getLine(bd.line);var bf=/-?\d+/g;var a7;var a2;var a6;var be;var a4;while((a7=bf.exec(a8))!==null){a4=a7[0];a2=a7.index;a6=a2+a4.length;if(bd.ch<a6){break}}if(!a3.backtrack&&(a6<=bd.ch)){return}if(a4){var bb=a3.increase?1:-1;var a5=parseInt(a4)+(bb*a3.repeat);var ba={ch:a2,line:bd.line};var a9={ch:a6,line:bd.line};be=a5.toString();bc.replaceRange(be,ba,a9)}else{return}bc.setCursor({line:bd.line,ch:a2+be.length-1})},repeatLastEdit:function(a3,a4,a5){var a2=a5.lastEditInputState;if(!a2){return}var a6=a4.repeat;if(a6&&a4.repeatIsExplicit){a5.lastEditInputState.repeatOverride=a6}else{a6=a5.lastEditInputState.repeatOverride||a6}n(a3,a5,a6,false)}};function H(a3,a7,a5){var a4=Math.min(Math.max(a3.firstLine(),a7.line),a3.lastLine());var a2=az(a3,a4)-1;a2=(a5)?a2+1:a2;var a6=Math.min(Math.max(0,a7.ch),a2);return{line:a4,ch:a6}}function aP(a3){var a2={};for(var a4 in a3){if(a3.hasOwnProperty(a4)){a2[a4]=a3[a4]}}return a2}function s(a3,a2,a4){return{line:a3.line+a2,ch:a3.ch+a4}}function aS(a4,a2){for(var a3=0;a3<a4.length;a3++){if(a4[a3]!=a2[a3]&&a2[a3]!="character"){return false}}return true}function ad(a2,a3,a4){return function(){for(var a5=0;a5<a4;a5++){a3(a2)}}}function r(a2){return{line:a2.line,ch:a2.ch}}function a0(a3,a2){return a3.ch==a2.ch&&a3.line==a2.line}function aq(a3,a2){if(a3.line<a2.line){return true}if(a3.line==a2.line&&a3.ch<a2.ch){return true}return false}function ax(a5,a4,a3){var a6=aq(a5,a4);var a2=aq(a4,a3);return a6&&a2}function az(a2,a3){return a2.getLine(a3).length}function g(a2){return a2.split("").reverse().join("")}function aH(a2){if(a2.trim){return a2.trim()}return a2.replace(/^\s+|\s+$/g,"")}function d(a2){return a2.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1")}function aw(a2){a2.off("mousedown",aw);var a3=a2.state.vim;a3.visualMode=false;a3.visualLine=false;var a4=a2.getCursor("anchor");var a5=a2.getCursor("head");if(!a0(a4,a5)){a2.setCursor(H(a2,a5))}CodeMirror.signal(a2,"vim-mode-change",{mode:"normal"})}function U(a3,a2,a7){var a6=a3.getRange(a2,a7);if(/\n\s*$/.test(a6)){var a5=a6.split("\n");a5.pop();var a4;for(var a4=a5.pop();a5.length>0&&a4&&A(a4);a4=a5.pop()){a7.line--;a7.ch=0}if(a4){a7.line--;a7.ch=az(a3,a7.line)}else{a7.ch=0}}}function aL(a3,a2,a4){a2.ch=0;a4.ch=0;a4.line++}function aC(a3){if(!a3){return 0}var a2=a3.search(/\S/);return a2==-1?a3.length:a2}function aj(bb,a7,bl,a3,bm){var a5=bb.getCursor();var be=bb.getLine(a5.line);var bh=a5.ch;var bg=be.substring(bh);var bi;if(bm){bi=bg.search(/\w/)}else{bi=bg.search(/\S/)}if(bi==-1){return null}bh+=bi;bg=be.substring(bh);var bk=be.substring(0,bh);var bn;if(a3){bn=/^\S+/}else{if((/\w/).test(be.charAt(bh))){bn=/^\w+/}else{bn=/^[^\w\s]+/}}var a8=bn.exec(bg);var bf=bh;var a4=bh+a8[0].length;var a6=g(bk);var bc=bn.exec(a6);if(bc){bf-=bc[0].length}if(a7){var bd=be.substring(a4);var a2=bd.match(/^\s*/)[0].length;if(a2>0){a4+=a2}else{var ba=a6.length-bf;var a9=a6.substring(ba);var bj=a9.match(/^\s*/)[0].length;bf-=bj}}return{start:{line:a5.line,ch:bf},end:{line:a5.line,ch:a4}}}function aN(a2,a3,a4){if(!a0(a3,a4)){l.jumpList.add(a2,a3,a4)}}function ah(a2,a3){l.lastChararacterSearch.increment=a2;l.lastChararacterSearch.forward=a3.forward;l.lastChararacterSearch.selectedCharacter=a3.selectedCharacter}var B={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"};var aB={bracket:{isComplete:function(a2){if(a2.nextCh===a2.symb){a2.depth++;if(a2.depth>=1){return true}}else{if(a2.nextCh===a2.reverseSymb){a2.depth--}}return false}},section:{init:function(a2){a2.curMoveThrough=true;a2.symb=(a2.forward?"]":"[")===a2.symb?"{":"}"},isComplete:function(a2){return a2.index===0&&a2.nextCh===a2.symb}},comment:{isComplete:function(a3){var a2=a3.lastCh==="*"&&a3.nextCh==="/";a3.lastCh=a3.nextCh;return a2}},method:{init:function(a2){a2.symb=(a2.symb==="m"?"{":"}");a2.reverseSymb=a2.symb==="{"?"}":"{"},isComplete:function(a2){if(a2.nextCh===a2.symb){return true}return false}},preprocess:{init:function(a2){a2.index=0},isComplete:function(a3){if(a3.nextCh==="#"){var a2=a3.lineText.match(/#(\w+)/)[1];if(a2==="endif"){if(a3.forward&&a3.depth===0){return true}a3.depth++}else{if(a2==="if"){if(!a3.forward&&a3.depth===0){return true}a3.depth--}}if(a2==="else"&&a3.depth===0){return true}}return false}}};function aX(bb,a3,a6,a4){var be=bb.getCursor();var bc=a6?1:-1;var a5=a6?bb.lineCount():-1;var ba=be.ch;var bg=be.line;var a9=bb.getLine(bg);var a2={lineText:a9,nextCh:a9.charAt(ba),lastCh:null,index:ba,symb:a4,reverseSymb:(a6?{")":"(","}":"{"}:{"(":")","{":"}"})[a4],forward:a6,depth:0,curMoveThrough:false};var a7=B[a4];if(!a7){return be}var bf=aB[a7].init;var bd=aB[a7].isComplete;if(bf){bf(a2)}while(bg!==a5&&a3){a2.index+=bc;a2.nextCh=a2.lineText.charAt(a2.index);if(!a2.nextCh){bg+=bc;a2.lineText=bb.getLine(bg)||"";if(bc>0){a2.index=0}else{var a8=a2.lineText.length;a2.index=(a8>0)?(a8-1):0}a2.nextCh=a2.lineText.charAt(a2.index)}if(bd(a2)){be.line=bg;be.ch=a2.index;a3--}}if(a2.nextCh||a2.curMoveThrough){return{line:bg,ch:a2.index}}return be}function aY(bc,bd,a5,ba,bb){var a6=bd.line;var a9=bd.ch;var bg=bc.getLine(a6);var a3=a5?1:-1;var a7=ba?aT:aa;if(bb&&bg==""){a6+=a3;bg=bc.getLine(a6);if(!c(bc,a6)){return null}a9=(a5)?0:bg.length}while(true){if(bb&&bg==""){return{from:0,to:0,line:a6}}var a8=(a3>0)?bg.length:-1;var bf=a8,be=a8;while(a9!=a8){var a2=false;for(var a4=0;a4<a7.length&&!a2;++a4){if(a7[a4].test(bg.charAt(a9))){bf=a9;while(a9!=a8&&a7[a4].test(bg.charAt(a9))){a9+=a3}be=a9;a2=bf!=be;if(bf==bd.ch&&a6==bd.line&&be==bf+a3){continue}else{return{from:Math.min(bf,be+1),to:Math.max(bf,be),line:a6}}}}if(!a2){a9+=a3}}a6+=a3;if(!c(bc,a6)){return null}bg=bc.getLine(a6);a9=(a3>0)?0:bg.length}throw new Error("The impossible happened.")}function ag(bc,a3,a7,bg,ba){var be=bc.getCursor();var a8=r(be);var a9=[];if(a7&&!bg||!a7&&bg){a3++}var bb=!(a7&&bg);for(var a5=0;a5<a3;a5++){var a2=aY(bc,be,a7,ba,bb);if(!a2){var a4=az(bc,bc.lastLine());a9.push(a7?{line:bc.lastLine(),from:a4,to:a4}:{line:0,from:0,to:0});break}a9.push(a2);be={line:a2.line,ch:a7?(a2.to-1):a2.from}}var a6=a9.length!=a3;var bd=a9[0];var bf=a9.pop();if(a7&&!bg){if(!a6&&(bd.from!=a8.ch||bd.line!=a8.line)){bf=a9.pop()}return{line:bf.line,ch:bf.from}}else{if(a7&&bg){return{line:bf.line,ch:bf.to-1}}else{if(!a7&&bg){if(!a6&&(bd.to!=a8.ch||bd.line!=a8.line)){bf=a9.pop()}return{line:bf.line,ch:bf.to}}else{return{line:bf.line,ch:bf.from}}}}}function aW(a7,a3,a5,a6){var a9=a7.getCursor();var a2=a9.ch;var a8;for(var a4=0;a4<a3;a4++){var ba=a7.getLine(a9.line);a8=aJ(a2,ba,a6,a5,true);if(a8==-1){return null}a2=a8}return{line:a7.getCursor().line,ch:a8}}function S(a2,a4){var a3=a2.getCursor().line;return H(a2,{line:a3,ch:a4-1})}function av(a2,a3,a4,a5){if(!w(a4,ak)){return}if(a3.marks[a4]){a3.marks[a4].clear()}a3.marks[a4]=a2.setBookmark(a5)}function aJ(a7,a3,a6,a4,a5){var a2;if(a4){a2=a3.indexOf(a6,a7+1);if(a2!=-1&&!a5){a2-=1}}else{a2=a3.lastIndexOf(a6,a7-1);if(a2!=-1&&!a5){a2+=1}}return a2}function W(a2){return(a2==="string"||a2==="comment")?1:0}function ac(be,bf,a4){var bh=bf.line;var a3=bf.ch;a4=a4?a4:be.getLine(bh).charAt(a3);var bg=be.getTokenAt({line:bh,ch:a3+1}).type;var bi=W(bg);var a6=({"(":")",")":"(","[":"]","]":"[","{":"}","}":"{"})[a4];if(!a6){return bf}var bd=({"(":1,"{":1,"[":1})[a4]||-1;var a5=bd===1?be.lineCount():-1;var a8=1,a2=a4,ba=a3,bc=be.getLine(bh);while(bh!==a5&&a8>0){ba+=bd;a2=bc.charAt(ba);if(!a2){bh+=bd;bc=be.getLine(bh)||"";if(bd>0){ba=0}else{var bb=bc.length;ba=(bb>0)?(bb-1):0}a2=bc.charAt(ba)}var a9=be.getTokenAt({line:bh,ch:ba+1}).type;var a7=W(a9);if(bi>=a7){if(a2===a4){a8++}else{if(a2===a6){a8--}}}}if(a2){return{line:bh,ch:ba}}return bf}function j(a3,a7,a2){var a6=a3.getCursor();var a4=ac(a3,a6,a7);var a8=ac(a3,a4);if((a8.line==a4.line&&a8.ch>a4.ch)||(a8.line>a4.line)){var a5=a8;a8=a4;a4=a5}if(a2){a4.ch+=1}else{a8.ch+=1}return{start:a8,end:a4}}function au(ba,a4,a9){var bb=ba.getCursor();var bc=ba.getLine(bb.line);var a8=bc.split("");var a3,a5,a6,a7;var a2=a8.indexOf(a4);if(bb.ch<a2){bb.ch=a2}else{if(a2<bb.ch&&a8[bb.ch]==a4){a5=bb.ch;--bb.ch}}if(a8[bb.ch]==a4&&!a5){a3=bb.ch+1}else{for(a6=bb.ch;a6>-1&&!a3;a6--){if(a8[a6]==a4){a3=a6+1}}}if(a3&&!a5){for(a6=a3,a7=a8.length;a6<a7&&!a5;a6++){if(a8[a6]==a4){a5=a6}}}if(!a3||!a5){return{start:bb,end:bb}}if(a9){--a3;++a5}return{start:{line:bb.line,ch:a3},end:{line:bb.line,ch:a5}}}function K(){}K.prototype={getQuery:function(){return l.query},setQuery:function(a2){l.query=a2},getOverlay:function(){return this.searchOverlay},setOverlay:function(a2){this.searchOverlay=a2},isReversed:function(){return l.isReversed},setReversed:function(a2){l.isReversed=a2}};function am(a2){var a3=a2.state.vim;return a3.searchState_||(a3.searchState_=new K())}function J(a2,a5,a6,a3,a4){if(a2.openDialog){a2.openDialog(a5,a3,{bottom:true,value:a4.value,onKeyDown:a4.onKeyDown,onKeyUp:a4.onKeyUp})}else{a3(prompt(a6,""))}}function T(a5){var a3=false;var a4=[];for(var a2=0;a2<a5.length;a2++){var a6=a5.charAt(a2);if(!a3&&a6=="/"){a4.push(a2)}a3=!a3&&(a6=="\\")}return a4}function Y(a9){var ba=["|","(",")","{"];var a6=["}"];var a7=false;var a3=[];for(var a4=-1;a4<a9.length;a4++){var a8=a9.charAt(a4)||"";var a2=a9.charAt(a4+1)||"";var a5=(ba.indexOf(a2)!=-1);if(a7){if(a8!=="\\"||!a5){a3.push(a8)}a7=false}else{if(a8==="\\"){a7=true;if(a6.indexOf(a2)!=-1){a5=true}if(!a5||a2==="\\"){a3.push(a8)}}else{a3.push(a8);if(a5&&a2!=="\\"){a3.push("\\")}}}}return a3.join("")}function ab(a5){var a4=false;var a2=[];for(var a3=-1;a3<a5.length;a3++){var a7=a5.charAt(a3)||"";var a6=a5.charAt(a3+1)||"";if(a4){a2.push(a7);a4=false}else{if(a7==="\\"){a4=true;if((M(a6)||a6==="$")){a2.push("$")}else{if(a6!=="/"&&a6!=="\\"){a2.push("\\")}}}else{if(a7==="$"){a2.push("$")}a2.push(a7);if(a6==="/"){a2.push("\\")}}}}return a2.join("")}function ae(a9,a3,a5){if(a9 instanceof RegExp){return a9}var a7=T(a9);var a4;var a2;if(!a7.length){a4=a9}else{a4=a9.substring(0,a7[0]);var a6=a9.substring(a7[0]);a2=(a6.indexOf("i")!=-1)}if(!a4){return null}a4=Y(a4);if(a5){a3=(/^[^A-Z]*$/).test(a4)}var a8=new RegExp(a4,(a3||a2)?"i":undefined);return a8}function aR(a2,a3){if(a2.openNotification){a2.openNotification('<span style="color: red">'+a3+"</span>",{bottom:true,duration:5000})}else{alert(a3)}}function al(a3,a4){var a2="";if(a3){a2+='<span style="font-family: monospace">'+a3+"</span>"}a2+='<input type="text"/> <span style="color: #888">';if(a4){a2+='<span style="color: #888">';a2+=a4;a2+="</span>"}return a2}var z="(Javascript regexp)";function aD(a3,a4){var a5=(a4.prefix||"")+" "+(a4.desc||"");var a2=al(a4.prefix,a4.desc);J(a3,a2,a5,a4.onClose,a4)}function G(a3,a2){if(a3 instanceof RegExp&&a2 instanceof RegExp){var a5=["global","multiline","ignoreCase","source"];for(var a4=0;a4<a5.length;a4++){var a6=a5[a4];if(a3[a6]!==a2[a6]){return false}}return true}return false}function aZ(a2,a7,a3,a4){if(!a7){return}var a6=am(a2);var a5=ae(a7,!!a3,!!a4);if(!a5){return}an(a2,a5);if(G(a5,a6.getQuery())){return a5}a6.setQuery(a5);return a5}function ap(a3){if(a3.source.charAt(0)=="^"){var a2=true}return{token:function(a5){if(a2&&!a5.sol()){a5.skipToEnd();return}var a4=a5.match(a3,false);if(a4){if(a4[0].length==0){a5.next();return"searching"}if(!a5.sol()){a5.backUp(1);if(!a3.exec(a5.next()+a4[0])){a5.next();return null}}a5.match(a3);return"searching"}while(!a5.eol()){a5.next();if(a5.match(a3,false)){break}}},query:a3}}function an(a2,a4){var a3=am(a2).getOverlay();if(!a3||a4!=a3.query){if(a3){a2.removeOverlay(a3)}a3=ap(a4);a2.addOverlay(a3);am(a2).setOverlay(a3)}}function a1(a2,a3,a5,a4){if(a4===undefined){a4=1}return a2.operation(function(){var a9=a2.getCursor();var a8=a2.getSearchCursor(a5,a9);for(var a6=0;a6<a4;a6++){var a7=a8.find(a3);if(a6==0&&a7&&a0(a8.from(),a9)){a7=a8.find(a3)}if(!a7){a8=a2.getSearchCursor(a5,(a3)?{line:a2.lastLine()}:{line:a2.firstLine(),ch:0});if(!a8.find(a3)){return}}}return a8.from()})}function ao(a2){a2.removeOverlay(am(a2).getOverlay());am(a2).setOverlay(null)}function L(a4,a3,a2){if(typeof a4!="number"){a4=a4.line}if(a3 instanceof Array){return w(a4,a3)}else{if(a2){return(a4>=a3&&a4<=a2)}else{return a4==a3}}}function aK(a2){var a5=a2.getScrollInfo();var a4=6;var a8=10;var a7=a2.coordsChar({left:0,top:a4+a5.top},"local");var a3=a5.clientHeight-a8+a5.top;var a6=a2.coordsChar({left:0,top:a3},"local");return{top:a7.line,bottom:a6.line}}var q=[{name:"map"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s"},{name:"nohlsearch",shortName:"noh"},{name:"delmarks",shortName:"delm"}];b.ExCommandDispatcher=function(){this.buildCommandMap_()};b.ExCommandDispatcher.prototype={processCommand:function(ba,a9){var a5=ba.state.vim;if(a5.visualMode){aw(ba)}var a2=new CodeMirror.StringStream(a9);var a3={};a3.input=a9;try{this.parseInput_(ba,a2,a3)}catch(a8){aR(ba,a8);return}var a7;if(!a3.commandName){if(a3.line!==undefined){a7="move"}}else{var a4=this.matchCommand_(a3.commandName);if(a4){a7=a4.name;this.parseCommandArgs_(a2,a3,a4);if(a4.type=="exToKey"){for(var a6=0;a6<a4.toKeys.length;a6++){CodeMirror.Vim.handleKey(ba,a4.toKeys[a6])}return}else{if(a4.type=="exToEx"){this.processCommand(ba,a4.toInput);return}}}}if(!a7){aR(ba,'Not an editor command ":'+a9+'"');return}try{aF[a7](ba,a3)}catch(a8){aR(ba,a8);throw a8}},parseInput_:function(a3,a4,a2){a4.eatWhile(":");if(a4.eat("%")){a2.line=a3.firstLine();a2.lineEnd=a3.lastLine()}else{a2.line=this.parseLineSpec_(a3,a4);if(a2.line!==undefined&&a4.eat(",")){a2.lineEnd=this.parseLineSpec_(a3,a4)}}var a5=a4.match(/^(\w+)/);if(a5){a2.commandName=a5[1]}else{a2.commandName=a4.match(/.*/)[0]}return a2},parseLineSpec_:function(a2,a3){var a4=a3.match(/^(\d+)/);if(a4){return parseInt(a4[1],10)-1}switch(a3.next()){case".":return a2.getCursor().line;case"$":return a2.lastLine();case"'":var a5=a2.state.vim.marks[a3.next()];if(a5&&a5.find()){return a5.find().line}throw new Error("Mark not set");default:a3.backUp(1);return undefined}},parseCommandArgs_:function(a3,a6,a5){if(a3.eol()){return}a6.argString=a3.match(/.*/)[0];var a4=a5.argDelimiter||/\s+/;var a2=aH(a6.argString).split(a4);if(a2.length&&a2[0]){a6.args=a2}},matchCommand_:function(a3){for(var a2=a3.length;a2>0;a2--){var a4=a3.substring(0,a2);if(this.commandMap_[a4]){var a5=this.commandMap_[a4];if(a5.name.indexOf(a3)===0){return a5}}}return null},buildCommandMap_:function(){this.commandMap_={};for(var a3=0;a3<q.length;a3++){var a4=q[a3];var a2=a4.shortName||a4.name;this.commandMap_[a2]=a4}},map:function(a3,a6,a2){if(a3!=":"&&a3.charAt(0)==":"){if(a2){throw Error("Mode not supported for ex mappings")}var a5=a3.substring(1);if(a6!=":"&&a6.charAt(0)==":"){this.commandMap_[a5]={name:a5,type:"exToEx",toInput:a6.substring(1)}}else{this.commandMap_[a5]={name:a5,type:"exToKey",toKeys:Q(a6)}}}else{if(a6!=":"&&a6.charAt(0)==":"){var a4={keys:Q(a3),type:"keyToEx",exArgs:{input:a6.substring(1)}};if(a2){a4.context=a2}a.unshift(a4)}else{var a4={keys:Q(a3),type:"keyToKey",toKeys:Q(a6)};if(a2){a4.context=a2}a.unshift(a4)}}}};function Q(a5){var a3,a2;var a4=[];while(a5){a2=(/<\w+-.+?>|<\w+>|./).exec(a5);if(a2===null){break}a3=a2[0];a5=a5.substring(a2.index+a3.length);a4.push(a3)}return a4}var aF={map:function(a2,a5,a3){var a4=a5.args;if(!a4||a4.length<2){if(a2){aR(a2,"Invalid mapping: "+a5.input)}return}i.map(a4[0],a4[1],a3)},nmap:function(a2,a3){this.map(a2,a3,"normal")},vmap:function(a2,a3){this.map(a2,a3,"visual")},move:function(a2,a3){aI.processCommand(a2,a2.state.vim,{type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:false,explicitRepeat:true,linewise:true},repeatOverride:a3.line+1})},sort:function(bb,bl){var bc,a5,a3,a4;function a6(){if(bl.argString){var bp=new CodeMirror.StringStream(bl.argString);if(bp.eat("!")){bc=true}if(bp.eol()){return}if(!bp.eatSpace()){return"Invalid arguments"}var br=bp.match(/[a-z]+/);if(br){br=br[0];a5=br.indexOf("i")!=-1;a3=br.indexOf("u")!=-1;var bo=br.indexOf("d")!=-1&&1;var bq=br.indexOf("x")!=-1&&1;var bn=br.indexOf("o")!=-1&&1;if(bo+bq+bn>1){return"Invalid arguments"}a4=bo&&"decimal"||bq&&"hex"||bn&&"octal"}if(bp.eatSpace()&&bp.match(/\/.*\//)){"patterns not supported"}}}var a7=a6();if(a7){aR(bb,a7+": "+bl.argString);return}var bg=bl.line||bb.firstLine();var bk=bl.lineEnd||bl.line||bb.lastLine();if(bg==bk){return}var ba={line:bg,ch:0};var bi={line:bk,ch:az(bb,bk)};var bf=bb.getRange(ba,bi).split("\n");var a8=(a4=="decimal")?/(-?)([\d]+)/:(a4=="hex")?/(-?)(?:0x)?([0-9a-f]+)/i:(a4=="octal")?/([0-7]+)/:null;var a9=(a4=="decimal")?10:(a4=="hex")?16:(a4=="octal")?8:null;var bd=[],bh=[];if(a4){for(var bj=0;bj<bf.length;bj++){if(a8.exec(bf[bj])){bd.push(bf[bj])}else{bh.push(bf[bj])}}}else{bh=bf}function bm(bo,bn){if(bc){var bp;bp=bo;bo=bn;bn=bp}if(a5){bo=bo.toLowerCase();bn=bn.toLowerCase()}var br=a4&&a8.exec(bo);var bq=a4&&a8.exec(bn);if(!br){return bo<bn?-1:1}br=parseInt((br[1]+br[2]).toLowerCase(),a9);bq=parseInt((bq[1]+bq[2]).toLowerCase(),a9);return br-bq}bd.sort(bm);bh.sort(bm);bf=(!bc)?bh.concat(bd):bd.concat(bh);if(a3){var be=bf;var a2;bf=[];for(var bj=0;bj<be.length;bj++){if(be[bj]!=a2){bf.push(be[bj])}a2=be[bj]}}bb.replaceRange(bf.join("\n"),ba,bi)},substitute:function(bg,a5){if(!bg.getSearchCursor){throw new Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.")}var a3=a5.argString;var bf=T(a3);if(bf[0]!==0){aR(bg,"Substitutions should be of the form :s/pattern/replace/");return}var bi=a3.substring(bf[0]+1,bf[1]);var a9="";var ba;var bb;var a2=false;if(bf[1]){a9=a3.substring(bf[1]+1,bf[2]);a9=ab(a9)}if(bf[2]){var a8=a3.substring(bf[2]+1).split(" ");ba=a8[0];bb=parseInt(a8[1])}if(ba){if(ba.indexOf("c")!=-1){a2=true;ba.replace("c","")}bi=bi+"/"+ba}if(bi){try{aZ(bg,bi,true,true)}catch(bd){aR(bg,"Invalid regex: "+bi);return}}var a4=am(bg);var be=a4.getQuery();var a7=(a5.line!==undefined)?a5.line:bg.getCursor().line;var a6=a5.lineEnd||a7;if(bb){a7=a6;a6=a7+bb-1}var bc=H(bg,{line:a7,ch:0});var bh=bg.getSearchCursor(be,bc);aG(bg,a2,a7,a6,bh,be,a9)},redo:CodeMirror.commands.redo,undo:CodeMirror.commands.undo,write:function(a2){if(CodeMirror.commands.save){CodeMirror.commands.save(a2)}else{a2.save()}},nohlsearch:function(a2){ao(a2)},delmarks:function(bc,a7){if(!a7.argString||!aH(a7.argString)){aR(bc,"Argument required");return}var a2=bc.state.vim;var bd=new CodeMirror.StringStream(aH(a7.argString));while(!bd.eol()){bd.eatSpace();var ba=bd.pos;if(!bd.match(/[a-zA-Z]/,false)){aR(bc,"Invalid argument: "+a7.argString.substring(ba));return}var a4=bd.next();if(bd.match("-",true)){if(!bd.match(/[a-zA-Z]/,false)){aR(bc,"Invalid argument: "+a7.argString.substring(ba));return}var a5=a4;var a9=bd.next();if(t(a5)&&t(a9)||p(a5)&&p(a9)){var a3=a5.charCodeAt(0);var bb=a9.charCodeAt(0);if(a3>=bb){aR(bc,"Invalid argument: "+a7.argString.substring(ba));return}for(var a8=0;a8<=bb-a3;a8++){var a6=String.fromCharCode(a3+a8);delete a2.marks[a6]}}else{aR(bc,"Invalid argument: "+a5+"-");return}}else{delete a2.marks[a4]}}}};var i=new b.ExCommandDispatcher();function aG(bf,a3,ba,a7,a4,bc,a6){bf.state.vim.exMode=true;var a8=false;var be=a4.from();function bb(){bf.operation(function(){while(!a8){a5();a9()}bd()})}function a5(){var bh=bf.getRange(a4.from(),a4.to());var bg=bh.replace(bc,a6);a4.replace(bg)}function a9(){var bg=a4.findNext();if(!bg){a8=true}else{if(L(a4.from(),ba,a7)){bf.scrollIntoView(a4.from(),30);bf.setSelection(a4.from(),a4.to());be=a4.from();a8=false}else{a8=true}}}function bd(bh){if(bh){bh()}bf.focus();if(be){bf.setCursor(be);var bg=bf.state.vim;bg.exMode=false;bg.lastHPos=bg.lastHSPos=be.ch}}function a2(bi,bg,bj){CodeMirror.e_stop(bi);var bh=CodeMirror.keyName(bi);switch(bh){case"Y":a5();a9();break;case"N":a9();break;case"A":bf.operation(bb);break;case"L":a5();case"Q":case"Esc":case"Ctrl-C":case"Ctrl-[":bd(bj);break}if(a8){bd(bj)}}a9();if(a8){aR(bf,"No matches for "+bc.source);return}if(!a3){bb();return}aD(bf,{prefix:"replace with <strong>"+a6+"</strong> (y/n/a/q/l)",onKeyDown:a2})}function ai(){function a4(a8,a7){var a6=a8;if(p(a6)&&a7=="Ctrl"){a6=a6.toLowerCase()}if(a7){a6=a7.charAt(0)+"-"+a6}var a9=({Enter:"CR",Backspace:"BS",Delete:"Del"})[a6];a6=a9?a9:a6;a6=a6.length>1?"<"+a6+">":a6;return a6}function a3(a6){return function(a7){CodeMirror.Vim.handleKey(a7,a6)}}var a2={nofallthrough:true,style:"fat-cursor"};function a5(bb,a7){for(var ba=0;ba<bb.length;ba++){var a9=bb[ba];if(!a7&&a9.length==1){a9="'"+a9+"'"}var a6=a4(bb[ba],a7);var a8=a7?a7+"-"+a9:a9;a2[a8]=a3(a6)}}a5(N);a5(V);a5(N,"Ctrl");a5(e);a5(e,"Ctrl");a5(D);a5(D,"Ctrl");a5(ay);a5(ay,"Ctrl");return a2}CodeMirror.keyMap.vim=ai();function m(a2){var a4=a2.state.vim;var a3=l.macroModeState.inReplay;if(!a3){a2.off("change",aO);a2.off("cursorActivity",I);CodeMirror.off(a2.getInputField(),"keydown",E)}if(!a3&&a4.insertModeRepeat>1){n(a2,a4,a4.insertModeRepeat-1,true);a4.lastEditInputState.repeatOverride=a4.insertModeRepeat}delete a4.insertModeRepeat;a2.setCursor(a2.getCursor().line,a2.getCursor().ch-1,true);a4.insertMode=false;a2.setOption("keyMap","vim");a2.setOption("disableInput",true);a2.toggleOverwrite(false);CodeMirror.signal(a2,"vim-mode-change",{mode:"normal"})}CodeMirror.keyMap["vim-insert"]={Esc:m,"Ctrl-[":m,"Ctrl-C":m,"Ctrl-N":"autocomplete","Ctrl-P":"autocomplete",Enter:function(a2){var a3=CodeMirror.commands.newlineAndIndentContinueComment||CodeMirror.commands.newlineAndIndent;a3(a2)},fallthrough:["default"]};CodeMirror.keyMap["vim-replace"]={Backspace:"goCharLeft",fallthrough:["vim-insert"]};function F(a7,a6){var a2,a4;var a5=l.registerController.getRegister(a6);var a8=a5.toString();var a3=a7.macroKeyBuffer;aM(a7);do{a2=(/<\w+-.+?>|<\w+>|./).exec(a8);if(a2===null){break}a4=a2[0];a8=a8.substring(a2.index+a4.length);a3.push(a4)}while(a8);return a3}function ar(a2,a4){var a3=a4.join("");l.registerController.setRegisterText(a2,a3)}function aM(a3){if(a3.isMacroPlaying){return}var a2=a3.macroKeyBuffer;a2.length=0}function R(a3,a5,a6){a5.isMacroPlaying=true;for(var a4=0,a2=a6.length;a4<a2;a4++){CodeMirror.Vim.handleKey(a3,a6[a4])}a5.isMacroPlaying=false}function v(a4,a3){if(a4.isMacroPlaying){return}var a2=a4.macroKeyBuffer;a2.push(a3)}function aO(a3,a2){var a5=l.macroModeState;var a4=a5.lastInsertModeChanges;while(a2){a4.expectCursorActivityForChange=true;if(a2.origin=="+input"||a2.origin=="paste"||a2.origin===undefined){var a6=a2.text.join("\n");a4.changes.push(a6)}a2=a2.next}}function I(){var a3=l.macroModeState;var a2=a3.lastInsertModeChanges;if(a2.expectCursorActivityForChange){a2.expectCursorActivityForChange=false}else{a2.changes=[]}}function aQ(a2){this.keyName=a2}function E(a6){var a5=l.macroModeState;var a4=a5.lastInsertModeChanges;var a3=CodeMirror.keyName(a6);function a2(){a4.changes.push(new aQ(a3));return true}if(a3.indexOf("Delete")!=-1||a3.indexOf("Backspace")!=-1){CodeMirror.lookupKey(a3,["vim-insert"],a2)}}function n(ba,a5,a3,a2){var a7=l.macroModeState;a7.inReplay=true;var bb=!!a5.lastEditActionCommand;var a8=a5.inputState;function a4(){if(bb){aI.processAction(ba,a5,a5.lastEditActionCommand)}else{aI.evalInput(ba,a5)}}function a9(bc){if(a7.lastInsertModeChanges.changes.length>0){bc=!a5.lastEditActionCommand?1:bc;P(ba,bc,a7)}}a5.inputState=a5.lastEditInputState;if(bb&&a5.lastEditActionCommand.interlaceInsertRepeat){for(var a6=0;a6<a3;a6++){a4();a9(1)}}else{if(!a2){a4()}a9(a3)}a5.inputState=a8;if(a5.insertMode&&!a2){m(ba)}a7.inReplay=false}function P(a9,a2,a4){var a5=a4.lastInsertModeChanges;function a7(bb){if(typeof bb=="string"){CodeMirror.commands[bb](a9)}else{bb(a9)}return true}for(var a6=0;a6<a2;a6++){for(var a3=0;a3<a5.changes.length;a3++){var a8=a5.changes[a3];if(a8 instanceof aQ){CodeMirror.lookupKey(a8.keyName,["vim-insert"],a7)}else{var ba=a9.getCursor();a9.replaceRange(a8,ba,ba)}}}}o();return at};CodeMirror.Vim=b()})();