tinymce.PluginManager.add("joomlaarticle", function(a, b) {
	a.addButton("joomlaarticle", {
		text: 'J Article',
		title: "Joomla Insert Article",
		icon: "newdocument",
		onclick: function() {
			if (imgLink) {
				a.windowManager.open({
					title  : "Joomla Select Article",
					url    : 'index.php?option=com_content&amp;view=articles&amp;layout=modal&amp;tmpl=component&amp;' + toc + '=1',
					width  : 900,
					height : 600,
					buttons: [{
						text   : "Close",
						onclick: "close"
					}]
				})
			}
		}
	}), a.addMenuItem("joomlaarticle", {
		text: "Joomla Insert Article",
		context: "insert",
		icon: "newdocument",
		onclick: function() {
			if (imgLink) {
				a.windowManager.open({
					title  : "Joomla Select Article",
					url    : 'index.php?option=com_content&amp;view=articles&amp;layout=modal&amp;tmpl=component&amp;' + toc + '=1',
					width  : 900,
					height : 600,
					buttons: [{
						text   : "Close",
						onclick: "close"
					}]
				})
			}
		}
	})
});
function jSelectArticle(id, title, catid, object, link, lang)
{
	var hreflang = '';
	if (lang !== '')
	{
		var hreflang = ' hreflang = \"' + lang + '\"';
	}
	var tag = '<a' + hreflang + ' href=\"' + link + '\">' + title + '</a>';
	tinymce.activeEditor.insertContent(tag);
	tinymce.activeEditor.windowManager.close();
}