!function(a,b,c,d){"use strict";c.getSize=c.getSize||function(){return{x:c.innerWidth,y:c.innerHeight}};var e={setupEditors:function(a){a=a||d;for(var c=b.getOptions?b.getOptions("plg_editor_tinymce",{}):b.optionsStorage.plg_editor_tinymce||{},e=a.querySelectorAll(".js-editor-tinymce"),f=0,g=e.length;f<g;f++){var h=e[f].querySelector("textarea");this.setupEditor(h,c)}},setupEditor:function(c,d){var e=c?c.getAttribute("name").replace(/\[\]|\]/g,"").split("[").pop():"default",f=d?d.tinyMCE||{}:{},g=f.default||{},h=f[e]?f[e]:g;if(h=h.joomlaMergeDefaults?b.extend(b.extend({},g),h):b.extend({},h),c&&(h.selector=null,h.target=c),h.joomlaExtButtons&&h.joomlaExtButtons.names&&h.joomlaExtButtons.names.length){h.toolbar1+=" | "+h.joomlaExtButtons.names.join(" ");var i=h.joomlaExtButtons.script.join(";");h.setupCallbackString=h.setupCallbackString||"",h.setupCallbackString=h.setupCallbackString+";"+i,h.joomlaExtButtons=null}h.setupCallbackString&&!h.setup&&(h.setup=new Function("editor",h.setupCallbackString));var j=new a.Editor(c.id,h,tinymce.EditorManager);j.render(),b.editors.instances[c.id]={getValue:function(){return this.instance.getContent()},setValue:function(a){return this.instance.setContent(a)},replaceSelection:function(a){return this.instance.execCommand("mceInsertContent",!1,a)},id:c.id,instance:j,onSave:function(){this.instance.isHidden()&&this.instance.show()}},c.form.addEventListener("submit",function(){for(var a in b.editors.instances)b.editors.instances.hasOwnProperty(a)&&(console.log(a,b.editors.instances[a]),b.editors.instances[a].onSave())})}};b.JoomlaTinyMCE=e,d.addEventListener("DOMContentLoaded",function(){b.JoomlaTinyMCE.setupEditors(),c.jQuery&&jQuery(d).on("subform-row-add",function(a,c){b.JoomlaTinyMCE.setupEditors(c)})})}(tinyMCE,Joomla,window,document),function(a,b,c,d){"use strict";c.getSize=c.getSize||function(){return{x:c.innerWidth,y:c.innerHeight}};var e={setupEditors:function(a){a=a||d;for(var c=b.getOptions?b.getOptions("plg_editor_tinymce",{}):b.optionsStorage.plg_editor_tinymce||{},e=a.querySelectorAll(".js-editor-tinymce"),f=0,g=e.length;f<g;f++){var h=e[f].querySelector("textarea");this.setupEditor(h,c)}},setupEditor:function(c,d){var e=c?c.getAttribute("name").replace(/\[\]|\]/g,"").split("[").pop():"default",f=d?d.tinyMCE||{}:{},g=f.default||{},h=f[e]?f[e]:g;if(h=h.joomlaMergeDefaults?b.extend(b.extend({},g),h):b.extend({},h),c&&(h.selector=null,h.target=c),h.joomlaExtButtons&&h.joomlaExtButtons.names&&h.joomlaExtButtons.names.length){h.toolbar1+=" | "+h.joomlaExtButtons.names.join(" ");var i=h.joomlaExtButtons.script.join(";");h.setupCallbackString=h.setupCallbackString||"",h.setupCallbackString=h.setupCallbackString+";"+i,h.joomlaExtButtons=null}h.setupCallbackString&&!h.setup&&(h.setup=new Function("editor",h.setupCallbackString));var j=new a.Editor(c.id,h,tinymce.EditorManager);j.render(),b.editors.instances[c.id]={getValue:function(){return this.instance.getContent()},setValue:function(a){return this.instance.setContent(a)},replaceSelection:function(a){return this.instance.execCommand("mceInsertContent",!1,a)},id:c.id,instance:j,onSave:function(){this.instance.isHidden()&&this.instance.show()}},c.form.addEventListener("submit",function(){for(var a in b.editors.instances)b.editors.instances.hasOwnProperty(a)&&(console.log(a,b.editors.instances[a]),b.editors.instances[a].onSave())})}};b.JoomlaTinyMCE=e,d.addEventListener("DOMContentLoaded",function(){b.JoomlaTinyMCE.setupEditors(),c.jQuery&&jQuery(d).on("subform-row-add",function(a,c){b.JoomlaTinyMCE.setupEditors(c)})})}(tinyMCE,Joomla,window,document);