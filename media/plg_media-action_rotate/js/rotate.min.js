Joomla=window.Joomla||{},Joomla.MediaManager=Joomla.MediaManager||{},Joomla.MediaManager.Edit=Joomla.MediaManager.Edit||{},function(){"use strict";var e=function(e){var t=document.getElementById("myTabContent"),a=document.getElementById("attrib-Rotate");t.classList.add("row","ml-0","mr-0","p-0"),a.classList.add("col-md-3","p-4"),Joomla.cropper&&(Joomla.cropper={}),Joomla.cropperRotate=new Cropper(e,{restore:!0,responsive:!0,dragMode:!1,autoCrop:!1,autoCropArea:1,guides:!1,center:!1,highlight:!1,cropBoxMovable:!1,scalable:!1,zoomable:!1,rotatable:!0,cropBoxResizable:!1,toggleDragModeOnDblclick:!1,minContainerWidth:e.offsetWidth,minContainerHeight:e.offsetHeight})},t=function(e){var t="jpg"===Joomla.MediaManager.Edit.original.extension?"jpeg":"jpg",a=document.getElementById("jform_resize_quality").value;Joomla.MediaManager.Edit.current.contents=Joomla.cropperRotate.getCroppedCanvas(e).toDataURL("image/"+t,a),window.dispatchEvent(new Event("mediaManager.history.point")),document.getElementById("image-preview").src=Joomla.MediaManager.Edit.current.contents};Joomla.MediaManager.Edit.rotate={Activate:function(a){var o=document.getElementById("media-manager-edit-container"),n=(document.createElement("h3"),document.createElement("div")),r=document.createElement("div"),i=document.createElement("img"),d=document.createElement("img");i.src=a.contents,d.src=a.contents,d.id="image-preview",i.style.maxWidth="100%",d.style.maxWidth="100%",n.style.display="none",n.appendChild(i),o.appendChild(n),r.appendChild(d),o.appendChild(r),e(i);setTimeout(function(){i=document.getElementById("media-manager-edit-container").querySelector("img");var e=document.getElementById("jform_rotate");e.min=-360,e.max=360,e.value=0,e.addEventListener("change",function(e){var a=document.getElementById("jform_rotate-lbl"),o=a.innerText.replace(/:.*/,"");a.innerHTML=o+" : "+e.target.value+" degs",Joomla.cropperRotate.rotate(parseInt(e.target.value)),t({rotate:parseInt(e.target.value)}),e.target.value=0})},1e3)},Deactivate:function(){Joomla.cropperRotate&&Joomla.cropperRotate.destroy()}}}();