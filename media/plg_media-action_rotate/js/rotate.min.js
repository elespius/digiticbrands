Joomla=window.Joomla||{},Joomla.MediaManager=Joomla.MediaManager||{},Joomla.MediaManager.Edit=Joomla.MediaManager.Edit||{},function(){"use strict";Joomla.MediaManager.Edit.rotate={Activate:function(e){var t=document.getElementById("media-manager-edit-container"),a=(document.createElement("h3"),document.createElement("div")),o=document.createElement("div"),n=document.createElement("img"),r=document.createElement("img");n.src=e.contents,r.src=e.contents,r.id="image-preview",n.style.maxWidth="100%",r.style.maxWidth="100%",a.style.display="none",a.appendChild(n),t.appendChild(a),o.appendChild(r),t.appendChild(o),function(e){var t=document.getElementById("myTabContent"),a=document.getElementById("attrib-Rotate");t.classList.add("row","ml-0","mr-0","p-0"),a.classList.add("col-md-3","p-4"),Joomla.cropper&&(Joomla.cropper={}),Joomla.cropperRotate=new Cropper(e,{restore:!0,responsive:!0,dragMode:!1,autoCrop:!1,autoCropArea:1,guides:!1,center:!1,highlight:!1,cropBoxMovable:!1,scalable:!1,zoomable:!1,rotatable:!0,cropBoxResizable:!1,toggleDragModeOnDblclick:!1,minContainerWidth:e.offsetWidth,minContainerHeight:e.offsetHeight})}(n);setTimeout(function(){n=document.getElementById("media-manager-edit-container").querySelector("img");var e=document.getElementById("jform_rotate");e.min=-360,e.max=360,e.value=0,e.addEventListener("change",function(e){var t=document.getElementById("jform_rotate-lbl"),a=t.innerText.replace(/:.*/,"");t.innerHTML=a+" : "+e.target.value+" degs",Joomla.cropperRotate.rotate(parseInt(e.target.value)),function(e){var t="jpg"===Joomla.MediaManager.Edit.original.extension?"jpeg":"jpg",a=document.getElementById("jform_resize_quality").value;Joomla.MediaManager.Edit.current.contents=Joomla.cropperRotate.getCroppedCanvas(e).toDataURL("image/"+t,a),window.dispatchEvent(new Event("mediaManager.history.point")),document.getElementById("image-preview").src=Joomla.MediaManager.Edit.current.contents}({rotate:parseInt(e.target.value)}),e.target.value=0})},1e3)},Deactivate:function(){Joomla.cropperRotate&&Joomla.cropperRotate.destroy()}}}();