!function(){var e={},n=function(n,t,i){if("string"!=typeof n)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+n;if(void 0===i)throw"no definition function for "+n;e[n]={deps:t,defn:i,instance:void 0}},t=function(n){var i=e[n];if(void 0===i)throw"module ["+n+"] was undefined";return void 0===i.instance&&function(n){for(var i=e[n],r=i.deps,l=i.defn,o=r.length,c=new Array(o),u=0;u<o;++u)c[u]=t(r[u]);var s=l.apply(null,c);if(void 0===s)throw"module ["+n+"] returned undefined";i.instance=s}(n),i.instance},i=n,r=function(e,n){i(e,[],function(){return n})};i("ephox.katamari.api.Cell",[],function(){var e=function(n){var t=n,i=function(){return t};return{get:i,set:function(e){t=e},clone:function(){return e(i())}}};return e}),r("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),i("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),i("tinymce.plugins.fullscreen.api.Api",[],function(){return{get:function(e){return{isFullscreen:function(){return null!==e.get()}}}}}),r("global!document",document),r("global!window",window),i("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),i("tinymce.plugins.fullscreen.api.Events",[],function(){return{fireFullscreenStateChanged:function(e,n){e.fire("FullscreenStateChanged",{state:n})}}}),i("tinymce.plugins.fullscreen.core.Actions",["global!document","global!window","tinymce.core.dom.DOMUtils","tinymce.plugins.fullscreen.api.Events"],function(e,n,t,i){var r=t.DOM;return{toggleFullscreen:function(t,l){var o,c,u,s,a=e.body,f=e.documentElement,d=l.get(),g=function(){r.setStyle(u,"height",function(){var t,i,r=n,l=e.body;return l.offsetWidth&&(t=l.offsetWidth,i=l.offsetHeight),r.innerWidth&&r.innerHeight&&(t=r.innerWidth,i=r.innerHeight),{w:t,h:i}}().h-(c.clientHeight-u.clientHeight))},m=function(){r.unbind(n,"resize",g)};if(o=(c=t.getContainer()).style,s=(u=t.getContentAreaContainer().firstChild).style,d)s.width=d.iframeWidth,s.height=d.iframeHeight,d.containerWidth&&(o.width=d.containerWidth),d.containerHeight&&(o.height=d.containerHeight),r.removeClass(a,"mce-fullscreen"),r.removeClass(f,"mce-fullscreen"),r.removeClass(c,"mce-fullscreen"),v=d.scrollPos,n.scrollTo(v.x,v.y),r.unbind(n,"resize",d.resizeHandler),t.off("remove",d.removeHandler),l.set(null),i.fireFullscreenStateChanged(t,!1);else{var h={scrollPos:function(){var e=r.getViewPort();return{x:e.x,y:e.y}}(),containerWidth:o.width,containerHeight:o.height,iframeWidth:s.width,iframeHeight:s.height,resizeHandler:g,removeHandler:m};s.width=s.height="100%",o.width=o.height="",r.addClass(a,"mce-fullscreen"),r.addClass(f,"mce-fullscreen"),r.addClass(c,"mce-fullscreen"),r.bind(n,"resize",g),t.on("remove",m),g(),l.set(h),i.fireFullscreenStateChanged(t,!0)}var v}}}),i("tinymce.plugins.fullscreen.api.Commands",["tinymce.plugins.fullscreen.core.Actions"],function(e){return{register:function(n,t){n.addCommand("mceFullScreen",function(){e.toggleFullscreen(n,t)})}}}),i("tinymce.plugins.fullscreen.ui.Buttons",[],function(){var e=function(e){return function(n){var t=n.control;e.on("FullscreenStateChanged",function(e){t.active(e.state)})}};return{register:function(n){n.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Shift+F",selectable:!0,cmd:"mceFullScreen",onPostRender:e(n),context:"view"}),n.addButton("fullscreen",{active:!1,tooltip:"Fullscreen",cmd:"mceFullScreen",onPostRender:e(n)})}}}),i("tinymce.plugins.fullscreen.Plugin",["ephox.katamari.api.Cell","tinymce.core.PluginManager","tinymce.plugins.fullscreen.api.Api","tinymce.plugins.fullscreen.api.Commands","tinymce.plugins.fullscreen.ui.Buttons"],function(e,n,t,i,r){return n.add("fullscreen",function(n){var l=e(null);return i.register(n,l),r.register(n),n.addShortcut("Ctrl+Shift+F","","mceFullScreen"),t.get(l)}),function(){}}),t("tinymce.plugins.fullscreen.Plugin")()}();