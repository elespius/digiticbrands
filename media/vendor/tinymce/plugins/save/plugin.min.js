!function(){var n,e,t={},i=function(n,e,i){if("string"!=typeof n)throw"module id must be a string";if(void 0===e)throw"no dependencies for "+n;if(void 0===i)throw"no definition function for "+n;t[n]={deps:e,defn:i,instance:void 0}},o=function(n){var e=t[n];if(void 0===e)throw"module ["+n+"] was undefined";return void 0===e.instance&&function(n){for(var e=t[n],i=e.deps,a=e.defn,c=i.length,r=new Array(c),l=0;l<c;++l)r[l]=o(i[l]);var s=a.apply(null,r);if(void 0===s)throw"module ["+n+"] returned undefined";e.instance=s}(n),e.instance},a=i;n="global!tinymce.util.Tools.resolve",e=tinymce.util.Tools.resolve,a(n,[],function(){return e}),a("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(n){return n("tinymce.PluginManager")}),a("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(n){return n("tinymce.dom.DOMUtils")}),a("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(n){return n("tinymce.util.Tools")}),a("tinymce.plugins.save.api.Settings",[],function(){return{enableWhenDirty:function(n){return n.getParam("save_enablewhendirty",!0)},hasOnSaveCallback:function(n){return!!n.getParam("save_onsavecallback")},hasOnCancelCallback:function(n){return!!n.getParam("save_oncancelcallback")}}}),a("tinymce.plugins.save.core.Actions",["tinymce.core.dom.DOMUtils","tinymce.core.util.Tools","tinymce.plugins.save.api.Settings"],function(n,e,t){var i=function(n,e){n.notificationManager.open({text:n.translate(e),type:"error"})};return{save:function(e){var o;if(o=n.DOM.getParent(e.id,"form"),!t.enableWhenDirty(e)||e.isDirty()){if(e.save(),t.hasOnSaveCallback(e))return e.execCallback("save_onsavecallback",e),void e.nodeChanged();o?(e.setDirty(!1),o.onsubmit&&!o.onsubmit()||("function"==typeof o.submit?o.submit():i(e,"Error: Form submit field collision.")),e.nodeChanged()):i(e,"Error: No form element found.")}},cancel:function(n){var i=e.trim(n.startContent);t.hasOnCancelCallback(n)?n.execCallback("save_oncancelcallback",n):(n.setContent(i),n.undoManager.clear(),n.nodeChanged())}}}),a("tinymce.plugins.save.api.Commands",["tinymce.plugins.save.core.Actions"],function(n){return{register:function(e){e.addCommand("mceSave",function(){n.save(e)}),e.addCommand("mceCancel",function(){n.cancel(e)})}}}),a("tinymce.plugins.save.ui.Buttons",["tinymce.plugins.save.api.Settings"],function(n){var e=function(e){return function(t){var i=t.control;e.on("nodeChange dirty",function(){i.disabled(n.enableWhenDirty(e)&&!e.isDirty())})}};return{register:function(n){n.addButton("save",{icon:"save",text:"Save",cmd:"mceSave",disabled:!0,onPostRender:e(n)}),n.addButton("cancel",{text:"Cancel",icon:!1,cmd:"mceCancel",disabled:!0,onPostRender:e(n)}),n.addShortcut("Meta+S","","mceSave")}}}),a("tinymce.plugins.save.Plugin",["tinymce.core.PluginManager","tinymce.plugins.save.api.Commands","tinymce.plugins.save.ui.Buttons"],function(n,e,t){return n.add("save",function(n){t.register(n),e.register(n)}),function(){}}),o("tinymce.plugins.save.Plugin")()}();