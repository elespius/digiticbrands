!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],i=r.deps,o=r.defn,s=i.length,c=new Array(s),u=0;u<s;++u)c[u]=n(i[u]);var l=o.apply(null,c);if(void 0===l)throw"module ["+t+"] returned undefined";r.instance=l}(t),r.instance},r=t;i="global!tinymce.util.Tools.resolve",o=tinymce.util.Tools.resolve,r(i,[],function(){return o});var i,o;r("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),r("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),r("tinymce.core.EditorManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.EditorManager")}),r("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.Env")}),r("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),r("tinymce.plugins.importcss.api.Settings",[],function(){return{shouldMergeClasses:function(e){return e.getParam("importcss_merge_classes")},shouldImportExclusive:function(e){return e.getParam("importcss_exclusive")},getSelectorConverter:function(e){return e.getParam("importcss_selector_converter")},getSelectorFilter:function(e){return e.getParam("importcss_selector_filter")},getCssGroups:function(e){return e.getParam("importcss_groups")},shouldAppend:function(e){return e.getParam("importcss_append")},getFileFilter:function(e){return e.getParam("importcss_file_filter")}}}),r("tinymce.plugins.importcss.core.ImportCss",["tinymce.core.dom.DOMUtils","tinymce.core.EditorManager","tinymce.core.Env","tinymce.core.util.Tools","tinymce.plugins.importcss.api.Settings"],function(e,t,n,r,i){var o=function(e){var t=n.cacheSuffix;return"string"==typeof e&&(e=e.replace("?"+t,"").replace("&"+t,"")),e},s=function(e,n){var r=e.settings,i=!1!==r.skin&&(r.skin||"lightgray");if(i){return n===(r.skin_url?e.documentBaseURI.toAbsolute(r.skin_url):t.baseURL+"/skins/"+i)+"/content"+(e.inline?".inline":"")+".min.css"}return!1},c=function(e){return"string"==typeof e?function(t){return-1!==t.indexOf(e)}:e instanceof RegExp?function(t){return e.test(t)}:e},u=function(e,t,n){var i=[],c={};r.each(e.contentCSS,function(e){c[e]=!0}),n||(n=function(e,t){return t||c[e]});try{r.each(t.styleSheets,function(t){!function t(c,u){var l,a=c.href;if((a=o(a))&&n(a,u)&&!s(e,a)){r.each(c.imports,function(e){t(e,!0)});try{l=c.cssRules||c.rules}catch(e){}r.each(l,function(e){e.styleSheet?t(e.styleSheet,!0):e.selectorText&&r.each(e.selectorText.split(","),function(e){i.push(r.trim(e))})})}}(t)})}catch(e){}return i},l=function(e,t){var n,o=/^(?:([a-z0-9\-_]+))?(\.[a-z0-9_\-\.]+)$/i.exec(t);if(o){var s=o[1],c=o[2].substr(1).split(".").join(" "),u=r.makeMap("a,img");return o[1]?(n={title:t},e.schema.getTextBlockElements()[s]?n.block=s:e.schema.getBlockElements()[s]||u[s.toLowerCase()]?n.selector=s:n.inline=s):o[2]&&(n={inline:"span",title:t.substr(1),classes:c}),!1!==i.shouldMergeClasses(e)?n.classes=c:n.attributes={class:c},n}},a=function(e,t){return null===t||!1!==i.shouldImportExclusive(e)};return{defaultConvertSelectorToFormat:l,setup:function(t){t.on("renderFormatsMenu",function(n){var o,s={},m=c(i.getSelectorFilter(t)),f=n.control,g=(o=i.getCssGroups(t),r.map(o,function(e){return r.extend({},e,{original:e,selectors:{},filter:c(e.filter),item:{text:e.title,menu:[]}})})),p=function(n,o){if(_=n,T=s,!(a(t,S=o)?_ in T:_ in S.selectors)){v=n,h=s,a(t,y=o)?h[v]=!0:y.selectors[v]=!0;var c=(m=t,g=t.plugins.importcss,p=n,d=o,(d&&d.selector_converter?d.selector_converter:i.getSelectorConverter(m)?i.getSelectorConverter(m):function(){return l(m,p)}).call(g,p,d));if(c){var u=c.name||e.DOM.uniqueId();return t.formatter.register(u,c),r.extend({},f.settings.itemDefaults,{text:c.title,format:u})}}var m,g,p,d,v,y,h,_,S,T;return null};i.shouldAppend(t)||f.items().remove(),r.each(u(t,n.doc||t.getDoc(),c(i.getFileFilter(t))),function(e){if(-1===e.indexOf(".mce-")&&(!m||m(e))){var t=(i=g,o=e,r.grep(i,function(e){return!e.filter||e.filter(o)}));if(t.length>0)r.each(t,function(t){var n=p(e,t);n&&t.item.menu.push(n)});else{var n=p(e,null);n&&f.add(n)}}var i,o}),r.each(g,function(e){e.item.menu.length>0&&f.add(e.item)}),n.control.renderNew()})}}}),r("tinymce.plugins.importcss.api.Api",["tinymce.plugins.importcss.core.ImportCss"],function(e){return{get:function(t){return{convertSelectorToFormat:function(n){return e.defaultConvertSelectorToFormat(t,n)}}}}}),r("tinymce.plugins.importcss.Plugin",["tinymce.core.PluginManager","tinymce.plugins.importcss.api.Api","tinymce.plugins.importcss.core.ImportCss"],function(e,t,n){return e.add("importcss",function(e){return n.setup(e),t.get(e)}),function(){}}),n("tinymce.plugins.importcss.Plugin")()}();