!function(){var e={},n=function(n,t,i){if("string"!=typeof n)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+n;if(void 0===i)throw"no definition function for "+n;e[n]={deps:t,defn:i,instance:void 0}},t=function(n){var i=e[n];if(void 0===i)throw"module ["+n+"] was undefined";return void 0===i.instance&&function(n){for(var i=e[n],o=i.deps,r=i.defn,u=o.length,l=new Array(u),c=0;c<u;++c)l[c]=t(o[c]);var a=r.apply(null,l);if(void 0===a)throw"module ["+n+"] returned undefined";i.instance=a}(n),i.instance},i=n,o=function(e,n){i(e,[],function(){return n})};o("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),i("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("global!window",window),i("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),i("tinymce.core.EditorManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.EditorManager")}),i("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.Env")}),i("tinymce.core.util.Delay",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Delay")}),i("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),i("tinymce.core.util.VK",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.VK")}),i("tinymce.plugins.tabfocus.api.Settings",[],function(){return{getTabFocus:function(e){return e.getParam("tab_focus",e.getParam("tabfocus_elements",":prev,:next"))}}}),i("tinymce.plugins.tabfocus.core.Keyboard",["global!window","tinymce.core.dom.DOMUtils","tinymce.core.EditorManager","tinymce.core.Env","tinymce.core.util.Delay","tinymce.core.util.Tools","tinymce.core.util.VK","tinymce.plugins.tabfocus.api.Settings"],function(e,n,t,i,o,r,u,l){var c=n.DOM,a=function(e){e.keyCode!==u.TAB||e.ctrlKey||e.altKey||e.metaKey||e.preventDefault()};return{setup:function(n){function s(a){var s,f,y,d;if(!(a.keyCode!==u.TAB||a.ctrlKey||a.altKey||a.metaKey||a.isDefaultPrevented())&&(1===(y=r.explode(l.getTabFocus(n))).length&&(y[1]=y[0],y[0]=":prev"),f=a.shiftKey?":prev"===y[0]?g(-1):c.get(y[0]):":next"===y[1]?g(1):c.get(y[1]))){var m=t.get(f.id||f.name);f.id&&m?m.focus():o.setTimeout(function(){i.webkit||e.focus(),f.focus()},10),a.preventDefault()}function g(e){f=c.select(":input:enabled,*[tabindex]:not(iframe)");function i(e){return/INPUT|TEXTAREA|BUTTON/.test(e.tagName)&&t.get(a.id)&&-1!==e.tabIndex&&function e(n){return"BODY"===n.nodeName||"hidden"!==n.type&&"none"!==n.style.display&&"hidden"!==n.style.visibility&&e(n.parentNode)}(e)}if(r.each(f,function(e,t){if(e.id===n.id)return s=t,!1}),e>0){for(d=s+1;d<f.length;d++)if(i(f[d]))return f[d]}else for(d=s-1;d>=0;d--)if(i(f[d]))return f[d];return null}}n.on("init",function(){n.inline&&c.setAttrib(n.getBody(),"tabIndex",null),n.on("keyup",a),i.gecko?n.on("keypress keydown",s):n.on("keydown",s)})}}}),i("tinymce.plugins.tabfocus.Plugin",["tinymce.core.PluginManager","tinymce.plugins.tabfocus.core.Keyboard"],function(e,n){return e.add("tabfocus",function(e){n.setup(e)}),function(){}}),t("tinymce.plugins.tabfocus.Plugin")()}();