!function(){var e={},n=function(n,t,i){if("string"!=typeof n)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+n;if(void 0===i)throw"no definition function for "+n;e[n]={deps:t,defn:i,instance:void 0}},t=function(n){var i=e[n];if(void 0===i)throw"module ["+n+"] was undefined";return void 0===i.instance&&function(n){for(var i=e[n],o=i.deps,r=i.defn,u=o.length,l=new Array(u),c=0;c<u;++c)l[c]=t(o[c]);var a=r.apply(null,l);if(void 0===a)throw"module ["+n+"] returned undefined";i.instance=a}(n),i.instance},i=function(e,n){for(var i=e.length,o=new Array(i),r=0;r<i;++r)o[r]=t(e[r]);n.apply(null,o)};({}).bolt={module:{api:{define:n,require:i,demand:t}}};var o=n,r=function(e,n){o(e,[],function(){return n})};r("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),r("global!window",window),o("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),o("tinymce.core.EditorManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.EditorManager")}),o("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.Env")}),o("tinymce.core.util.Delay",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Delay")}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.core.util.VK",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.VK")}),o("tinymce.plugins.tabfocus.api.Settings",[],function(){return{getTabFocus:function(e){return e.getParam("tab_focus",function(e){return e.getParam("tabfocus_elements",":prev,:next")}(e))}}}),o("tinymce.plugins.tabfocus.core.Keyboard",["global!window","tinymce.core.dom.DOMUtils","tinymce.core.EditorManager","tinymce.core.Env","tinymce.core.util.Delay","tinymce.core.util.Tools","tinymce.core.util.VK","tinymce.plugins.tabfocus.api.Settings"],function(e,n,t,i,o,r,u,l){var c=n.DOM,a=function(e){e.keyCode!==u.TAB||e.ctrlKey||e.altKey||e.metaKey||e.preventDefault()};return{setup:function(n){function s(a){function s(e){function i(e){return"BODY"===e.nodeName||"hidden"!==e.type&&"none"!==e.style.display&&"hidden"!==e.style.visibility&&i(e.parentNode)}function o(e){return/INPUT|TEXTAREA|BUTTON/.test(e.tagName)&&t.get(a.id)&&-1!==e.tabIndex&&i(e)}if(y=c.select(":input:enabled,*[tabindex]:not(iframe)"),r.each(y,function(e,t){if(e.id===n.id)return f=t,!1}),e>0){for(m=f+1;m<y.length;m++)if(o(y[m]))return y[m]}else for(m=f-1;m>=0;m--)if(o(y[m]))return y[m];return null}var f,y,d,m;if(!(a.keyCode!==u.TAB||a.ctrlKey||a.altKey||a.metaKey||a.isDefaultPrevented())&&(1===(d=r.explode(l.getTabFocus(n))).length&&(d[1]=d[0],d[0]=":prev"),y=a.shiftKey?":prev"===d[0]?s(-1):c.get(d[0]):":next"===d[1]?s(1):c.get(d[1]))){var g=t.get(y.id||y.name);y.id&&g?g.focus():o.setTimeout(function(){i.webkit||e.focus(),y.focus()},10),a.preventDefault()}}n.on("init",function(){n.inline&&c.setAttrib(n.getBody(),"tabIndex",null),n.on("keyup",a),i.gecko?n.on("keypress keydown",s):n.on("keydown",s)})}}}),o("tinymce.plugins.tabfocus.Plugin",["tinymce.core.PluginManager","tinymce.plugins.tabfocus.core.Keyboard"],function(e,n){return e.add("tabfocus",function(e){n.setup(e)}),function(){}}),t("tinymce.plugins.tabfocus.Plugin")()}();