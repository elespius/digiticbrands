!function(){var e={},n=function(n){for(var t=e[n],o=t.deps,r=t.defn,u=o.length,l=new Array(u),c=0;c<u;++c)l[c]=i(o[c]);var a=r.apply(null,l);if(void 0===a)throw"module ["+n+"] returned undefined";t.instance=a},t=function(n,t,i){if("string"!=typeof n)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+n;if(void 0===i)throw"no definition function for "+n;e[n]={deps:t,defn:i,instance:void 0}},i=function(t){var i=e[t];if(void 0===i)throw"module ["+t+"] was undefined";return void 0===i.instance&&n(t),i.instance},o=function(e,n){for(var t=e.length,o=new Array(t),r=0;r<t;++r)o[r]=i(e[r]);n.apply(null,o)};({}).bolt={module:{api:{define:t,require:o,demand:i}}};var r=t,u=function(e,n){r(e,[],function(){return n})};u("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),r("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),u("global!window",window),r("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),r("tinymce.core.EditorManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.EditorManager")}),r("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.Env")}),r("tinymce.core.util.Delay",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Delay")}),r("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),r("tinymce.core.util.VK",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.VK")}),r("tinymce.plugins.tabfocus.api.Settings",[],function(){var e=function(e){return e.getParam("tabfocus_elements",":prev,:next")};return{getTabFocus:function(n){return n.getParam("tab_focus",e(n))}}}),r("tinymce.plugins.tabfocus.core.Keyboard",["global!window","tinymce.core.dom.DOMUtils","tinymce.core.EditorManager","tinymce.core.Env","tinymce.core.util.Delay","tinymce.core.util.Tools","tinymce.core.util.VK","tinymce.plugins.tabfocus.api.Settings"],function(e,n,t,i,o,r,u,l){var c=n.DOM,a=function(e){e.keyCode!==u.TAB||e.ctrlKey||e.altKey||e.metaKey||e.preventDefault()};return{setup:function(n){function s(a){function s(e){function i(e){return"BODY"===e.nodeName||"hidden"!==e.type&&"none"!==e.style.display&&"hidden"!==e.style.visibility&&i(e.parentNode)}function o(e){return/INPUT|TEXTAREA|BUTTON/.test(e.tagName)&&t.get(a.id)&&-1!==e.tabIndex&&i(e)}if(y=c.select(":input:enabled,*[tabindex]:not(iframe)"),r.each(y,function(e,t){if(e.id===n.id)return f=t,!1}),e>0){for(m=f+1;m<y.length;m++)if(o(y[m]))return y[m]}else for(m=f-1;m>=0;m--)if(o(y[m]))return y[m];return null}var f,y,d,m;if(!(a.keyCode!==u.TAB||a.ctrlKey||a.altKey||a.metaKey||a.isDefaultPrevented())&&(1===(d=r.explode(l.getTabFocus(n))).length&&(d[1]=d[0],d[0]=":prev"),y=a.shiftKey?":prev"===d[0]?s(-1):c.get(d[0]):":next"===d[1]?s(1):c.get(d[1]))){var g=t.get(y.id||y.name);y.id&&g?g.focus():o.setTimeout(function(){i.webkit||e.focus(),y.focus()},10),a.preventDefault()}}n.on("init",function(){n.inline&&c.setAttrib(n.getBody(),"tabIndex",null),n.on("keyup",a),i.gecko?n.on("keypress keydown",s):n.on("keydown",s)})}}}),r("tinymce.plugins.tabfocus.Plugin",["tinymce.core.PluginManager","tinymce.plugins.tabfocus.core.Keyboard"],function(e,n){return e.add("tabfocus",function(e){n.setup(e)}),function(){}}),i("tinymce.plugins.tabfocus.Plugin")()}();